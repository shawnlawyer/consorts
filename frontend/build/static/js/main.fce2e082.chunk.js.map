{"version":3,"sources":["Auth.js","components/ProtectedRoute.js","components/Auth0Callback.js","Pusher.js","XHR.js","actions/agents.js","components/LeftMenu.js","Hooks.js","components/AgentIcon.js","components/ContextHead.js","components/Chat.js","components/RightFloatingChat.js","components/Page.js","components/HomePage.js","actions/modules.js","actions/lexicon.js","components/TextExpander.js","components/Loads.js","components/IntentPatternVariationForm.js","components/IntentPatternForm.js","components/ListOrEmpty.js","components/IntentPatternsList.js","components/IntentResponseForm.js","components/IntentResponsesList.js","components/IntentForm.js","components/ModuleIntent.js","components/ModuleForm.js","components/ModuleJSONForm.js","components/ModuleBuilder.js","components/AgentForm.js","components/Tooltip.js","components/Module.js","components/ModulesList.js","components/ModuleForms.js","components/AgentModules.js","components/Classify.js","components/Agent.js","components/AgentsList.js","components/PushListeners.js","components/BottomDrawerTextExpander.js","App.js","reducers/agent.js","reducers/agents.js","reducers/modules.js","reducers/module.js","reducers/index.js","store.js","index.js"],"names":["auth0Client","parseJwt","token","JSON","parse","atob","split","e","this","auth0","WebAuth","domain","process","audience","clientID","redirectUri","window","location","origin","responseType","scope","getProfile","bind","handleAuthentication","isAuthenticated","signIn","signOut","profile","idToken","accessToken","Date","getTime","expiresAt","authorize","Promise","resolve","reject","parseHash","err","authResult","setSession","idTokenPayload","permissions","exp","permission","includes","logout","returnTo","checkSession","headers","Authorization","ProtectedRoute","Component","component","rest","user","render","props","to","pathname","state","from","Auth0Callback","history","replace","withRouter","push","pusher","Pusher","cluster","encrypted","channels","channel","subscribe","bindings","key","callback","data","API_URL","xhr","endpoint","type","success","error","final","successCallback","errorCallback","finalCallback","dispatch","request","args","axios","get","apiAuthHeaders","post","patch","delete","console","log","then","response","catch","finally","defaults","baseURL","AGENT_TYPES","1","name","code","stringify","2","loadingAgents","payload","storeAgents","results","map","result","uuid","clearAgent","loadAgents","callbacks","loadAgent","bindAgentPushListeners","saveAgent","agents","getState","Object","values","agent","bindAction","message","buildStartMessage","buildCompleteMessage","buildErrorMessage","Sider","Menu","SubMenu","Layout","Header","Content","useState","collapsed","setCollapsed","defaultCollapsed","zeroWidthTriggerStyle","top","breakpoint","collapsedWidth","theme","style","zIndex","position","height","left","bottom","onBreakpoint","broken","onCollapse","mode","width","onClick","Item","icon","HomeOutlined","hasPermission","ShareAltOutlined","rotate","CommentOutlined","LogoutOutlined","LoginOutlined","useStore","store","useContext","ReactReduxContext","storeState","setStoreState","useEffect","AgentIcon","className","borderBottom","background","whiteSpace","paddingLeft","paddingRight","children","size","align","title","charAt","toUpperCase","Chat","identifier","match","params","setMessage","setResponse","handleChange","event","target","value","chat","preventDefault","form","onSubmit","onChange","placeholder","SendOutlined","padding","border","marginLeft","margin","item","Page","footer","header","right","trigger","shape","Footer","paddingTop","marginTop","HomePage","loadingModules","storeModules","storeModule","loadModules","loadModule","download","content","fileName","contentType","a","document","createElement","file","Blob","href","URL","createObjectURL","click","moduleJSON","module","intents","intent","patterns","length","pattern","text","responses","downloadModule","saveModule","agent_uuid","saveIntent","saveIntentPattern","saveIntentResponse","deleteModule","validateJSONNotification","notification","description","getTextVariations","Option","Select","TextExpander","setLoaded","setText","modified","setModified","variations","setVariations","autoSubmit","setAutoSubmit","expand","save","clearTimeout","setTimeout","direction","line","line_key","display","flexWrap","word","word_key","bordered","showArrow","id","nextVariations","nextLines","variation","nextText","join","trim","variationChange","dropdownMatchSelectWidth","_word","rows","PlusOutlined","reset","CloseOutlined","Loads","loaded","LoadingOutlined","spin","IntentPatternForm","buttonsDisabled","setButtonsDisabled","intent_uuid","saving","setSaving","deleting","setDeleting","viewExpandable","setViewExpandable","DownloadOutlined","disabled","NodeExpandOutlined","htmlType","SaveFilled","placement","onConfirm","deleteIntentPattern","okText","cancelText","DeleteFilled","ListOrEmpty","items","IntentPatternsList","is_locked","plain","index","IntentResponseForm","maxHeight","UploadOutlined","deleteIntentResponse","IntentResponsesList","IntentForm","module_uuid","setName","nextName","ModuleIntent","agent_type","listVisibility","setListVisibility","deleteIntent","CaretUpFilled","CaretDownFilled","ModuleForm","AppstoreOutlined","ModuleJSONForm","setCode","overflow","FileTextFilled","silent","validateJSON","fontSize","showPrintMargin","showGutter","highlightActiveLine","setOptions","showLineNumbers","tabSize","wrap","ModuleBuilder","codeVisible","setCodeVisible","downloading","setDownloading","deleted","setDeleted","dele","EyeFilled","CloudDownloadOutlined","AgentForm","Tooltip","mouseLeaveDelay","Module","settingNoiseFlag","setSettingNoiseFlag","is_noise","MenuUnfoldOutlined","flag","setModuleNoiseFlag","MenuFoldOutlined","ModulesList","modules","ind","ModuleForms","upload_props","multiple","showUploadList","action","info","status","fileList","minHeight","CloudUploadOutlined","AgentModules","Classify","input","setInput","setResults","classify","marginRight","Agent","detailVisibility","setDetailVisibility","settingMainFlag","setSettingMainFlag","settingLockFlag","setSettingLockFlag","settingTemplateFlag","setSettingTemplateFlag","copying","setCopying","overlayStyle","borderRadius","LockFilled","is_main","HomeFilled","is_template","deleteAgent","copyAgent","CopyOutlined","setAgentMainFlag","setAgentLockedFlag","UnlockOutlined","LockOutlined","setAgentTemplateFlag","FileTextOutlined","is_building","buildAgent","BuildFilled","AgentsList","filter","PushListeners","BottomDrawerTextExpander","App","checkingSession","setState","silentAuth","forceUpdate","exact","path","initialState","selected_module_id","combineReducers","middleware","applyMiddleware","promise","thunk","logger","createStore","reducer","getElementById"],"mappings":"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","file":"static/js/main.fce2e082.chunk.js","sourcesContent":["import auth0 from 'auth0-js';\n\nclass Auth {\n  constructor() {\n    this.auth0 = new auth0.WebAuth({\n      // the following three lines MUST be updated\n      domain: process.env.REACT_APP_AUTH0_DOMAIN,\n      audience: process.env.REACT_APP_AUTH0_API_AUDIENCE,\n      clientID: process.env.REACT_APP_AUTH0_CLIENT_ID,\n      redirectUri: window.location.origin + '/callback',\n      responseType: 'token id_token',\n      scope: 'openid profile'\n    });\n    /*  read:agents create:agents read:modules create:modules update:modules delete:agents update:agents */\n\n    this.getProfile = this.getProfile.bind(this);\n    this.handleAuthentication = this.handleAuthentication.bind(this);\n    this.isAuthenticated = this.isAuthenticated.bind(this);\n    this.signIn = this.signIn.bind(this);\n    this.signOut = this.signOut.bind(this);\n  }\n\n  getProfile() {\n    return this.profile;\n  }\n\n  getIdToken() {\n    return this.idToken;\n  }\n\n  getAccessToken() {\n    return this.accessToken;\n  }\n\n  isAuthenticated() {\n    return new Date().getTime() < this.expiresAt;\n  }\n\n  signIn() {\n    this.auth0.authorize();\n  }\n\n  handleAuthentication() {\n    return new Promise((resolve, reject) => {\n      this.auth0.parseHash((err, authResult) => {\n        if (err) return reject(err);\n        if (!authResult || !authResult.idToken) {\n          return reject(err);\n        }\n        this.setSession(authResult);\n        resolve();\n      });\n    })\n  }\n\n  setSession(authResult) {\n    this.idToken = authResult.idToken;\n    this.profile = authResult.idTokenPayload;\n    this.accessToken = authResult.accessToken;\n    try {\n        this.profile['permissions'] = this.parseJwt(authResult.accessToken).permissions;\n    }\n    catch(e){\n        this.profile['permissions'] = [];\n    }\n    this.expiresAt = authResult.idTokenPayload.exp * 1000;\n  }\n\n  hasPermission(permission) {\n    return (this.isAuthenticated() && this.profile['permissions'].includes(permission)) ? true : false;\n  }\n\n  parseJwt = (token) => {\n      try {\n          return JSON.parse(atob(token.split('.')[1]));\n      } catch (e) {\n          return null;\n      }\n   }\n\n  permissions() {\n    return this.profile.permissions;\n  }\n\n  signOut() {\n    this.auth0.logout({\n      returnTo: window.location.origin,\n      clientID: process.env.REACT_APP_AUTH0_CLIENT_ID,\n    });\n  }\n\n  silentAuth() {\n    return new Promise((resolve, reject) => {\n      this.auth0.checkSession({}, (err, authResult) => {\n        if (err) return reject(err);\n        this.setSession(authResult);\n        resolve();\n      });\n    });\n  }\n\n  apiAuthHeaders(){\n    return {\n        headers: { Authorization: `Bearer ${auth0Client.accessToken}` }\n    };\n  }\n}\n\nconst auth0Client = new Auth();\n\nexport default auth0Client;\n","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom';\nimport auth0Client from '../Auth';\n\nconst ProtectedRoute = ({ component: Component, user, ...rest }) => {\n  return (\n    <Route {...rest} render={\n      props => {\n        if (auth0Client.isAuthenticated()) {\n          return <Component {...rest} {...props} />\n        } else {\n          return <Redirect to={\n            {\n              pathname: '/',\n              state: {\n                from: props.location\n              }\n            }\n          } />\n        }\n      }\n    } />\n  )\n}\n\nexport default ProtectedRoute;\n","import React, {Component} from 'react';\nimport {withRouter} from 'react-router-dom';\nimport auth0Client from '../Auth';\n\nclass Auth0Callback extends Component {\n  async componentDidMount() {\n    await auth0Client.handleAuthentication();\n    this.props.history.replace('/');\n  }\n\n  render() {\n    return (\n      <p>Loading profile...</p>\n    );\n  }\n}\n\nexport default withRouter(Auth0Callback);\n","import Pusher from 'pusher-js';\n\nclass Push {\n\n    constructor() {\n        this.pusher = new Pusher(process.env.REACT_APP_PUSHER_KEY, {\n            cluster: process.env.REACT_APP_PUSHER_CLUSTER,\n            encrypted: true\n        });\n        this.channels = {}\n    }\n\n    subscribe(channel){\n        if (!(channel in this.channels)){\n            this.channels[channel] = {\n                channel: this.pusher.subscribe(channel),\n                bindings: []\n            }\n        }\n    }\n\n    bindAction(channel, key, callback){\n        this.subscribe(channel)\n        if (!(this.channels[channel].bindings.includes(key))){\n            this.channels[channel].bindings.push(key)\n            this.channels[channel].channel.bind(key, data => {\n              callback(data)\n            });\n        }\n    }\n\n}\n\nconst push = new Push();\n\nexport default push;\n","import axios from 'axios';\nimport auth0Client from './Auth';\n\nconst API_URL = window.location.origin + '/api'\n\naxios.defaults.baseURL = API_URL\n\nexport function xhr(props){\n    const {endpoint, type, data, success, error, final, successCallback, errorCallback, finalCallback } = props;\n\n    return function(dispatch){\n        let request = false;\n        let args = false;\n        switch(type){\n            case 'get':\n                request = axios.get;\n                args = [endpoint, auth0Client.apiAuthHeaders()];\n                break;\n            case 'post':\n                request = axios.post;\n                args = [endpoint, data, auth0Client.apiAuthHeaders()];\n                break;\n            case 'patch':\n                request = axios.patch;\n                args = [endpoint, data, auth0Client.apiAuthHeaders()];\n                break;\n            case 'delete':\n                request = axios.delete;\n                args = [endpoint, auth0Client.apiAuthHeaders()];\n                break;\n            default:\n                console.log('error, no type defined on xhr call')\n                return;\n        }\n\n        request(...args)\n        .then((response) => {\n            if(typeof(success) === 'function'){\n                success(response)\n            }\n            if(typeof(successCallback) === 'function'){\n                successCallback()\n            }\n        }).catch((err) => {\n            if(typeof(error) === 'function'){\n                error(err)\n            }\n            if(typeof(errorCallback) === 'function'){\n                errorCallback()\n            }\n        }).finally(() => {\n            if(typeof(final) === 'function'){\n                final()\n            }\n            if(typeof(finalCallback) === 'function'){\n                finalCallback()\n            }\n        })\n    }\n};\n","import React from 'react'\nimport push from '../Pusher';\nimport { message } from 'antd';\nimport { xhr } from '../XHR'\nimport { CommentOutlined, LoadingOutlined, ShareAltOutlined } from '@ant-design/icons';\n\nexport const AGENT_TYPES = {\n    1: {\n        name:[\"Classifier\", \"Classifiers\"],\n        code: JSON.stringify({\n            \"name\": \"example\",\n            \"intents\": [\n                {\n                    \"name\": \"greeting\",\n                    \"patterns\": [\n                        {\n                          \"text\": \"Hello\"\n                        }\n                    ]\n                }\n            ]\n        }, null, 2)\n    },\n    2: {name:[\"Chat Bot\", \"Chat Bots\"],\n        code: JSON.stringify({\n            \"name\": \"example\",\n            \"intents\": [\n                {\n                    \"name\": \"greeting\",\n                    \"patterns\": [\n                        {\n                          \"text\": \"Hello\"\n                        }\n                    ],\n                    \"responses\": [\n                        {\n                          \"text\": \"Hello World\"\n                        }\n                    ]\n                }\n            ]\n        }, null, 2)}\n}\n\nexport function loadingAgents(){\n  return {\n    type: 'LOADING_AGENTS',\n    payload: null\n  }\n};\n\nexport function storeAgents(results){\n  let payload = {};\n  results.map((result) => { payload[result.uuid] = result})\n  return {\n    type: 'STORE_AGENTS',\n    payload: payload\n  }\n};\n\nexport function storeAgent(response){\n  return {\n    type: 'STORE_AGENT',\n    payload: {[response.data.result.uuid]:response.data.result}\n  }\n};\n\nexport function clearAgent(uuid){\n  return {\n    type: 'CLEAR_AGENT',\n    payload: uuid\n  }\n};\n\nexport function loadAgents(callbacks={}){\n    return function(dispatch){\n        const { success, error, final } = callbacks;\n        const endpoint = `/agents`;\n        const type = 'get';\n        dispatch(loadingAgents);\n        dispatch(xhr({\n            endpoint: endpoint,\n            type: type,\n            success : (response) => {\n                dispatch(storeAgents(response.data.results))\n                //dispatch(bindAgentPushListeners())\n            },\n            successCallback: success,\n            error: err => {\n                console.log(err)\n                dispatch(storeAgents([]));\n            },\n            errorCallback: error,\n            finalCallback: final,\n        }));\n    }\n};\n\nexport function loadAgent(uuid, callbacks={}){\n    return function(dispatch){\n        const { success, error, final } = callbacks;\n        const endpoint = `/agents/${uuid}`;\n        const type = 'get';\n        dispatch(xhr({\n            endpoint: endpoint,\n            type: type,\n            success : (response) => {\n                dispatch(storeAgents([response.data.result]))\n                dispatch(bindAgentPushListeners())\n            },\n            successCallback: success,\n            error: err => {\n                dispatch(storeAgents([]));\n            },\n            errorCallback: error,\n            finalCallback: final,\n        }));\n    }\n};\n\nexport function saveAgent(data, callbacks={}){\n    return function(dispatch){\n        const { success, error, final } = callbacks;\n        const { uuid } = data;\n        const type = uuid ? 'patch' : 'post';\n        const endpoint = uuid ? `/agents/${uuid}` : `/agents`;\n        dispatch(xhr({\n            type: type,\n            endpoint: endpoint,\n            data: {data},\n            success : (response) => {\n                dispatch(loadAgents({final: final}))\n            },\n            successCallback: success,\n            errorCallback: error\n        }));\n    }\n};\n\nexport function copyAgent(uuid, callbacks={}){\n    return function(dispatch){\n        const { success, error, final } = callbacks;\n        const type = 'post';\n        const endpoint = `/agents/${uuid}/copy`;\n        dispatch(xhr({\n            type: type,\n            endpoint: endpoint,\n            data: {},\n            success : (response) => {\n                dispatch(storeAgents([response.data.result]))\n            },\n            successCallback: success,\n            errorCallback: error,\n            finalCallback:final\n        }));\n    }\n};\n\nexport function deleteAgent(uuid, callbacks={}){\n    return function(dispatch){\n        const { success, error, final } = callbacks;\n        const endpoint = `/agents/${uuid}`;\n        const type = 'delete';\n        dispatch(xhr({\n            endpoint: endpoint,\n            type: type,\n            success : (response) => {\n                dispatch(clearAgent(uuid))\n            },\n            successCallback: success,\n            errorCallback: error,\n            finalCallback: final\n        }));\n    }\n};\n\nexport function postAgentModule(data, callbacks={}){\n    return function(dispatch){\n        const { success, error, final } = callbacks;\n        const endpoint = `/agents/${data.uuid}/modules`;\n        const type = 'post';\n        dispatch(xhr({\n            endpoint: endpoint,\n            type: type,\n            data: {data},\n            success : (response) => {\n                dispatch(loadAgents({final: final}))\n            },\n            successCallback: success,\n            errorCallback: error\n        }));\n    }\n};\n\nexport function deleteAgentModule(data, callbacks={}){\n    return function(dispatch){\n        const { success, error, final } = callbacks;\n        const endpoint = `/agents/modules/${data.uuid}`;\n        const type = 'delete';\n        dispatch(xhr({\n            endpoint: endpoint,\n            type: type,\n            success : (response) => {\n                dispatch(loadAgents({final: final}))\n            },\n            successCallback: success,\n            errorCallback: error\n        }));\n    }\n};\n\nexport function setAgentTemplateFlag(data, callbacks={}){\n    return function(dispatch){\n        const { success, error, final } = callbacks;\n        const endpoint = `/agents/${data.uuid}/template/${data.flag}`;\n        const type = 'patch';\n        dispatch(xhr({\n            endpoint: endpoint,\n            type: type,\n            data: {},\n            success : (response) => {\n                dispatch(storeAgents([response.data.result]))\n            },\n            successCallback: success,\n            errorCallback: error,\n            finalCallback: final\n        }));\n    }\n};\n\nexport function setAgentLockedFlag(data, callbacks={}){\n    return function(dispatch){\n        const { success, error, final } = callbacks;\n        const endpoint = `/agents/${data.uuid}/locked/${data.flag}`;\n        const type = 'patch';\n        dispatch(xhr({\n            endpoint: endpoint,\n            type: type,\n            data: {},\n            success : (response) => {\n                dispatch(storeAgents([response.data.result]))\n            },\n            successCallback: success,\n            errorCallback: error,\n            finalCallback: final\n        }));\n    }\n};\n\nexport function setAgentMainFlag(data, callbacks={}){\n    return function(dispatch){\n        const { success, error, final } = callbacks;\n        const endpoint = `/agents/${data.uuid}/main/${data.flag}`;\n        const type = 'patch';\n        dispatch(xhr({\n            endpoint: endpoint,\n            type: type,\n            data: {},\n            success : (response) => {\n                dispatch(storeAgents(response.data.results))\n            },\n            successCallback: success,\n            errorCallback: error,\n            finalCallback: final\n        }));\n    }\n};\n\nexport function buildAgent(uuid, callbacks={}){\n    return function(dispatch, getState){\n        const { success, error, final } = callbacks;\n        const type = 'post';\n        const endpoint = `/agents/${uuid}/build`;\n        dispatch(xhr({\n            type: type,\n            endpoint: endpoint,\n            data: {},\n            success : (response) => {\n            },\n            successCallback: success,\n            errorCallback: error,\n            finalCallback: final\n        }));\n    }\n};\n\nexport function bindAgentPushListeners(agents){\n  return function(dispatch, getState){\n    Object.values(agents).map((agent) => {\n        push.bindAction(agent.uuid, 'start', (data) => {dispatch(buildStartMessage(data))})\n        push.bindAction(agent.uuid, 'complete', (data) => {dispatch(buildCompleteMessage(data))})\n        push.bindAction(agent.uuid, 'error', (data) => {dispatch(buildErrorMessage(data))})\n        push.bindAction(agent.uuid, 'reload', (data) => {dispatch(loadAgent(data.uuid))})\n        push.bindAction(agent.uuid, 'store', (data) => {dispatch(storeAgents(data.results))})\n        push.bindAction(agent.uuid, 'clear', (data) => {dispatch(clearAgent(data.uuid))})\n    })\n  }\n}\n\nexport function buildStartMessage(data){\n  return function(dispatch, getState){\n    message.success(`Agent ${data.name} build started.`);\n    dispatch(storeAgents([data]))\n  }\n};\n\nexport function buildCompleteMessage(data){\n  return function(dispatch, getState){\n     message.success(`Agent ${data.name} build complete.`);\n     dispatch(storeAgents([data]))\n  }\n};\n\nexport function buildErrorMessage(data){\n  return function(dispatch, getState){\n     message.error(`There was an error building agent ${data.name}.`);\n     dispatch(storeAgents([data]))\n  }\n};\n","import React, { useState } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport auth0Client from '../Auth';\nimport { AGENT_TYPES } from '../actions/agents';\nimport { Layout, Menu } from 'antd';\nimport { CommentOutlined, HomeOutlined, AppstoreOutlined, SettingOutlined, ShareAltOutlined, UserOutlined, LogoutOutlined, LoginOutlined } from '@ant-design/icons';\nimport 'antd/dist/antd.css';\n\nconst { SubMenu } = Menu;\nconst { Header, Content, Sider } = Layout;\n\nfunction LeftMenu(props) {\n    const [collapsed, setCollapsed] = useState(true);\n\n    const signOut = () => {\n        auth0Client.signOut();\n        props.history.replace('/');\n    };\n\n    const collapse = () => {\n        setCollapsed(true);\n    };\n\n\n\n    return (\n        <Sider\n         collapsed={collapsed}\n         defaultCollapsed={true}\n         zeroWidthTriggerStyle={{top:0}}\n         breakpoint=\"xxl\"\n         collapsedWidth={0}\n         theme=\"light\"\n         style={{zIndex:'1000', position: 'fixed', height: '100vh', top: 0 , left: 0 , bottom: 0 }}\n         onBreakpoint={broken => {\n            console.log(broken);\n          }}\n          onCollapse={(collapsed, type) => {\n            setCollapsed(collapsed);\n          }}\n         >\n            <Menu mode=\"inline\" theme=\"light\" style={{ top:0, bottom: 0, width: '100%', height: '100%' }} onClick={collapse}>\n                <Menu.Item key=\"home\" icon={<HomeOutlined />}><Link to='/'>Consorts Home</Link></Menu.Item>\n                { auth0Client.hasPermission('read:agents') &&\n                <Menu.Item key=\"classifiers\" icon={<ShareAltOutlined rotate={270}/>}>\n                    <Link to='/classifiers'>{AGENT_TYPES[1]['name'][1]}</Link>\n                </Menu.Item>\n                }\n                { auth0Client.hasPermission('read:agents') &&\n                <Menu.Item key=\"chatbots\" icon={<CommentOutlined/>}>\n                    <Link to='/chatbots'>{AGENT_TYPES[2]['name'][1]}</Link>\n                </Menu.Item>\n                }\n                { auth0Client.isAuthenticated() ?\n                <Menu.Item key=\"logout\" icon={<LogoutOutlined />} onClick={() => {signOut()}}>\n                    Sign Out\n                </Menu.Item>\n                :\n                <Menu.Item key=\"login\" icon={<LoginOutlined />} onClick={auth0Client.signIn}>\n                    Sign In\n                </Menu.Item>\n                }\n            </Menu>\n        </Sider>\n    );\n}\n\nexport default withRouter(LeftMenu);\n","import React, {useContext, useState, useEffect} from 'react';\nimport {ReactReduxContext} from 'react-redux';\n\nexport function useStore() {\n  const { store } = useContext(ReactReduxContext);\n  const { getState, dispatch, subscribe } = store;\n\n  const [ storeState, setStoreState ] = useState(getState());\n\n  useEffect(() => subscribe(() => {\n    setStoreState(getState());\n  }, []));\n\n  return [storeState, dispatch];\n}\n\nexport function useSelectors(...selectors) {\n  const [state] = useStore();\n  return selectors.map(selector => selector(state));\n}\n\nexport function useDispatch(...creators) {\n  const [, dispatch] = useStore();\n  return creators.map(creator => (...param) => dispatch(creator(...param)))\n}\n","import React from 'react';\nimport { CommentOutlined, ShareAltOutlined } from '@ant-design/icons';\n\nexport default function AgentIcon(props) {\n    const {type} = props;\n    switch(type){\n        case 1:\n           return ( <ShareAltOutlined rotate={270}/> );\n        case 2:\n           return ( <CommentOutlined /> );\n        default:\n           return null;\n    }\n}\n","import React from 'react';\nimport {Link, withRouter} from 'react-router-dom';\nimport auth0Client from '../Auth';\nimport { Space, Layout, Button, Avatar } from 'antd';\nimport { CommentOutlined, HomeOutlined, AppstoreOutlined, SettingOutlined, ShareAltOutlined, MenuOutlined, UserOutlined, LoginOutlined } from '@ant-design/icons';\nimport 'antd/dist/antd.css';\nimport { AGENT_TYPES } from '../actions/agents';\n\nconst { Header } = Layout;\n\nfunction ContextHead(props) {\n\n    const signOut = () => {\n        auth0Client.signOut();\n        props.history.replace('/');\n    };\n\n    return (\n        <div className=\"list no-margin-padding\">\n            <div className=\"grid no-margin-padding\" style={{ borderBottom: '1px solid #f0f0f0', background:'#fff', zIndex:'999', whiteSpace: 'nowrap', position: 'fixed', top:'0', left:'0', paddingLeft:'3em', paddingRight:'.6em'}}>\n                { props.children ||\n                    <Space size=\"small\" align=\"center\" style={{height: '3em'}}>\n                        { props.icon }\n                        { props.title }\n                    </Space>\n                }{ auth0Client.isAuthenticated() &&\n                <Space align=\"center\">\n                    <Avatar size=\"medium\">\n                        { auth0Client.getProfile().name.charAt(0).toUpperCase() }\n                    </Avatar>\n                </Space>\n                }\n            </div>\n        </div>\n\n    );\n}\n\nexport default withRouter(ContextHead);\n","import React, { useState } from 'react';\nimport { useStore } from '../Hooks'\nimport auth0Client from '../Auth';\nimport AgentIcon from './AgentIcon';\nimport Page from './Page';\nimport ContextHead from './ContextHead';\nimport { AGENT_TYPES } from '../actions/agents';\nimport axios from 'axios';\nimport { Layout, Menu, Space } from 'antd';\nimport { CommentOutlined, SendOutlined } from '@ant-design/icons';\nimport 'antd/dist/antd.css';\nimport '../stylesheets/App.css';\n\nconst API_URL = window.location.origin + '/api'\n\nconst { Content, Sider } = Layout;\n\nexport default function Chat(props){\n\n    const [, dispatch] = useStore();\n    const [buttonsDisabled, setButtonsDisabled] = useState(false);\n    const { type } = props;\n    const { identifier } = props.identifier || props.match.params.identifier;\n    const [message, setMessage] = useState(\"\");\n    const [response, setResponse] = useState(\"\");\n\n    const handleChange = (event) => {\n        setMessage(event.target.value);\n    }\n\n    const chat = (event) => {\n        event.preventDefault();\n        axios.post(`${API_URL}/chat/${props.identifier || props.match.params.identifier}`, {message: message})\n         .then((response) => {\n            setResponse(response.data.response);\n            setMessage(\"\");\n         });\n    }\n\n    const form = () => {\n      return (\n           <form className=\"grid\" onSubmit={chat}>\n                <div className=\"component terraced\">\n                    <input name=\"message\" className=\"chat-input\" onChange={handleChange} value={message} placeholder=\"Type here.\"/>\n                    <div className=\"options\">\n                        <div onClick={chat} className=\"chat-input-send\"><SendOutlined /> </div>\n                    </div>\n                </div>\n           </form>\n      );\n    }\n\n    const page = () => {\n        return (\n        <Page\n            footer={<div className=\"footer\">{form()}</div>}\n            header={ <ContextHead icon={<AgentIcon type={2}/>} title={ `${AGENT_TYPES[2]['name'][1]} > Chat` } /> }>\n\n            <Layout style={{background:'#fff'}}>\n            <div className=\"chat-responses\" style={{margin:'1em'}}>\n                {response.split('\\n').map((item, key) => {\n                    return <span key={key}>{item}<br/></span>\n                })}\n            </div>\n\n            </Layout>\n        </Page>\n        );\n    }\n\n    const inline = () => {\n        return (\n            <div className=\"component terraced\" style={{ background:'#fff', height:'100%' }}>\n                <div className=\"list no-margin-padding-border\" style={{ height:'100%' }}>\n                    <Space align=\"center\" style={{padding: 0, height:'3.5em', border:0}}>\n                        <span style={{marginLeft:'1em'}}><AgentIcon type={2} /> Chat</span>\n                    </Space>\n                    <Content style={{ background:'#fff'}}>\n                        <div className=\"chat-responses\" style={{margin:'1em'}}>\n                        {response.split('\\n').map((item, key) => {\n                            return <span key={key}>{item}<br/></span>\n                        })}\n                        </div>\n                    </Content>\n                    {form()}\n                </div>\n            </div>\n        );\n    }\n\n    switch(type){\n        case \"inline\":\n            return inline()\n        case \"page\" :\n        default:\n            return page()\n    }\n}\n","import React, { useState } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport auth0Client from '../Auth';\nimport Chat from './Chat';\nimport { AGENT_TYPES } from '../actions/agents';\nimport { Layout, Button } from 'antd';\nimport { CommentOutlined } from '@ant-design/icons';\n\nconst { Header, Content, Sider } = Layout;\n\nfunction RightFloatingChat(props) {\n    const [collapsed, setCollapsed] = useState(true);\n\n    const signOut = () => {\n        auth0Client.signOut();\n        props.history.replace('/');\n    };\n\n    const collapse = () => {\n        setCollapsed(true);\n    };\n\n\n\n    return (\n        <Sider\n         collapsed={collapsed}\n         defaultCollapsed={true}\n         zeroWidthTriggerStyle={{position:'fixed', right: '2.5em', background:'none', top:'-.1em'}}\n         breakpoint=\"xxl\"\n         width=\"98vw\"\n         collapsedWidth={0}\n         theme=\"light\"\n         trigger={<Button size=\"small\" shape=\"circle\" icon={<CommentOutlined />} type=\"primary\" style={{}} />}\n         style={{bottom: '1vh', zIndex:'1002', position: 'fixed', height:'90vh', right: collapsed ? 0 : '1vw', background:'none'}}\n         onCollapse={(collapsed, type) => {\n            setCollapsed(collapsed);\n         }}\n         >\n            <Chat identifier=\"main\" type=\"inline\"/>\n        </Sider>\n    );\n}\n\nexport default withRouter(RightFloatingChat);\n","import React, { Component } from 'react';\nimport LeftMenu from './LeftMenu';\nimport RightFloatingChat from './RightFloatingChat';\nimport { Layout } from 'antd';\nconst { Content, Footer } = Layout;\n\nexport default function Page(props) {\n  return (\n    <Layout style={{ background:'#fff' }}>\n        { props.header ?\n            <div>\n            {props.header}\n            </div>\n        : null }\n        <Content className=\"site-layout\" style={{ paddingTop: '.5em', marginTop: props.header ? '3em' : '0', background:'#fff'}}>\n            {props.children}\n        </Content>\n        { props.footer ?\n            <Footer style={{ background:'#fff'}}>\n                {props.footer}\n            </Footer>\n        : null }\n    </Layout>\n  );\n}\n","import React, { Component } from 'react';\nimport auth0Client from '../Auth';\nimport Page from './Page';\nimport ContextHead from './ContextHead';\nimport Chat from './Chat';\n\nexport default function HomePage() {\n    return (<Page\n            header={<ContextHead title=\"Consorts\" />}\n            footer={<div className=\"footer\">Consorts By Shawn Lawyer 331 Wilson Ave, Swannanoa NC 28778</div>} />\n\n    );\n}\n","import axios from 'axios';\nimport { notification } from 'antd';\nimport { xhr } from '../XHR'\n\nimport { handleCallbacks } from '../Callbacks'\nimport auth0Client from '../Auth';\nimport { loadAgents, loadAgent } from './agents';\n\nexport function loadingModules(){\n  return {\n    type: 'LOADING_MODULES',\n    payload: null\n  }\n};\n\nexport function storeModules(response){\n  const results = {}\n  response.data.results.map((result) => {results[result.uuid]=result})\n  return {\n    type: 'STORE_MODULES',\n    payload: results\n  }\n};\n\nexport function storeModule(response){\n  return {\n    type: 'STORE_MODULE',\n    payload: response.data.result\n  }\n};\n\nexport function clearModule(){\n  return {\n    type: 'CLEAR_MODULE',\n    payload: null\n  }\n};\n\nexport function loadModules(callbacks={}){\n    return function(dispatch){\n        const { success, error, final } = callbacks;\n        const type = 'get';\n        const endpoint = `/modules`;\n        dispatch(loadingModules);\n        dispatch(xhr({\n            type: type,\n            endpoint: endpoint,\n            success : (response) => {\n                dispatch(storeModules(response))\n            },\n            successCallback: success,\n            error: err => {\n                dispatch(storeModules({data:{results:[]}}));\n            },\n            errorCallback: error,\n            finalCallback: final\n        }));\n    }\n};\n\nexport function loadModule(uuid, callbacks={}){\n    return function(dispatch){\n        const { success, error, final } = callbacks;\n        const type = 'get';\n        const endpoint = `/modules/${uuid}`;\n        dispatch(xhr({\n            type: type,\n            endpoint: endpoint,\n            success : (response) => {\n                dispatch(storeModule(response))\n            },\n            successCallback: success,\n            error: err => {\n                dispatch(storeModule({data:{results:[]}}));\n            },\n            errorCallback: error,\n            finalCallback: final\n        }));\n    }\n};\n\nfunction download(content, fileName, contentType) {\n    const a = document.createElement(\"a\");\n    const file = new Blob([content], { type: contentType });\n    a.href = URL.createObjectURL(file);\n    a.download = fileName;\n    a.click();\n};\n\n/*\nfunction download(content, fileName, contentType) {\n    const a = document.createElement(\"a\");\n    const file = new Blob([content], { type: contentType });\n    a.href = URL.createObjectURL(file);\n    a.download = fileName;\n    a.click();\n};\n\nmodules = data.data.map((module) => {\n    let intents = [];\n    module.paragraphs.map((paragraph) => {\n        paragraph.qas.map((intent) => {\n          let result = {name: intent.id};\n          result['patterns'] = intent.patterns.map((pattern) => { return {text: pattern.text} });\n          result['responses'] = intent.responses.map((response) => { return {text: response.text} });\n          intents.push(result);\n        })\n    })\n    download(JSON.stringify({\n        name: module.title,\n        intents: intents\n    }, null, 2), `${module.title}.json`, \"text/plain\")\n});\n\n*/\nexport function moduleJSON(module){\n    const {name, intents, type} = module;\n\n    const data = {\n        name: name,\n        intents: intents.map((intent) => {\n            let result = {name: intent.name};\n            if (typeof(intent.patterns) === 'object' && intent.patterns.length){\n                result['patterns'] = intent.patterns.map((pattern) => { return {text: pattern.text} });\n            }\n            switch(type){\n                case 1:\n                    break;\n                case 2:\n                default:\n                    if (typeof(intent.responses) === 'object' && intent.responses.length){\n                        result['responses'] = intent.responses.map((response) => { return {text: response.text} });\n                    }\n\n                    break;\n\n            }\n            return result;\n        })\n    };\n    return JSON.stringify(data, null, 2)\n}\n\nexport function downloadModule(uuid, callbacks={}){\n    return function(dispatch){\n        const { success, error, final } = callbacks;\n        const type = 'get';\n        const endpoint = `/modules/${uuid}`;\n        dispatch(xhr({\n            type: type,\n            endpoint: endpoint,\n            success : (response) => {\n                download(moduleJSON(response.data.result), `${response.data.result.name.replace(' ','_')}.json`, \"text/plain\");\n            },\n            successCallback: success,\n            errorCallback: error,\n            finalCallback: final\n        }));\n    }\n};\n\nexport function saveModule(data, callbacks={}){\n    return function(dispatch){\n        const { success, error, final } = callbacks;\n        const { uuid } = data;\n        const type = uuid ? 'patch' : 'post';\n        const endpoint = uuid ? `/modules/${uuid}` : `/modules`;\n\n        dispatch(xhr({\n            type: type,\n            endpoint: endpoint,\n            data: {data},\n            success : (response) => {\n                dispatch(storeModule(response))\n                dispatch(loadModules({final: final}))\n                dispatch(loadAgent(data.agent_uuid))\n            },\n            successCallback: success,\n            errorCallback: error\n        }));\n    }\n};\n\nexport function saveIntent(data, callbacks={}){\n    return function(dispatch, getState){\n        const { success, error, final } = callbacks;\n        const { uuid } = data;\n        const type = uuid ? 'patch' : 'post';\n        const endpoint = uuid ? `/intents/${uuid}` : `/intents`;\n        const module = getState().module;\n\n        dispatch(xhr({\n            type: type,\n            endpoint: endpoint,\n            data: {data},\n            success : (response) => {\n                dispatch(loadModule(module.uuid, callbacks))\n            },\n            successCallback: success,\n            errorCallback: error\n        }));\n    }\n};\n\nexport function saveIntentPattern(data, callbacks={}){\n    return function(dispatch, getState){\n        const { success, error, final } = callbacks;\n        const { uuid } = data;\n        const type = uuid ? 'patch' : 'post';\n        const endpoint = uuid ? `/intent/patterns/${uuid}` : `/intent/patterns`;\n        const module = getState().module;\n\n        dispatch(xhr({\n            type: type,\n            endpoint: endpoint,\n            data: {data},\n            success : (response) => {\n                dispatch(loadModule(module.uuid, callbacks))\n            },\n            successCallback: success,\n            errorCallback: error\n        }));\n    }\n};\n\nexport function saveIntentResponse(data, callbacks={}){\n    return function(dispatch, getState){\n        const { success, error, final } = callbacks;\n        const { uuid } = data;\n        const type = uuid ? 'patch' : 'post';\n        const endpoint = uuid ? `/intent/responses/${uuid}` : `/intent/responses`;\n        const module = getState().module;\n\n        dispatch(xhr({\n            type: type,\n            endpoint: endpoint,\n            data: {data},\n            success : (response) => {\n                dispatch(loadModule(module.uuid, callbacks))\n            },\n            successCallback: success,\n            errorCallback: error\n        }));\n    }\n};\n\nexport function deleteModule(uuid, callbacks={}){\n    return function(dispatch, getState){\n        const { success, error, final } = callbacks;\n        const type = 'delete';\n        const endpoint = `/modules/${uuid}`;\n        dispatch(xhr({\n            type: type,\n            endpoint: endpoint,\n            success : (response) => {\n                dispatch(loadModules({final:final}))\n            },\n            successCallback: success,\n            errorCallback: error\n        }));\n\n    }\n};\n\nexport function deleteIntent(uuid, callbacks={}){\n    return function(dispatch, getState){\n        const { success, error, final } = callbacks;\n        const type = 'delete';\n        const endpoint = `/intents/${uuid}`;\n        const module = getState().module;\n\n        dispatch(xhr({\n            type: type,\n            endpoint: endpoint,\n            success : (response) => {\n                dispatch(loadModule(module.uuid, {final:final}))\n            },\n            successCallback: success,\n            errorCallback: error\n        }));\n\n    }\n};\n\nexport function deleteIntentPattern(uuid, callbacks={}){\n    return function(dispatch, getState){\n        const { success, error, final } = callbacks;\n        const type = 'delete';\n        const endpoint = `/intent/patterns/${uuid}`;\n        const module = getState().module;\n\n        dispatch(xhr({\n            type: type,\n            endpoint: endpoint,\n            success : (response) => {\n                dispatch(loadModule(module.uuid, {final:final}))\n            },\n            successCallback: success,\n            errorCallback: error\n        }));\n    }\n};\n\nexport function deleteIntentResponse(uuid, callbacks={}){\n    return function(dispatch, getState){\n        const { success, error, final } = callbacks;\n        const type = 'delete';\n        const endpoint = `/intent/responses/${uuid}`;\n        const module = getState().module;\n\n        dispatch(xhr({\n            type: type,\n            endpoint: endpoint,\n            success : (response) => {\n                dispatch(loadModule(module.uuid, {final:final}))\n            },\n            successCallback: success,\n            errorCallback: error\n        }));\n    }\n};\n\nexport function setModuleNoiseFlag(data, callbacks={}){\n    return function(dispatch){\n        const { success, error, final } = callbacks;\n        const endpoint = `/modules/${data.uuid}/noise/${data.flag}`;\n        const type = 'patch';\n        dispatch(xhr({\n            endpoint: endpoint,\n            type: type,\n            data: {},\n            success : (response) => {\n                //dispatch(loadModules({final:final}))\n            },\n            successCallback: success,\n            errorCallback: error,\n            finalCallback: final\n        }));\n    }\n};\n\nexport function validateJSON(text, silent=false){\n    try {\n        JSON.parse(text);\n    } catch (e) {\n        if(!silent){\n            validateJSONNotification()\n        }\n        return false;\n    }\n    return true;\n};\n\nexport function validateJSONNotification(data){\n    notification['error']({\n        message: 'Error',\n        description:\n          `The template is not properly formatted JSON`,\n    });\n};\n\n\nexport function getIntentPatternVariations(uuid, callbacks={}){\n    return function(dispatch, getState){\n        const { success, error, final } = callbacks;\n        const type = 'get';\n        const endpoint = `/intent/patterns/${uuid}/variations`;\n        const module = getState().module;\n\n        dispatch(xhr({\n            type: type,\n            endpoint: endpoint,\n            success : (response) => {\n                success(response)\n            },\n            errorCallback: error,\n            finalCallback: final,\n        }));\n    }\n};\n\n\n","import axios from 'axios';\nimport { notification } from 'antd';\nimport { xhr } from '../XHR'\n\nimport { handleCallbacks } from '../Callbacks'\nimport auth0Client from '../Auth';\n\nexport function getTextVariations(text, callbacks={}){\n    return function(dispatch, getState){\n        const { success, error, final } = callbacks;\n        const type = 'post';\n        const endpoint = `/lexicon/variations`;\n\n        dispatch(xhr({\n            type: type,\n            endpoint: endpoint,\n            data:{text:text},\n            success : (response) => {\n                success(response)\n            },\n            errorCallback: error,\n            finalCallback: final,\n        }));\n    }\n};\n\n\n","import React, { useState, useEffect } from 'react';\nimport { useStore } from '../Hooks';\nimport { getTextVariations } from '../actions/lexicon';\nimport { Button, Space, Select } from 'antd';\nimport { NodeExpandOutlined, LoadingOutlined, CloseOutlined, CommentOutlined, PlusOutlined } from '@ant-design/icons';\n\nconst { Option } = Select;\n\nexport default function TextExpander(props) {\n    const [, dispatch] = useStore();\n    const [collapsed, setCollapsed] = useState(false);\n    const [loaded, setLoaded] = useState(false);\n    const [text, setText] = useState(props.text || '');\n    const [modified, setModified] = useState(false);\n    const [variations, setVariations] = useState([]);\n    const [autoSubmit, setAutoSubmit] = useState(false);\n\n    const expand = (event=null) => {\n        if(event){\n            event.preventDefault()\n        }\n        if (text == '' ) return;\n        const callbacks = {\n            success: (response) => { setVariations(response.data.results)},\n            error: () => { setVariations([]) },\n            final: () => { setLoaded(true) },\n        }\n        setLoaded(false);\n        dispatch(getTextVariations(text, callbacks));\n    };\n\n    const save = (event=null) => {\n        if(event){\n            event.preventDefault();\n        }\n        if(props.save){\n            props.save({...props.data, text: text});\n        }\n    };\n\n    const textChange = (event) => {\n        let nextText = event.target.value\n        nextText = nextText.replace('', '\\'').replace('', '\\'').replace(' ?', '?').replace(' .', '.').replace(' !', '!').replace(' ,', ',').replace(' \\'', '\\'').replace(' \"', '\"')\n        setText(nextText);\n        setModified((nextText !== props.text && nextText !== \"\") ? true : false);\n    }\n\n    useEffect(() => {\n        clearTimeout(autoSubmit)\n        setAutoSubmit(setTimeout(expand, 300))\n    },[text]);\n\n    const variationChange = (id, key, line) => {\n        let nextVariations = [...variations];\n        nextVariations[line][key][0] = variations[line][key][1][id];\n        setVariations(nextVariations);\n        let nextLines = [];\n        nextVariations.map((line, line_key) => {\n            nextLines[line_key]=[]\n            line.map(variation => {\n                nextLines[line_key].push(variation[0])\n            });\n        });\n        let nextText = nextLines.map((line, line_key) => {\n            return line.join(' ').trim()\n\n        }).join('\\n');\n        nextText = nextText.replace('', '\\'').replace('', '\\'').replace(' ?', '?').replace(' .', '.').replace(' !', '!').replace(' ,', ',').replace(' \\'', '\\'').replace(' \"', '\"')\n        setText(nextText);\n        setModified(true);\n    }\n\n    const reset = () => {\n        if(props.reset){\n            props.reset();\n        }\n        setText(props.text || '');\n        setModified(false);\n        setVariations([]);\n    };\n\n    return (\n            <Space direction=\"vertical\" style={{width:'100%'}}>\n                { variations.length !== 0 &&\n                <div className=\"head\" style={{borderBottom:'1px solid #ccc'}}>\n                    { variations.map((line, line_key) => (\n                        <div style={{display:'flex', flexWrap:'wrap'}}>\n                            { line.length !== 0 && line.map((word, word_key) => (\n                                word[1].length == 0\n                                    ? (\n                                        <div style={{ padding:'1px 0 0 0', margin:'0 .25em 0 0'}}> {word[0]} </div>\n                                    ) : (\n                                        <Select\n                                            bordered={false}\n                                            showArrow={false}\n                                            onChange={(id) => {variationChange(id, word_key, line_key)}}\n                                            value={word[0]}\n                                            placeholder={word[0]}\n                                            name={`name_${word_key}_${line_key}`}\n                                            size=\"small\"\n                                            dropdownMatchSelectWidth={false}\n                                            style={{borderBottom:'3px green solid', padding:0, margin:'0 .25em 0 0'}}\n                                            >\n                                            {word[1].map((_word, id) => (\n                                            <Option value={id}>{_word}</Option>\n                                            ))}\n                                        </Select>\n                                    )\n                            ))}\n                            <br/>\n                        </div>\n                    ))}\n                </div>\n                }\n                <form className=\"grid no-margin-padding-border\" onSubmit={save}>\n                    <div className=\"component\">\n                        <textarea rows={text.split(/\\r*\\n/).length} name=\"text\" onChange={textChange} value={text} placeholder={\"Text\"}/>\n                        <div className=\"options\">\n                            <Space size=\"small\">\n                                <span>&nbsp;</span>\n                                { modified && props.save &&\n                                    <Button type=\"primary\" shape=\"circle\" size=\"small\" onClick={save}  icon={ <PlusOutlined /> }/>\n                                }\n                                { modified &&\n                                    <Button type=\"danger\" shape=\"circle\" size=\"small\" onClick={reset} icon={ <CloseOutlined />} />\n                                }\n                            </Space>\n                        </div>\n                    </div>\n                </form>\n            </Space>\n    );\n\n}\n\n\n\n","import React from 'react';\nimport { Layout } from 'antd';\nimport { LoadingOutlined } from '@ant-design/icons';\nimport 'antd/dist/antd.css';\n\nconst { Content} = Layout;\nexport default function Loads(props){\n    const size = props.size || 'large'\n\n    const className = `loading-${size}`;\n    return props.loaded ? props.children : (\n        <div className=\"head\">\n            <div className={className}>\n                <LoadingOutlined spin />\n            </div>\n        </div>\n    );\n}\n","import React, { useState, useEffect } from 'react';\nimport { saveIntentPattern, deleteIntentPattern, getIntentPatternVariations } from '../actions/modules';\nimport { useStore } from '../Hooks';\nimport Loads from './Loads';\nimport { Space, Button, Popconfirm, Select  } from 'antd';\nimport { SaveFilled, PlusOutlined, DeleteFilled, LoadingOutlined, CloseOutlined, DownloadOutlined } from '@ant-design/icons';\nimport 'antd/dist/antd.css';\n\nconst { Option } = Select;\n\nexport default function IntentPatternVariationForm(props){\n\n    const [, dispatch] = useStore();\n    const [buttonsDisabled, setButtonsDisabled] = useState(false);\n    const { uuid, intent_uuid, reset } = props;\n    const [modified, setModified] = useState(false);\n    const [saving, setSaving] = useState(false);\n    const [loaded, setLoaded] = useState(false);\n    const [text, setText] = useState('');\n    const [variations, setVariations] = useState([])\n\n    useEffect(() => {\n        if(!loaded){\n            const callbacks = {\n                success: (response) => { setVariations(response.data)},\n                error: () => { setVariations([]) },\n                final: () => { setLoaded(true) },\n            }\n            setLoaded(false);\n            dispatch(getIntentPatternVariations(uuid, callbacks));\n        }\n    },[uuid]);\n\n    const handleChange = (id, key) => {\n        let nextVariations = [...variations];\n        let nextText = '';\n        nextVariations[key][0] = variations[key][1][id];\n        setVariations(nextVariations);\n        nextVariations.map(variation => {\n            nextText += ` ${variation[0]}`\n        });\n        setText(nextText);\n        setModified(true);\n    }\n\n    const save = (event) => {\n        const callbacks = {\n            success: () => {;\n                reset()\n            },\n            error: () => {;\n                setButtonsDisabled(false);\n                setSaving(false);\n            },\n            final : () => {\n                setButtonsDisabled(false);\n                setModified(false);\n                setSaving(false);\n            }\n        };\n\n        event.preventDefault();\n        if(!modified){\n            return;\n        }\n        setButtonsDisabled(true);\n        setSaving(true);\n        dispatch(saveIntentPattern({intent_uuid: intent_uuid, text: text}, callbacks));\n    }\n\n    return (\n            <form className=\"grid no-margin-padding-border\" onSubmit={save}>\n            <Loads loaded={loaded} size=\"small\">\n                <Space size=\"small\">\n                    <DownloadOutlined rotate=\"180\" style={{marginRight:'.35em'}}/>\n                    {variations.map((word, key) =>\n                        word[1].length == 0\n                        ? (\n                            <div>{word[0]}</div>\n                        ) : (\n                            <Select\n                                bordered={false}\n                                //showArrow={false}\n                                onChange={(id) => {handleChange(id, key)}}\n                                value={word[0]}\n                                placeholder={word[0]}\n                                name={`name_${key}`}\n                                size=\"small\"\n                                dropdownMatchSelectWidth={false}\n                                >\n                                {word[1].map((_word, id) => (\n                                <Option value={id}>{_word}</Option>\n                                ))}\n                            </Select>\n                        )\n                    )}\n                </Space>\n                <div className=\"options\">\n                    <Space size=\"small\">\n                        <span>&nbsp;</span>\n                        { modified &&\n                            (saving ?\n                                <Button type=\"primary\" shape=\"circle\" size=\"small\" icon={ <LoadingOutlined spin /> } />\n                              :\n                                <Button disabled={buttonsDisabled} htmlType=\"submit\" type=\"primary\" shape=\"circle\" size=\"small\" icon={ <PlusOutlined /> } />\n                            )\n                        }\n                        <Button type=\"danger\" shape=\"circle\" size=\"small\" onClick={reset} icon={ <CloseOutlined />} />\n                    </Space>\n                </div>\n        </Loads>\n            </form>\n    );\n}\n","import React, { useState } from 'react';\nimport { useStore } from '../Hooks';\nimport { saveIntentPattern, deleteIntentPattern } from '../actions/modules';\nimport TextExpander from './TextExpander';\nimport IntentPatternVariationForm from './IntentPatternVariationForm';\nimport { Space, Button, Popconfirm } from 'antd';\nimport { SaveFilled, PlusOutlined, DeleteFilled, LoadingOutlined, CloseOutlined, NodeExpandOutlined, DownloadOutlined } from '@ant-design/icons';\nimport 'antd/dist/antd.css';\n\nexport default function IntentPatternForm(props){\n\n    const [, dispatch] = useStore();\n    const [buttonsDisabled, setButtonsDisabled] = useState(false);\n    const {uuid, intent_uuid} = props\n    const [text, setText] = useState(props.text || \"\")\n    const [modified, setModified] = useState(false)\n    const [saving, setSaving] = useState(false)\n    const [deleting, setDeleting] = useState(false);\n    const [viewExpandable, setViewExpandable] = useState(false);\n\n    const handleChange = (event) => {\n        setText(event.target.value);\n        setModified((event.target.value !== props.text && event.target.value !== \"\") ? true : false);\n    }\n\n    const reset = () => {\n        setButtonsDisabled(false);\n        setText(props.text || \"\");\n        setModified(false);\n        setSaving(false);\n        setViewExpandable(false);\n    }\n\n    const onSubmit = (event) => {\n        event.preventDefault();\n        if(!modified){\n            return;\n        }\n        save()\n    }\n\n    const save = (data=false) => {\n        const callbacks = {\n            error: () => {;\n                setButtonsDisabled(false);\n                setSaving(false);\n            },\n            final: (!uuid || data != false)\n                ? reset\n                : () => {\n                    setButtonsDisabled(false);\n                    setModified(false);\n                    setSaving(false);\n                }\n        };\n\n        setButtonsDisabled(true);\n        setSaving(true);\n        if (data == false){\n            data = (uuid)\n                ? {uuid: uuid, text: text}\n                : {intent_uuid: intent_uuid, text: text};\n        }\n        console.log(data)\n        dispatch(saveIntentPattern(data, callbacks));\n    }\n\n    const dele = () => {\n        const callbacks = {\n            error: () => {;\n                setButtonsDisabled(false);\n                setDeleting(false);\n            }\n        };\n        setButtonsDisabled(true);\n        setDeleting(true);\n        setTimeout(() => {\n          dispatch(deleteIntentPattern(uuid));\n        }, 0);\n    }\n\n    return (\n            <div className=\"component terraced\">\n            { !viewExpandable ?\n                <form className=\"grid no-margin-padding-border\" onSubmit={onSubmit}>\n                    <div className=\"component\">\n                        <Space size=\"small\">\n                            <DownloadOutlined rotate=\"180\"/>\n                        </Space>\n                        <input type=\"text\" name=\"text\" onChange={handleChange} value={text} placeholder={uuid ? \"Pattern\" : \"New Pattern\"} />\n                        <div className=\"options\">\n                            <Space size=\"small\">\n                                <span>&nbsp;</span>\n                                { uuid &&\n                                        <Button disabled={buttonsDisabled} shape=\"circle\" size=\"small\" icon={ <NodeExpandOutlined /> }  onClick={setViewExpandable}/>\n                                }\n                                { modified &&\n                                    (saving ?\n                                        <Button type=\"primary\" shape=\"circle\" size=\"small\" icon={ <LoadingOutlined spin /> } />\n                                      :\n                                        <Button disabled={buttonsDisabled} htmlType=\"submit\" type=\"primary\" shape=\"circle\" size=\"small\" icon={ uuid ? <SaveFilled /> : <PlusOutlined /> } />\n                                    )\n                                }\n                                { modified ?\n                                    <Button type=\"danger\" shape=\"circle\" size=\"small\" onClick={reset} icon={ <CloseOutlined />} />\n                                  :\n                                    (uuid) &&\n                                    (\n                                        deleting  ?\n                                            <Button shape=\"circle\" size=\"small\" icon={ <LoadingOutlined spin /> } />\n                                          :\n                                            <Popconfirm disabled={buttonsDisabled} title=\"Confirming Delete?\" placement=\"left\" onConfirm={dele} okText=\"Confirm\" cancelText=\"Cancel\">\n                                                <Button disabled={buttonsDisabled}  type=\"danger\" shape=\"circle\" size=\"small\" icon={ <DeleteFilled />} />\n                                            </Popconfirm>\n                                    )\n                                }\n                            </Space>\n                        </div>\n                    </div>\n                </form>\n            :\n                <TextExpander text={text} data={{intent_uuid:intent_uuid}} save={save} reset={reset} />\n            }\n            </div>\n    );\n}\n","import React from 'react';\nimport { Space, Empty } from 'antd';\n\nexport default function ListOrEmpty(props){\n    const items = props.items || 0\n    const description = props.description || null\n\n    return items.length > 0\n        ?\n        <Space direction=\"vertical\" style={{width:'100%'}}>{props.children}</Space>\n        :\n        <div className=\"terraced\" style={{padding:'.5em'}}><Empty description={<div><b>{description}</b></div>} /></div> ;\n}\n","import React from 'react';\nimport IntentPatternForm from './IntentPatternForm';\nimport ListOrEmpty from './ListOrEmpty';\nimport { Space,     Divider } from 'antd';\n\nexport default function IntentPatternsList(props){\n    const { intent_uuid, patterns, is_locked } = props;\n    return (\n            <Space direction=\"vertical\" style={{width:'100%', padding:'.5em 0'}}>\n                <div className=\"head\">\n                     <Divider plain><b>Patterns</b></Divider>\n                </div>\n                {!is_locked &&\n                <IntentPatternForm intent_uuid={intent_uuid} />\n                }\n                <ListOrEmpty\n                    items={patterns}\n                    description={`Patterns Empty`}>\n                    {patterns.map((pattern, index) => (\n                        !is_locked ?\n                            <IntentPatternForm  key={pattern.id} uuid={pattern.uuid} intent_uuid={intent_uuid} text={pattern.text}/>\n                          :\n                            <div className=\"component terraced\">\n                                {pattern.text}\n                            </div>\n\n                    ))}\n                </ListOrEmpty>\n            </Space>\n    );\n}\n","import React, { useState } from 'react';\nimport { saveIntentResponse, deleteIntentResponse } from '../actions/modules';\nimport { useStore } from '../Hooks';\nimport { Space, Button, Popconfirm } from 'antd';\nimport { SaveFilled, PlusOutlined, DeleteFilled, LoadingOutlined, CloseOutlined, UploadOutlined } from '@ant-design/icons';\nimport 'antd/dist/antd.css';\n\nexport default function IntentResponseForm(props){\n\n    const [, dispatch] = useStore();\n    const [buttonsDisabled, setButtonsDisabled] = useState(false);\n    const {uuid, intent_uuid} = props\n    const [text, setText] = useState(props.text || \"\")\n    const [modified, setModified] = useState(false)\n    const [saving, setSaving] = useState(false)\n    const [deleting, setDeleting] = useState(false);\n\n    const handleChange = (event) => {\n        setText(event.target.value);\n        setModified((event.target.value !== props.text && event.target.value !== \"\") ? true : false);\n    }\n\n    const reset = () => {\n        setButtonsDisabled(false);\n        setText(props.text || \"\");\n        setModified(false);\n        setSaving(false);\n    }\n\n    const save = (event) => {\n        const callbacks = {\n            error: () => {;\n                setButtonsDisabled(false);\n                setSaving(false);\n            },\n            final: !uuid\n                ? reset\n                : () => {\n                    setButtonsDisabled(false);\n                    setModified(false);\n                    setSaving(false);\n                }\n        };\n\n        event.preventDefault();\n        if(!modified){\n            return;\n        }\n        setButtonsDisabled(true);\n        setSaving(true);\n        if(uuid){\n            dispatch(saveIntentResponse({uuid: uuid, text: text}, callbacks));\n        }else{\n            dispatch(saveIntentResponse({intent_uuid: intent_uuid, text: text}, callbacks));\n        }\n    }\n\n    const dele = () => {\n        const callbacks = {\n            error: () => {;\n                setButtonsDisabled(false);\n                setDeleting(false);\n            }\n        };\n        setButtonsDisabled(true);\n        setDeleting(true);\n        setTimeout(() => {\n          dispatch(deleteIntentResponse(uuid));\n        }, 0);\n    }\n\n    return (\n        <div className=\"component terraced\">\n            <form className=\"grid no-margin-padding-border\" onSubmit={save}>\n                <div className=\"component\">\n                    <Space size=\"small\" style={{maxHeight:'1.4em'}}>\n                        <UploadOutlined rotate=\"180\"/>\n                    </Space>\n                    <textarea rows={text.split(/\\r*\\n/).length} name=\"text\" onChange={handleChange} value={text} placeholder={uuid ? \"Response\" : \"New Response\"} />\n                    <div className=\"options\">\n                        <Space size=\"small\">\n                            <span>&nbsp;</span>\n                            { modified &&\n                                (saving ?\n                                    <Button type=\"primary\" shape=\"circle\" size=\"small\" icon={ <LoadingOutlined spin /> } />\n                                  :\n                                    <Button disabled={buttonsDisabled} htmlType=\"submit\" type=\"primary\" shape=\"circle\" size=\"small\" icon={ uuid ? <SaveFilled /> : <PlusOutlined /> } />\n\n                                )\n                            }\n                            { modified ?\n                                <Button type=\"danger\" shape=\"circle\" size=\"small\" onClick={reset} icon={ <CloseOutlined />} />\n                              :\n                                (uuid) &&\n                                (\n                                    deleting  ?\n                                        <Button shape=\"circle\" size=\"small\" icon={ <LoadingOutlined spin /> } />\n                                      :\n                                        <Popconfirm disabled={buttonsDisabled} title=\"Confirming Delete?\" placement=\"left\" onConfirm={dele} okText=\"Confirm\" cancelText=\"Cancel\">\n                                            <Button disabled={buttonsDisabled}  type=\"danger\" shape=\"circle\" size=\"small\" icon={ <DeleteFilled />} />\n                                        </Popconfirm>\n                                )\n                            }\n                        </Space>\n                    </div>\n                </div>\n            </form>\n        </div>\n    );\n}\n\n","import React from 'react';\nimport { Layout, Space, Divider } from 'antd';\nimport IntentResponseForm from './IntentResponseForm';\nimport ListOrEmpty from './ListOrEmpty';\nconst { Content } = Layout;\n\nexport default function IntentResponsesList(props){\n    const { intent_uuid, responses, is_locked } = props;\n    return (\n            <Space direction=\"vertical\" style={{width:'100%', padding:'.5em 0'}}>\n\n                <div className=\"head\">\n                     <Divider plain><b>Responses</b></Divider>\n                </div>\n                {!is_locked &&\n                <IntentResponseForm intent_uuid={intent_uuid} />\n                }\n                <ListOrEmpty\n                    items={responses}\n                    description={`Responses Empty`}>\n                    {responses.map((response, index) => (\n                        !is_locked ?\n                            <IntentResponseForm key={response.uuid} uuid={response.uuid} text={response.text}/>\n                          :\n                            <div key={response.uuid} className=\"component\">\n                                <Content>\n                                {response.text.split('\\n').map((item, key) => {\n                                    return <span key={key}>{item}<br/></span>\n                                })}\n                                </Content>\n                            </div>\n                    ))}\n                </ListOrEmpty>\n            </Space>\n    );\n}\n","import React, { useState } from 'react';\nimport { saveIntent } from '../actions/modules';\nimport { useStore } from '../Hooks';\nimport { Space, Button, Spin } from 'antd';\nimport { SaveFilled, PlusOutlined, LoadingOutlined, CloseOutlined } from '@ant-design/icons';\nimport 'antd/dist/antd.css';\n\nexport default function IntentForm(props){\n\n    const [, dispatch] = useStore();\n    const [buttonsDisabled, setButtonsDisabled] = useState(false);\n    const {uuid, module_uuid} = props;\n    const [name, setName] = useState(props.name || \"\");\n    const [modified, setModified] = useState(false);\n    const [saving, setSaving] = useState(false);\n\n    const handleChange = (event) => {\n        let nextName = event.target.value;\n        nextName = nextName.replace(/[&\\^@`!=;|\\[\\]/\\\\#,+()$~%.'\":*?<>{}]/g,'');\n        nextName = nextName.replace(/[\\-\\s]/g,'_');\n        setName(nextName);\n        setModified((nextName !== props.name && nextName !== \"\") ? true : false);\n    }\n\n    const reset = () => {\n        setButtonsDisabled(false);\n        setName(props.name || \"\");\n        setModified(false);\n        setSaving(false);\n    }\n\n    const save = (event) => {\n        const callbacks = {\n            error: () => {;\n                setButtonsDisabled(false);\n                setSaving(false);\n            },\n            final: !uuid\n                ? reset\n                : () => {\n                    setButtonsDisabled(false);\n                    setModified(false);\n                    setSaving(false);\n                }\n        };\n\n        event.preventDefault();\n        if(!modified){\n            return;\n        }\n        setButtonsDisabled(true);\n        setSaving(true);\n        if(uuid){\n            dispatch(saveIntent({uuid: uuid, name: name}, callbacks));\n        }else{\n            dispatch(saveIntent({module_uuid: module_uuid, name: name}, callbacks));\n        }\n    }\n\n    return (\n        <div className=\"component terraced\">\n            <form className=\"grid no-margin-padding-border\" onSubmit={save}>\n                <div className=\"component\">\n                    <input type=\"text\" name=\"name\" onChange={handleChange} value={name} placeholder={uuid ? \"Intent Name\" : \"New Intent Name\"} />\n                    <div className=\"options\">\n                        <Space size=\"small\" style={{height: '1em'}} align=\"center\">\n                        { modified &&\n                            (!saving ?\n                                <Button htmlType=\"submit\" type=\"primary\" shape=\"circle\" size=\"small\" icon={uuid ? <SaveFilled /> : <PlusOutlined />} />\n                            :\n                                <Button type=\"primary\" shape=\"circle\" size=\"small\" icon={<LoadingOutlined spin />} />\n                            )\n                        }\n                        { modified &&\n                            <Button disabled={buttonsDisabled}  type=\"danger\" shape=\"circle\" size=\"small\" onClick={reset} icon={<CloseOutlined />} />\n                        }\n                        </Space>\n                    </div>\n                </div>\n            </form>\n        </div>\n    );\n}\n","import React, { useState } from 'react';\nimport { useStore } from '../Hooks'\nimport { deleteIntent } from '../actions/modules';\nimport IntentPatternsList from './IntentPatternsList';\nimport IntentResponsesList from './IntentResponsesList';\nimport IntentForm from './IntentForm';\nimport auth0Client from '../Auth';\nimport { Layout, Menu, Space, Button, Popconfirm, Divider} from 'antd';\nimport {\n    CommentOutlined,\n    HomeOutlined,\n    AppstoreOutlined,\n    SettingOutlined,\n    PlusCircleOutlined,\n    MinusCircleOutlined,\n    DeleteFilled,\n    CaretUpFilled,\n    CaretDownFilled,\n    LockFilled,\n    UnlockFilled,\n    LoadingOutlined\n} from '@ant-design/icons';\nimport 'antd/dist/antd.css';\n\n\nexport default function ModuleIntent(props){\n\n    const [, dispatch] = useStore();\n    const [buttonsDisabled, setButtonsDisabled] = useState(false);\n    const {agent_type, intent, is_locked} = props;\n    const [listVisibility, setListVisibility] = useState(false);\n    const [deleting, setDeleting] = useState(false);\n\n    const dele = () => {\n        const callback = () => {setDeleting(false)};\n        setDeleting(true);\n        setTimeout(() => {\n          dispatch(deleteIntent(intent.uuid));\n        }, 0);\n    }\n\n    return (\n        <div className=\"component terraced\">\n            <div className=\"list no-margin-padding-border\">\n                <div className=\"component\">\n                    <div onClick={() => setListVisibility(!listVisibility)}>\n                        {intent.name}\n                    </div>\n                    <div className=\"options\">\n                        <Space size=\"small\">\n                             { !is_locked && auth0Client.hasPermission('delete:agents') &&\n                                (\n                                    ! deleting ?\n                                        <Popconfirm disabled={buttonsDisabled} title=\"Confirming Delete?\" placement=\"left\" onConfirm={dele} okText=\"Confirm\" cancelText=\"Cancel\">\n                                            <Button type=\"danger\" shape=\"circle\" size=\"small\" icon={ <DeleteFilled />} />\n                                        </Popconfirm>\n                                    :\n                                        <Button type=\"danger\" shape=\"circle\" size=\"small\" icon={ <LoadingOutlined spin /> } />\n                                )\n                             }\n                             <Button size=\"small\" onClick={() => setListVisibility(!listVisibility)} icon={ listVisibility ? <CaretUpFilled /> :  <CaretDownFilled />} />\n                        </Space>\n                    </div>\n                </div>\n                { listVisibility &&\n                <Space direction=\"vertical\">\n                {  !is_locked &&\n                    <Space direction=\"vertical\" style={{width:'100%', padding:'.5em 0'}}>\n                        <b>Label</b>\n                        <IntentForm is_locked={is_locked} uuid={intent.uuid} name={intent.name} />\n                    </Space>\n                }\n                <IntentPatternsList is_locked={is_locked} patterns={intent.patterns} intent_uuid={intent.uuid} />\n                {  agent_type === 2 &&\n                    <IntentResponsesList is_locked={is_locked} responses={intent.responses} intent_uuid={intent.uuid} />\n                }\n                </Space>\n                }\n            </div>\n        </div>\n    );\n\n}\n","import React, { useState } from 'react';\nimport { saveModule } from '../actions/modules';\nimport { useStore } from '../Hooks';\nimport { Space, Button, Spin } from 'antd';\nimport { SaveFilled, PlusOutlined, LoadingOutlined, CloseOutlined, AppstoreOutlined } from '@ant-design/icons';\nimport 'antd/dist/antd.css';\n\nexport default function ModuleForm(props){\n\n    const [, dispatch] = useStore();\n    const [buttonsDisabled, setButtonsDisabled] = useState(false);\n    const {uuid, agent} = props;\n    const [name, setName] = useState(props.name || \"\");\n    const [modified, setModified] = useState(false);\n    const [saving, setSaving] = useState(false);\n\n    const handleChange = (event) => {\n        setName(event.target.value);\n        setModified((event.target.value !== props.name && event.target.value !== \"\") ? true : false);\n    }\n\n    const reset = () => {\n        setButtonsDisabled(false);\n        setName(props.name || \"\");\n        setModified(false);\n        setSaving(false);\n    }\n\n    const save = (event) => {\n        const callbacks = {\n            error: () => {;\n                setButtonsDisabled(false);\n                setSaving(false);\n            },\n            final: !uuid\n                ? reset\n                : () => {\n                    setButtonsDisabled(false);\n                    setModified(false);\n                    setSaving(false);\n                }\n        };\n\n        event.preventDefault();\n        if(!modified){\n            return;\n        }\n        setButtonsDisabled(true);\n        setSaving(true);\n        if(uuid){\n            dispatch(saveModule({uuid: uuid, name: name}, callbacks));\n        }else{\n            dispatch(saveModule({agent_uuid: agent.uuid, name: name}, callbacks));\n        }\n    }\n\n    return (\n        <div className=\"component terraced\">\n            <form className=\"grid no-margin-padding-border\" onSubmit={save}>\n                <div className=\"component\">\n                    <Space size=\"small\" align=\"center\">\n                        <span><AppstoreOutlined /></span>\n                    </Space>\n                    <input type=\"text\" name=\"name\" onChange={handleChange} value={name} placeholder={uuid ? \"Module Name\" : \"New Module Name\"} />\n                    <div className=\"options\">\n                        <Space size=\"small\" style={{height: '1em'}} align=\"center\">\n                        { modified &&\n                            (!saving ?\n                                <Button htmlType=\"submit\" type=\"primary\" shape=\"circle\" size=\"small\" icon={uuid ? <SaveFilled /> : <PlusOutlined />} />\n                            :\n                                <Button type=\"primary\" shape=\"circle\" size=\"small\" icon={<LoadingOutlined spin />} />\n                            )\n                        }\n                        { modified &&\n                            <Button disabled={buttonsDisabled}  type=\"danger\" shape=\"circle\" size=\"small\" onClick={reset} icon={<CloseOutlined />} />\n                        }\n                        </Space>\n                    </div>\n                </div>\n            </form>\n        </div>\n    );\n}\n","import React, { useState } from 'react';\nimport auth0Client from '../Auth'\nimport { useStore } from '../Hooks';\nimport { saveModule, validateJSON } from '../actions/modules';\nimport { Layout, Menu, Space, Button, Spin } from 'antd';\nimport { FileTextFilled, SaveFilled, PlusOutlined, LoadingOutlined, CloseOutlined } from '@ant-design/icons';\nimport 'antd/dist/antd.css';\nimport AceEditor from \"react-ace\";\nimport \"ace-builds/src-noconflict/mode-java\";\nimport \"ace-builds/src-noconflict/theme-github\";\n\nconst { Content, Sider } = Layout;\n\nexport default function ModuleJSONForm(props) {\n\n    const [, dispatch] = useStore();\n    const [buttonsDisabled, setButtonsDisabled] = useState(false);\n    const {uuid, agent} = props;\n    const [code, setCode] = useState(props.code || \"\");\n    const [modified, setModified] = useState(false);\n    const [saving, setSaving] = useState(false);\n\n    const handleChange = (value) => {\n        setCode(value);\n        setModified((value !== props.code && value !== \"\") ? true : false);\n    }\n\n    const reset = () => {\n        setButtonsDisabled(false);\n        setCode(props.code || \"\");\n        setModified(false);\n        setSaving(false);\n    }\n\n    const save = (event) => {\n        const callbacks = {\n            error: () => {;\n                setButtonsDisabled(false);\n                setSaving(false);\n            },\n            final: !uuid\n                ? reset\n                : () => {\n                    setButtonsDisabled(false);\n                    setModified(false);\n                    setSaving(false);\n                }\n        };\n\n        event.preventDefault();\n        if(buttonsDisabled || !modified || !validateJSON(code)){\n            return;\n        }\n        setButtonsDisabled(true);\n        setSaving(true);\n        if(uuid){\n            dispatch(saveModule({uuid: uuid, ...JSON.parse(code)}, callbacks));\n        }else{\n            dispatch(saveModule({agent_uuid: agent.uuid, ...JSON.parse(code)}, callbacks));\n        }\n    }\n\n    return (\n      <Layout style={{background:'#fff', height:'100%'}}>\n            <Space align=\"center\" style={{position: 'relative', overflow:'hidden', padding: 0, zIndex: 100, width: '100%', height:'3em', background:'#fff', border: 0, borderBottom: '1px solid #f0f0f0'}}>\n               <Space style={{marginLeft:'1.5em'}}><FileTextFilled /> JSON Template</Space>\n                { auth0Client.hasPermission('create:modules') &&\n                     <div style={{position:'absolute', right: '.5em', top:'.5em' }}>\n                          { ! saving ?\n                          <Button size=\"small\" shape=\"circle\" disabled={(buttonsDisabled === true || modified === false )} onClick={save} type=\"primary\" icon={<SaveFilled/>} />\n\n                          :\n                          <Button size=\"small\" shape=\"circle\" type=\"primary\" icon={<LoadingOutlined spin/>} />\n\n                          }\n                     </div>\n                }\n            </Space>\n            <Content style={{background:'#fff', width:'100%', height:'100%', overflow:'hidden', padding:0}}>\n                <AceEditor\n                    mode=\"javascript\"\n                    theme=\"github\"\n                    onChange={handleChange}\n                    fontSize={14}\n                    showPrintMargin={false}\n                    showGutter={true}\n                    highlightActiveLine={true}\n                    name=\"code\"\n                    width=\"100%\"\n                    value={code}\n                    setOptions={{\n                        showLineNumbers: true,\n                        tabSize: 2,\n                        wrap: true\n                    }}\n                />\n            </Content>\n      </Layout>\n    );\n}\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Redirect } from 'react-router';\nimport { useStore } from '../Hooks'\nimport { deleteModule, fitModule, loadModule, updateModule, saveModule, clearModule, downloadModule, moduleJSON } from '../actions/modules';\nimport ModuleIntent from './ModuleIntent';\nimport IntentForm from './IntentForm';\nimport ModuleForm from './ModuleForm';\nimport ModuleJSONForm from './ModuleJSONForm';\nimport ContextHead from './ContextHead';\nimport ListOrEmpty from './ListOrEmpty';\nimport Loads from './Loads';\nimport Page from './Page';\nimport auth0Client from '../Auth';\nimport { Layout, Button, Spin, Space, Tooltip, Popconfirm, Menu } from 'antd';\nimport { AppstoreOutlined, LoadingOutlined, CloudDownloadOutlined, DeleteFilled, EyeFilled } from '@ant-design/icons';\nimport 'antd/dist/antd.css';\n\nconst { Header, Content, Sider } = Layout;\nconst { SubMenu } = Menu;\n\nexport default function ModuleBuilder(props){\n\n    const [state, dispatch] = useStore();\n    const [buttonsDisabled, setButtonsDisabled] = useState(false);\n    const { name, intents, is_locked, uuid } = state.module;\n    const { module } = state;\n    const [codeVisible, setCodeVisible] = useState(false);\n    const [deleting, setDeleting] = useState(false);\n    const [downloading, setDownloading] = useState(false);\n    const [settingNoise, setSettingNoise] = useState(false);\n    const [deleted, setDeleted] = useState(false);\n    const [loaded, setLoaded] = useState(false);\n\n    useEffect(() => {\n        const callbacks = {\n            final: () => { setLoaded(true) }\n        }\n        dispatch(loadModule(props.match.params.uuid, callbacks))\n        return function cleanup () {\n            dispatch(clearModule());\n        }\n    },[props.match.params.uuid]);\n\n    const dele = () => {\n        const callbacks = {\n            final: () => {\n                setDeleted(true);\n                setButtonsDisabled(false);\n            },\n            error: () => {\n                setDeleting(false);\n                setButtonsDisabled(false);\n            }\n        };\n        setDeleting(true);\n        setButtonsDisabled(true);\n        setTimeout(() => {\n            dispatch(deleteModule(uuid, callbacks));\n        }, 0);\n    }\n\n    const download = () => {\n        const callbacks = {\n            final: () => {\n                setDownloading(false);\n                setButtonsDisabled(false);\n            },\n            error: () => {\n                setDownloading(false);\n                setButtonsDisabled(false);\n            }\n        };\n        setDownloading(true);\n        setButtonsDisabled(true);\n        dispatch(downloadModule(uuid, callbacks))\n    }\n\n    const code = () => {\n        return moduleJSON(state.module)\n    }\n\n    const contextHead = () => {\n        return (\n                loaded ?\n                <ContextHead>\n                    <Menu mode=\"horizontal\" theme=\"light\" style={{margin:'-.2em 0 0 0', padding:0, border:0, height:'3.3em'}}>\n                        <SubMenu key=\"options\" icon={ <AppstoreOutlined /> } title={ `Module > ${name}` } style={{margin:0, padding:0}}>\n                        { auth0Client.hasPermission('update:modules') &&\n                            <Menu.Item key=\"view\" icon={<EyeFilled />} onClick={ () => setCodeVisible(!codeVisible) } disabled={buttonsDisabled}>\n                                { !is_locked && auth0Client.hasPermission('update:modules') ?\n                                    !codeVisible ? \"Edit JSON\" : \"Edit Visually\"\n                                 :\n                                    !codeVisible ? \"View JSON\" : \"View Visually\"\n                                }\n                            </Menu.Item>\n                        }\n                        { !module.is_locked && auth0Client.hasPermission('update:modules') &&\n                            ( deleting ?\n                                <Menu.Item key=\"delete\" icon={<LoadingOutlined spin /> }>\n                                    <Link>Deleting</Link>\n                                </Menu.Item>\n                                  :\n                                <Menu.Item key=\"delete\" icon={<DeleteFilled/> }>\n                                    <Popconfirm disabled={buttonsDisabled} title=\"Confirming Delete?\" placement=\"left\" onConfirm={dele} okText=\"Confirm\" cancelText=\"Cancel\">\n                                        <Link disabled={buttonsDisabled} type=\"danger\">Delete</Link>\n                                    </Popconfirm>\n                                </Menu.Item>\n                            )\n                        }\n                        { downloading ?\n                            <Menu.Item key=\"download\" icon={<LoadingOutlined spin /> }>\n                                <Link><LoadingOutlined spin /> Download</Link>\n                            </Menu.Item>\n                          :\n                            <Menu.Item key=\"download\" icon={<CloudDownloadOutlined/> }>\n                                <Link disabled={buttonsDisabled} onClick={download}>Download</Link>\n                            </Menu.Item>\n                        }\n                        { auth0Client.hasPermission('read:agents') && module.agent_uuid &&\n                            <Menu.Item key=\"agent\" icon={<EyeFilled/> }>\n                                <Link to={'/agent/' + module.agent_uuid}>\n                                    View Agent\n                                </Link>\n                            </Menu.Item>\n                        }\n                        </SubMenu>\n                    </Menu>\n                </ContextHead>\n                :\n                <ContextHead icon={ <AppstoreOutlined /> } title={ `Module > Loading` } />\n        );\n    }\n\n\n    return (\n        <Page header={contextHead()}>\n        {deleted && <Redirect to=\"/modules\" />}\n            <Loads loaded={loaded}>\n                <Content style={{background:'#fff'}}>\n                    <Layout style={{background:'#fff'}}>\n                    { !codeVisible ?\n                         !is_locked ?\n                            <Space direction=\"vertical\" style={{width:'100%', padding:'.5em'}}>\n                                <b>Name</b>\n                                <ModuleForm is_locked={is_locked} uuid={uuid} name={name}/>\n                            </Space>\n                        :\n                        null\n                    :\n                        <ModuleJSONForm uuid={uuid} is_locked={is_locked} code={code()} modified={ false } />\n                    }\n                    { !codeVisible &&\n                        <Space direction=\"vertical\" style={{width:'100%', padding:'.5em'}}>\n                            <div className=\"head\">\n                                <div className=\"list\"><b>Intents</b></div>\n                            </div>\n                            { !is_locked &&\n                                <IntentForm module_uuid={uuid}/>\n                            }\n                            <ListOrEmpty\n                                items={intents}\n                                description={`Intents Empty`}>\n                            {intents.map((intent, index) => (\n                                <ModuleIntent agent_type={module.type} key={intent.id} intent={intent} is_locked={is_locked}/>\n                            ))}\n                            </ListOrEmpty>\n                        </Space>\n                    }\n                    </Layout>\n                </Content>\n            </Loads>\n        </Page>\n    );\n}\n","import React, { useState } from 'react';\nimport { AGENT_TYPES, saveAgent } from '../actions/agents';\nimport { useStore } from '../Hooks';\nimport { Space, Button, Spin } from 'antd';\nimport { SaveFilled, PlusOutlined, LoadingOutlined, CloseOutlined } from '@ant-design/icons';\nimport 'antd/dist/antd.css';\n\nexport default function AgentForm(props){\n\n    const [, dispatch] = useStore();\n    const [buttonsDisabled, setButtonsDisabled] = useState(false);\n    const {uuid, type} = props;\n    const [name, setName] = useState(props.name || \"\");\n    const [modified, setModified] = useState(false);\n    const [saving, setSaving] = useState(false);\n\n    const handleChange = (event) => {\n        setName(event.target.value);\n        setModified((event.target.value !== props.name && event.target.value !== \"\") ? true : false);\n    }\n\n    const reset = () => {\n        setButtonsDisabled(false);\n        setName(props.name || \"\");\n        setModified(false);\n        setSaving(false);\n    }\n\n    const save = (event) => {\n        const callbacks = {\n            error: () => {;\n                setButtonsDisabled(false);\n                setSaving(false);\n            },\n            final: !uuid\n                ? reset\n                : () => {\n                    setButtonsDisabled(false);\n                    setModified(false);\n                    setSaving(false);\n                }\n        };\n\n        event.preventDefault();\n        if(!modified){\n            return;\n        }\n        setButtonsDisabled(true);\n        setSaving(true);\n        if(uuid){\n            dispatch(saveAgent({uuid: uuid, name: name, type: type}, callbacks));\n        }else{\n            dispatch(saveAgent({name: name, type: type}, callbacks));\n        }\n    }\n\n    return (\n        <div className=\"component terraced\">\n            <form className=\"grid no-margin-padding-border\" onSubmit={save}>\n                <div className=\"component\">\n                    <input type=\"text\" name=\"name\" onChange={handleChange} value={name} placeholder={uuid ? `${AGENT_TYPES[type]['name'][0]} Name` : `New ${AGENT_TYPES[type]['name'][0]} Name`} />\n                    <div className=\"options\">\n                        <Space size=\"small\" style={{height: '1em'}} align=\"center\">\n                        { modified &&\n                            (!saving ?\n                                <Button htmlType=\"submit\" type=\"primary\" shape=\"circle\" size=\"small\" icon={uuid ? <SaveFilled /> : <PlusOutlined />} />\n                            :\n                                <Button type=\"primary\" shape=\"circle\" size=\"small\" icon={<LoadingOutlined spin />} />\n                            )\n                        }\n                        { modified &&\n                            <Button disabled={buttonsDisabled}  type=\"danger\" shape=\"circle\" size=\"small\" onClick={reset} icon={<CloseOutlined />} />\n                        }\n                        </Space>\n                    </div>\n                </div>\n            </form>\n        </div>\n    );\n}\n","import React, {useState} from 'react';\nimport { useStore } from '../Hooks'\nimport {Link} from 'react-router-dom';\nimport { Tooltip as AntdTooltip } from 'antd';\n\nexport default function Tooltip(props) {\n\n    const { title } = props;\n\n    return (\n        <AntdTooltip mouseLeaveDelay={0}  title={props.title}>\n            {props.children}\n        </AntdTooltip>\n    );\n}\n","import React, {useState} from 'react';\nimport { useStore } from '../Hooks'\nimport {Link} from 'react-router-dom';\nimport { Space, Button, Popconfirm} from 'antd';\nimport Tooltip from './Tooltip';\nimport { BuildFilled, DeleteFilled, EyeFilled, MenuFoldOutlined, MenuUnfoldOutlined, LockFilled, LoadingOutlined, CloudDownloadOutlined, AppstoreOutlined } from '@ant-design/icons';\nimport 'antd/dist/antd.css';\nimport auth0Client from '../Auth';\nimport { deleteModule, setModuleNoiseFlag, downloadModule } from '../actions/modules';\n\nexport default function Module(props) {\n\n    const [, dispatch] = useStore();\n    const [buttonsDisabled, setButtonsDisabled] = useState(false);\n    const { module } = props;\n    const [deleting, setDeleting] = useState(false);\n    const [downloading, setDownloading] = useState(false);\n    const [settingNoiseFlag, setSettingNoiseFlag] = useState(false);\n\n    const dele = () => {\n        const callbacks = {\n            error: () => {\n                setDeleting(false);\n                setButtonsDisabled(false);\n            }\n        };\n        setDeleting(true);\n        setButtonsDisabled(true);\n        setTimeout(() => {\n            dispatch(deleteModule(module.uuid, callbacks));\n        }, 0);\n    }\n\n    const setNoiseFlag = () => {\n        const callbacks = {\n            final: () => {\n                setSettingNoiseFlag(false);\n                setButtonsDisabled(false);\n            },\n            error: () => {\n                setSettingNoiseFlag(false);\n                setButtonsDisabled(false);\n            }\n        };\n        setSettingNoiseFlag(true);\n        setButtonsDisabled(true);\n        dispatch(setModuleNoiseFlag({\n            uuid: module.uuid,\n            flag: !module.is_noise\n        }\n        , callbacks));\n    }\n\n    const download = () => {\n        const callbacks = {\n            final: () => {\n                setDownloading(false);\n                setButtonsDisabled(false);\n            },\n            error: () => {\n                setDownloading(false);\n                setButtonsDisabled(false);\n            }\n        };\n        setDownloading(true);\n        setButtonsDisabled(true);\n        dispatch(downloadModule(module.uuid, callbacks))\n    }\n\n    return (\n      <div className=\"component terraced\">\n        <Space>\n            <span style={{marginLeft:'1em'}}><AppstoreOutlined /></span>\n            <div>{module.name}</div>\n            { module.is_noise &&\n                <Tooltip title=\"Training Noise\">\n                    <MenuUnfoldOutlined />\n                </Tooltip>\n            }\n        </Space>\n        <div className=\"options\">\n            <Space size=\"small\">\n                <span>&nbsp;</span>\n            { !module.is_locked && auth0Client.hasPermission('update:modules') &&\n                (\n                    deleting ?\n                        <Tooltip title=\"Deleting Module\">\n                            <Button type=\"danger\" shape=\"circle\" size=\"small\" icon={ <LoadingOutlined spin /> } />\n                        </Tooltip>\n                      :\n                        <Tooltip title=\"Delete Module\">\n                            <Popconfirm disabled={buttonsDisabled} title=\"Confirming Delete?\" placement=\"left\" onConfirm={dele} okText=\"Confirm\" cancelText=\"Cancel\">\n                                <Button disabled={buttonsDisabled}  type=\"danger\" shape=\"circle\" size=\"small\" icon={ <DeleteFilled />} />\n                            </Popconfirm>\n                        </Tooltip>\n                )\n            }\n            { auth0Client.hasPermission('update:agents') &&\n               (\n                   settingNoiseFlag ?\n                         <Tooltip title={module.is_noise ? \"Setting as Training Noise\" : \"Setting as not Training Noise\"}>\n                            <Button shape=\"circle\" size=\"small\" icon={ <LoadingOutlined spin /> } />\n                         </Tooltip>\n                      :\n                         <Tooltip title={module.is_noise ? \"Set as not Training Noise\" : \"Set as Training Noise\"}>\n                             <Button disabled={buttonsDisabled} shape=\"circle\" size=\"small\" onClick={setNoiseFlag} icon={module.is_noise ? <MenuFoldOutlined /> : <MenuUnfoldOutlined /> } />\n                         </Tooltip>\n                )\n            }\n            { auth0Client.hasPermission('read:modules') &&\n               (\n                   downloading ?\n                         <Tooltip title=\"Fetching\">\n                            <Button shape=\"circle\" size=\"small\" icon={ <LoadingOutlined spin /> } />\n                         </Tooltip>\n                      :\n                         <Tooltip title=\"Download\">\n                            <Button disabled={buttonsDisabled} shape=\"circle\" size=\"small\" onClick={download} icon={ <CloudDownloadOutlined /> } />\n                         </Tooltip>\n                )\n            }\n            { auth0Client.hasPermission('read:modules') &&\n                <Link to={'/module/' + module.uuid}>\n                    <Tooltip title=\"View\">\n                         <Button disabled={buttonsDisabled} shape=\"circle\" size=\"small\" icon={<EyeFilled />} />\n                    </Tooltip>\n                </Link>\n            }\n            </Space>\n        </div>\n      </div>\n    );\n}\n\n\n","import React from 'react';\nimport Module from './Module';\n\nimport { Space } from 'antd';\n\nexport default function ModulesList(props) {\n    const { modules } = props;\n    return (\n\n        <Space direction=\"vertical\" style={{width:'100%'}}>\n        { Object.values(modules).map((module, ind) => (\n            <Module key={module.id} module={module}/>\n        ))}\n        </Space>\n    );\n}\n","import React, { useState, useEffect } from 'react';\nimport { Redirect } from 'react-router';\nimport { useStore } from '../Hooks'\nimport { storeAgents } from '../actions/agents'\nimport Page from './Page';\nimport Module from './Module';\nimport ModuleForm from './ModuleForm';\nimport ModuleJSONForm from './ModuleJSONForm';\nimport auth0Client from '../Auth';\nimport { Layout, Menu, Spin, Space, Upload, message, Button, Tooltip } from 'antd';\nimport { AppstoreOutlined, LoadingOutlined, CloudUploadOutlined, PlusOutlined} from '@ant-design/icons';\nimport 'antd/dist/antd.css';\n\nconst { Content} = Layout;\n\nexport default function ModuleForms(props) {\n    const [codeVisible, setCodeVisible] = useState(false);\n    const [, dispatch] = useStore()\n\n    const upload_props = {\n      multiple: true,\n      showUploadList: false,\n      name: 'file',\n      action: `/api/agents/${props.agent.uuid}/modules/upload`,\n      ...auth0Client.apiAuthHeaders(),\n      onChange(info) {\n         console.log(info)\n        if (info.file.status !== 'uploading') {\n          console.log(info.file, info.fileList);\n        }\n        if (info.file.status === 'done') {\n          message.success(`${info.file.name} file uploaded successfully`);\n        } else if (info.file.status === 'error') {\n          message.error(`${info.file.name} file upload failed.`);\n        }\n      },\n    };\n\n    return (\n            <Content style={{background:'#fff'}}>\n                { auth0Client.hasPermission('create:modules') &&\n                    <Space align=\"center\" theme=\"light\" style={{ padding: 0, border:0, minHeight:'1.4em' }} >\n                        <span style={{marginLeft:'1em'}}><AppstoreOutlined /> Create </span>\n                        { codeVisible ?\n                            <Tooltip title=\"Add with Name\">\n                                <Button onClick={() => setCodeVisible(false)}>Name</Button>\n                            </Tooltip>\n                            :\n                            <Tooltip title=\"Add with Template\">\n                                <Button onClick={() => setCodeVisible(true)}>{\"{JSON}\"}</Button>\n                            </Tooltip>\n                        }\n                        <Upload {...upload_props}>\n                            <Button>Upload<CloudUploadOutlined   /></Button>\n                        </Upload>\n                    </Space>\n                }\n                { !codeVisible ?\n                <Layout style={{background:'#fff', margin:'.5em 0 0 0'}}>\n                   <div className=\"list\">\n                        { auth0Client.hasPermission('create:modules') &&\n                            <ModuleForm {...props} />\n                        }\n                    </div>\n                </Layout>\n                :\n                <div className=\"list\" style={{margin:'.5em 0 0 0'}}>\n                <div className=\"component terraced\" style={{padding:0}}>\n                    <Layout style={{background:'#fff'}}>\n                        <ModuleJSONForm {...props} />\n                    </Layout>\n                </div>\n                </div>\n                }\n            </Content>\n    );\n}\n","import React, { useState, useEffect } from 'react';\nimport { Redirect } from 'react-router';\nimport { useStore } from '../Hooks'\nimport { Link } from 'react-router-dom';\nimport ModulesList from './ModulesList'\nimport ModuleForms from './ModuleForms'\nimport Module from './Module';\nimport { postAgentModule, deleteAgentModule, updateAgent, AGENT_TYPES } from '../actions/agents';\nimport { loadModules } from '../actions/modules';\nimport auth0Client from '../Auth';\nimport { Layout, Space, Button, Spin, Select, Divider } from 'antd';\nimport {\n    AppstoreOutlined,\n    SettingOutlined,\n    MinusOutlined,\n    EyeFilled,\n    LoadingOutlined\n\n} from '@ant-design/icons';\nimport 'antd/dist/antd.css';\n\nconst { Option } = Select;\nconst { Content } = Layout;\n\nexport default function AgentModules(props){\n    const [state, dispatch] = useStore();\n    const [buttonsDisabled, setButtonsDisabled] = useState(false);\n    const { agent } = props;\n    const { modules, loaded } = state.modules;\n    const [codeVisible, setCodeVisible] = useState(false);\n\n    return (\n        <Space direction=\"vertical\" style={{width:'100%', padding:'.5em 0'}}>\n            <Divider plain><AppstoreOutlined /> Modules</Divider>\n            { !agent.is_locked && auth0Client.hasPermission('update:agents') ?\n                <ModuleForms code={AGENT_TYPES[agent.type]['code']} agent={agent} />\n            : null\n            }\n            { agent.modules.length !== 0 &&\n                <ModulesList modules={agent.modules} />\n            }\n        </Space>\n    );\n\n}\n","import React, { useState } from 'react';\nimport { useStore } from '../Hooks'\nimport auth0Client from '../Auth';\nimport AgentIcon from './AgentIcon';\nimport axios from 'axios';\nimport { Layout, Menu, Space } from 'antd';\nimport { CommentOutlined, SendOutlined } from '@ant-design/icons';\nimport 'antd/dist/antd.css';\nimport '../stylesheets/App.css';\n\nconst API_URL = window.location.origin + '/api'\n\nconst { Content, Sider } = Layout;\n\nexport default function Classify(props){\n\n    const [, dispatch] = useStore();\n    const [buttonsDisabled, setButtonsDisabled] = useState(false);\n    const { uuid, type } = props;\n    const [input, setInput] = useState(\"\");\n    const [results, setResults] = useState(\"Waiting for input.\");\n\n    const handleChange = (event) => {\n        setInput(event.target.value);\n    }\n\n    const classify = (event) => {\n        event.preventDefault();\n        axios.post(`${API_URL}/classify/${uuid}`, {input: input})\n         .then((response) => {\n            setResults(JSON.stringify(response.data, null , 2));\n            setInput(\"\");\n         });\n    }\n\n    const form = () => {\n      return (\n           <form className=\"grid\" onSubmit={classify}>\n                <div className=\"component terraced\">\n                    <input name=\"input\" className=\"chat-input\" onChange={handleChange} value={input} placeholder=\"Type here.\"/>\n                    <div className=\"options\">\n                        <div onClick={classify} className=\"chat-input-send\"><SendOutlined /> </div>\n                    </div>\n                </div>\n           </form>\n      );\n    }\n\n    const page = () => {\n        return (\n            <div className=\"component\">\n                <Space align=\"center\" style={{ background:'#fff', padding: 0, height:'3.5em', border:0}}>\n                    <span style={{marginLeft:'1em'}}><AgentIcon type={1} /> Classify</span>\n                </Space>\n                <Content>\n                    <div className=\"classifier-results\" style={{marginLeft:'1rem', marginRight:'1rem'}}><pre>{results}</pre></div>\n                </Content>\n                <div className=\"footer\">\n                    {form()}\n                </div>\n            </div>\n        );\n    }\n\n    const inline = () => {\n        return (\n            <div className=\"component terraced\">\n                <div className=\"list no-margin-padding-border\">\n                    <Space align=\"center\" style={{ background:'#fff', padding: 0, height:'3.5em', border:0}}>\n                        <span style={{marginLeft:'1em'}}><AgentIcon type={1} /> Classify</span>\n                    </Space>\n                    { !results.length == 0 &&\n                        <div className=\"list\">\n                            <div className=\"component \">\n                                <div className=\"component \">\n                                    <div className=\"classifier-results\"><pre>{results}</pre></div>\n                                </div>\n                            </div>\n                        </div>\n                    }\n                    {form()}\n                </div>\n            </div>\n        );\n    }\n\n    switch(type){\n        case \"inline\":\n            return inline()\n        case \"page\" :\n        default:\n            return page()\n    }\n}\n","import React, { useState } from 'react';\nimport { useStore } from '../Hooks'\nimport {\n    deleteAgent,\n    buildAgent,\n    copyAgent,\n    setAgentMainFlag,\n    setAgentTemplateFlag,\n    setAgentLockedFlag\n} from '../actions/agents';\n\nimport AgentForm from './AgentForm';\nimport AgentModules from './AgentModules';\nimport AgentIcon from './AgentIcon';\nimport Chat from './Chat';\nimport Classify from './Classify';\nimport auth0Client from '../Auth';\nimport { Layout, Menu, Space, Button, Popconfirm, Upload, message, Row, Col } from 'antd';\nimport Tooltip from './Tooltip';\nimport {\n    HomeFilled,\n    HomeOutlined,\n    BuildFilled,\n    DeleteFilled,\n    CaretUpFilled,\n    CaretDownFilled,\n    LockFilled,\n    UnlockFilled,\n    LockOutlined,\n    UnlockOutlined,\n    LoadingOutlined,\n    CopyOutlined,\n    FileTextOutlined,\n    FileTextFilled,\n    UploadOutlined\n} from '@ant-design/icons';\n\nconst { Content } = Layout;\n\nexport default function Agent(props){\n\n    const [, dispatch] = useStore();\n    const [buttonsDisabled, setButtonsDisabled] = useState(false);\n    const {agent} = props;\n    const [detailVisibility, setDetailVisibility] = useState(false);\n    const [deleting, setDeleting] = useState(false);\n    const [settingMain, setSettingMain] = useState(false);\n    const [settingMainFlag, setSettingMainFlag] = useState(false);\n    const [settingLockFlag, setSettingLockFlag] = useState(false);\n    const [settingTemplateFlag, setSettingTemplateFlag] = useState(false);\n    const [copying, setCopying] = useState(false);\n\n    const dele = () => {\n        const callbacks = {\n            error: () => {\n                setDeleting(false);\n                setButtonsDisabled(false);\n            }\n        };\n        setDeleting(true);\n        setButtonsDisabled(true);\n        setTimeout(() => {\n            dispatch(deleteAgent(agent.uuid, callbacks));\n        }, 0);\n    }\n\n    const copy = () => {\n        const callbacks = {\n            final: () => {\n                setCopying(false);\n                setButtonsDisabled(false);\n            },\n            error: () => {\n                setCopying(false);\n                setButtonsDisabled(false);\n            }\n        };\n        setCopying(true);\n        setButtonsDisabled(true);\n        setTimeout(() => {\n            dispatch(copyAgent(agent.uuid, callbacks));\n        }, 0);\n    }\n\n    const setMainFlag = () => {\n        const callbacks = {\n            final: () => {\n                setSettingMainFlag(false);\n                setButtonsDisabled(false);\n            },\n            error: () => {\n                setSettingMainFlag(false);\n                setButtonsDisabled(false);\n            }\n        };\n        setSettingMainFlag(true);\n        setButtonsDisabled(true);\n        dispatch(setAgentMainFlag({\n            uuid: agent.uuid,\n            flag: !agent.is_main\n        }\n        , callbacks));\n    }\n\n    const setLockFlag = () => {\n        const callbacks = {\n            final: () => {\n                setSettingLockFlag(false);\n                setButtonsDisabled(false);\n            },\n            error: () => {\n                setSettingLockFlag(false);\n                setButtonsDisabled(false);\n            }\n        };\n        setSettingLockFlag(true);\n        setButtonsDisabled(true);\n        dispatch(setAgentLockedFlag({\n            uuid: agent.uuid,\n            flag: !agent.is_locked\n        }\n        , callbacks));\n    }\n\n    const setTemplateFlag = () => {\n        const callbacks = {\n            final: () => {\n                setSettingTemplateFlag(false);\n                setButtonsDisabled(false);\n            },\n            error: () => {\n                setSettingTemplateFlag(false);\n                setButtonsDisabled(false);\n            }\n        };\n        setSettingTemplateFlag(true);\n        setButtonsDisabled(true);\n        dispatch(setAgentTemplateFlag({\n            uuid: agent.uuid,\n            flag: !agent.is_template\n        }\n        , callbacks));\n    }\n\n    const interactors = () =>{\n        switch(agent.type){\n            case 1:\n                return (\n                    <Classify uuid={agent.uuid} type=\"inline\"/>\n                    );\n            case 2:\n                return (\n                    <div className=\"head\">\n                        <div className=\"list\">\n                            <Chat identifier={agent.uuid} type=\"inline\"/>\n                            <Classify uuid={agent.uuid} type=\"inline\"/>\n                        </div>\n                    </div>\n                );\n            default:\n                return null;\n        }\n    }\n\n    return (\n        <div className=\"component terraced\">\n            <div className=\"list no-margin-padding-border\">\n                <div className=\"grid no-margin-padding-border\" style={{ whiteSpace: 'nowrap'}}>\n                    <Space>\n                        {<AgentIcon type={agent.type}/>}\n                        {agent.name}\n                        { agent.is_locked &&\n                            <Tooltip title=\"Agent Locked\" overlayStyle={{borderRadius:'.5em'}}>\n                                <LockFilled />\n                            </Tooltip>\n                        }\n                        { agent.is_main &&\n                            <Tooltip title=\"Main Agent\">\n                                <HomeFilled />\n                            </Tooltip>\n                        }\n                        { agent.is_template &&\n                            <Tooltip title=\"Template\">\n                                <FileTextFilled />\n                            </Tooltip>\n                        }\n                    </Space>\n                    <Space size=\"small\">\n                        <span>&nbsp;</span>\n                        { !agent.is_locked && auth0Client.hasPermission('delete:agents') &&\n                            (deleting  ?\n                                <Tooltip title=\"Deleting Agent\">\n                                    <Button type=\"danger\" shape=\"circle\" size=\"small\" icon={ <LoadingOutlined spin /> } />\n                                </Tooltip>\n                              :\n                                <Tooltip title=\"Delete Agent\">\n                                    <Popconfirm disabled={buttonsDisabled} title=\"Confirming Delete?\" placement=\"left\" onConfirm={dele} okText=\"Confirm\" cancelText=\"Cancel\">\n                                         <Button disabled={buttonsDisabled} type=\"danger\" shape=\"circle\" size=\"small\" icon={ <DeleteFilled />} />\n                                    </Popconfirm>\n                                </Tooltip>\n                            )\n                        }\n                        { auth0Client.hasPermission('create:agents') &&\n                            (copying  ?\n                                <Tooltip title=\"Making Copy\">\n                                    <Button shape=\"circle\" size=\"small\" icon={ <LoadingOutlined spin /> } />\n                                </Tooltip>\n                              :\n                                <Tooltip title=\"Make Copy\">\n                                    <Button disabled={buttonsDisabled} shape=\"circle\" size=\"small\" onClick={copy} icon={ <CopyOutlined />} />\n                                </Tooltip>\n                            )\n                        }\n                        { auth0Client.hasPermission('lock:agents') &&\n                            (settingMainFlag ?\n                                <Tooltip title={!agent.is_main ? \"Making Main\" : \"Making Not Main\"}>\n                                    <Button shape=\"circle\" size=\"small\" icon={ <LoadingOutlined spin /> } />\n                                </Tooltip>\n                              :\n                                <Tooltip title={agent.is_main ? \"Make Not Main\" : \"Make Main\"}>\n                                    <Button disabled={buttonsDisabled} size=\"small\" shape=\"circle\" onClick={setMainFlag} icon={ agent.is_main ? <HomeFilled /> : <HomeOutlined />}/>\n                                </Tooltip>\n                            )\n                        }\n                        { auth0Client.hasPermission('lock:agents') &&\n                            (settingLockFlag ?\n                                <Tooltip title={agent.is_locked ? \"Unlocking Agent\" : \"Locking Agent\"}>\n                                    <Button shape=\"circle\" size=\"small\" icon={ <LoadingOutlined spin /> } />\n                                </Tooltip>\n                              :\n                                <Tooltip title={agent.is_locked ? \"Unlock Agent\" : \"Lock Agent\"}>\n                                    <Button disabled={buttonsDisabled} size=\"small\" shape=\"circle\" onClick={setLockFlag} icon={ agent.is_locked ? <UnlockOutlined /> : <LockOutlined />}/>\n                                </Tooltip>\n                            )\n                        }\n                        { auth0Client.hasPermission('lock:agents') &&\n                            (settingTemplateFlag ?\n                                <Tooltip title={!agent.is_template ? \"Making Template\" : \"Making Not Template\"}>\n                                    <Button shape=\"circle\" size=\"small\" icon={ <LoadingOutlined spin /> } />\n                                </Tooltip>\n                              :\n                                <Tooltip title={agent.is_template ? \"Make Not Template\" : \"Make Template\"}>\n                                    <Button disabled={buttonsDisabled} size=\"small\" shape=\"circle\" onClick={setTemplateFlag} icon={ !agent.is_template ? <FileTextFilled /> : <FileTextOutlined />}/>\n                                </Tooltip>\n                            )\n                        }\n                        { auth0Client.hasPermission('update:agents') &&\n                            ( agent.is_building ?\n                                <Tooltip title=\"Building Agent\">\n                                    <Button shape=\"circle\" size=\"small\" icon={ <LoadingOutlined spin /> } />\n                                </Tooltip>\n                              :\n                                <Tooltip title=\"Build Agent\">\n                                    <Button disabled={buttonsDisabled} shape=\"circle\" size=\"small\" onClick={() => dispatch(buildAgent(agent.uuid))} icon={<BuildFilled />}/>\n                                </Tooltip>\n                            )\n                        }\n                        <Button size=\"small\" onClick={() => setDetailVisibility(!detailVisibility)} icon={!detailVisibility ? <CaretDownFilled/> : <CaretUpFilled/>}/>\n                    </Space>\n                </div>\n                { detailVisibility && !agent.is_locked && auth0Client.hasPermission('update:agents') &&\n\n                    <Space direction=\"vertical\" style={{margin:'.5em 0'}}>\n                        <b>Name</b>\n                        <AgentForm type={agent.type} uuid={agent.uuid} name={agent.name}/>\n                        <b>Identifier</b>\n                        <div className=\"component\">{agent.uuid}</div>\n                    </Space>\n                }\n                { detailVisibility &&\n                    <Space direction=\"vertical\" style={{margin:'.5em 0'}}>\n                        <AgentModules agent={agent}/>\n                        { (agent.modules.length) ?\n                            <Classify uuid={agent.uuid} type=\"inline\"/>\n                          : null\n                        }\n                        { (agent.modules.length) && agent.type == 2 ?\n                            <Chat identifier={agent.uuid} type=\"inline\"/>\n                          : null\n                        }\n                    </Space>\n                }\n            </div>\n        </div>\n    );\n}\n","import React, { useState, useEffect } from 'react';\nimport { Redirect } from 'react-router';\nimport { useStore } from '../Hooks'\nimport { loadAgents } from '../actions/agents';\nimport Agent from './Agent';\nimport AgentForm from './AgentForm';\nimport AgentIcon from './AgentIcon';\nimport ContextHead from './ContextHead';\nimport ListOrEmpty from './ListOrEmpty';\nimport Loads from './Loads';\nimport { AGENT_TYPES } from '../actions/agents';\nimport auth0Client from '../Auth';\nimport Page from './Page';\nimport { Space } from 'antd';\n\nexport default function AgentsList(props) {\n    const {type} = props;\n    const [state, dispatch] = useStore();\n    const { loaded } = state.agents;\n    const agents = Object.values(state.agents.agents).filter(agent => type ? agent.type == type : true)\n\n    useEffect(() => {\n        if (!loaded){\n            dispatch(loadAgents());\n        }\n    },[true]);\n\n    return (\n        <Page\n            header={<ContextHead icon={<AgentIcon type={type}/>} title={ `${type ? AGENT_TYPES[type]['name'][1] : \"All Agents\"} > List` } />}>\n                <Space direction=\"vertical\" style={{width:'100%', padding:'.5em'}}>\n                { type && auth0Client.hasPermission('create:agents') &&\n                    <AgentForm type={type} />\n                }\n                <Loads loaded={loaded}>\n                    <ListOrEmpty\n                        items={agents}\n                        description={`${type ? AGENT_TYPES[type]['name'][1] : \"Agents\"} Empty`}>\n                           { agents.map((agent, key) => (\n                               <Agent key={agent.id} agent={agent} />\n                           ))}\n                    </ListOrEmpty>\n                </Loads>\n                </Space>\n        </Page>\n    );\n}\n","import React, {useState, useEffect} from 'react';\nimport { useStore } from '../Hooks'\nimport { bindAgentPushListeners } from '../actions/agents'\n\nexport default function PushListeners(props) {\n    const [state, dispatch] = useStore();\n    const {agents, loaded} = state.agents\n\n    useEffect(() => {\n        if(loaded){\n            dispatch(bindAgentPushListeners(agents))\n        }\n    },[agents]);\n\n    return (\n        <></>\n    );\n}\n","import React, { useState } from 'react';\nimport TextExpander from './TextExpander';\nimport { Layout, Button, Drawer } from 'antd';\nimport { NodeExpandOutlined } from '@ant-design/icons';\n\nconst { Sider } = Layout;\n\nexport default function BottomDrawerTextExpander(props) {\n    const [collapsed, setCollapsed] = useState(false);\n\n    return (\n        <Sider\n         collapsed={collapsed}\n         defaultCollapsed={true}\n         zeroWidthTriggerStyle={{position:'fixed', right: '4.5em', background:'none', top:'-.1em'}}\n         breakpoint=\"xxl\"\n         width=\"98vw\"\n         collapsedWidth={0}\n         theme=\"light\"\n         trigger={<Button size=\"small\" shape=\"circle\" icon={<NodeExpandOutlined />} type=\"primary\" style={{}} />}\n         style={{ zIndex:'1000', position: 'fixed', bottom:'1vh', right: collapsed ? 0 : '1vw'}}\n         onCollapse={(collapsed, type) => {\n            setCollapsed(collapsed);\n         }}\n         >\n            <div className=\"component terraced\" style={{minHeight:'1.4em'}}>\n                <TextExpander />\n            </div>\n        </Sider>\n    );\n\n}\n\n\n\n","import React, { Component } from 'react';\nimport { Route, Switch } from 'react-router-dom'\nimport { withRouter } from 'react-router';\nimport auth0Client from './Auth';\nimport ProtectedRoute from './components/ProtectedRoute';\nimport Auth0Callback from './components/Auth0Callback';\nimport HomePage from './components/HomePage';\nimport Chat from './components/Chat';\nimport ModuleBuilder from './components/ModuleBuilder';\nimport AgentsList from './components/AgentsList';\nimport PushListeners from './components/PushListeners';\nimport LeftMenu from './components/LeftMenu';\nimport RightFloatingChat from './components/RightFloatingChat';\nimport BottomDrawerTextExpander from './components/BottomDrawerTextExpander';\nimport { Layout } from 'antd';\nimport 'antd/dist/antd.css';\nimport './stylesheets/App.css';\n\nconst { Content } = Layout;\n\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      checkingSession: true,\n    }\n  }\n\n  async componentDidMount() {\n    if (this.props.location.pathname === '/callback') {\n      this.setState({checkingSession:false});\n      return;\n    }\n    try {\n      await auth0Client.silentAuth();\n      this.forceUpdate();\n    } catch (err) {\n      if (err.error !== 'login_required') console.log(err.error);\n    }\n    this.setState({checkingSession:false});\n  }\n\n  render() {\n    return (\n        <div className=\"App\">\n            <PushListeners />\n            { !this.state.checkingSession &&\n            <Layout style={{ background:'#fff', height:'100vh' }}>\n                <LeftMenu/>\n                <RightFloatingChat/>\n                <BottomDrawerTextExpander/>\n                <Content>\n                    <Switch>\n                        <Route exact path='/' component={HomePage} />\n                        { !auth0Client.isAuthenticated() &&\n                        <Route exact path='/callback' component={Auth0Callback} />\n                        }\n                        <ProtectedRoute path=\"/classifiers\" component={AgentsList} type={1} />\n                        <ProtectedRoute path=\"/chatbots\" component={AgentsList} type={2} />\n                        <ProtectedRoute path=\"/module/:uuid\" component={ModuleBuilder}/>\n                        <Route path=\"/chat/:identifier\" component={Chat}/>\n                    </Switch>\n                </Content>\n            </Layout>\n            }\n        </div>\n    );\n  }\n}\n\nexport default withRouter(App);\n","const initialState = {\n  id:null,\n  name:\"\",\n  description:\"\",\n  modules:[],\n  selected_module_id:null\n}\n\nexport default function reducer(state = initialState, action) {\n\n  switch (action.type) {\n    case 'UPDATE_AGENT':\n      return { ...state, ...action.payload }\n    case 'STORE_AGENT':\n      return { ...state, ...action.payload }\n    default:\n      return {\n        ...state\n      }\n  }\n}\n","const initialState = {\n  agents:{},\n  loaded:false\n}\n\nexport default function reducer(state = initialState, action) {\n\n    switch (action.type) {\n        case 'STORE_AGENTS':\n            return {\n            ...state,\n            agents: {...state.agents, ...action.payload},\n            loaded:true\n            }\n\n        case 'CLEAR_AGENT':\n            let agents = { ...state.agents }\n            delete agents[action.payload]\n            return {\n            ...state,\n            agents: agents\n            }\n\n        default:\n            return {\n            ...state\n            }\n    }\n\n}\n","const initialState = {\n  modules:[],\n  loaded:false\n}\n\nexport default function reducer(state = initialState, action) {\n\n  switch (action.type) {\n    case 'STORE_MODULES':\n      return {\n        ...state,\n        modules: action.payload,\n        loaded:true\n      }\n    default:\n      return {\n        ...state\n      }\n  }\n}\n","const initialState = {\n  id:null,\n  uuid:null,\n  name:\"\",\n  intents:[]\n}\n\nexport default function reducer(state = initialState, action) {\n\n  switch (action.type) {\n    case 'UPDATE_MODULE':\n      return { ...state, ...action.payload }\n    case 'STORE_MODULE':\n      return { ...state, ...action.payload }\n    case 'CLEAR_MODULE':\n      return { ...initialState }\n    default:\n      return {\n        ...state\n      }\n  }\n}\n","import { combineReducers } from 'redux'\nimport agent from './agent'\nimport agents from './agents'\nimport modules from './modules'\nimport module from './module'\n\nexport default combineReducers({\n  agents,\n  agent,\n  modules,\n  module\n})\n","import { createStore, applyMiddleware } from 'redux'\n\nimport thunk from 'redux-thunk'\nimport logger from 'redux-logger'\nimport promise from 'redux-promise-middleware'\n\nimport reducer from './reducers'\n\nconst initialState = {};\nconst middleware = applyMiddleware(promise, thunk, logger);\n\nexport default createStore(\n    reducer,\n    initialState,\n    middleware\n);\n","import React from 'react';\nimport { render } from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './App';\nimport store from './store';\nimport './stylesheets/App.css';\nimport 'antd/dist/antd.css';\n\nrender(\n  <Provider store={store}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </Provider>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}