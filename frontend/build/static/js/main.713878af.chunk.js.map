{"version":3,"sources":["Auth.js","components/Auth0Callback.js","Pusher.js","XHR.js","actions/agents.js","components/LeftMenu.js","Hooks.js","components/AgentIcon.js","components/ContextHead.js","components/Chat.js","components/RightFloatingChat.js","components/Page.js","components/HomePage.js","actions/modules.js","components/Loads.js","components/IntentPatternVariationForm.js","components/IntentPatternForm.js","components/ListOrEmpty.js","components/IntentPatternsList.js","components/IntentResponseForm.js","components/IntentResponsesList.js","components/IntentForm.js","components/ModuleIntent.js","components/ModuleForm.js","components/ModuleJSONForm.js","components/ModuleBuilder.js","components/AgentForm.js","components/Tooltip.js","components/Module.js","components/ModulesList.js","components/ModuleForms.js","components/AgentModules.js","components/Classify.js","components/Agent.js","components/AgentsList.js","components/PushListeners.js","actions/lexicon.js","components/BottomDrawerTextExpander.js","App.js","reducers/agent.js","reducers/agents.js","reducers/modules.js","reducers/module.js","reducers/index.js","store.js","index.js"],"names":["auth0Client","parseJwt","token","JSON","parse","atob","split","e","this","auth0","WebAuth","domain","process","audience","clientID","redirectUri","window","location","origin","responseType","scope","getProfile","bind","handleAuthentication","isAuthenticated","signIn","signOut","profile","idToken","accessToken","Date","getTime","expiresAt","authorize","Promise","resolve","reject","parseHash","err","authResult","setSession","idTokenPayload","permissions","exp","permission","includes","logout","returnTo","checkSession","headers","Authorization","Auth0Callback","props","history","replace","Component","withRouter","push","pusher","Pusher","cluster","encrypted","channels","channel","subscribe","bindings","key","callback","data","API_URL","xhr","endpoint","type","success","error","final","successCallback","errorCallback","finalCallback","dispatch","request","args","axios","get","apiAuthHeaders","post","patch","delete","console","log","then","response","catch","finally","defaults","baseURL","AGENT_TYPES","1","name","code","stringify","2","loadingAgents","payload","storeAgents","results","map","result","uuid","clearAgent","loadAgents","callbacks","loadAgent","bindAgentPushListeners","saveAgent","agents","getState","Object","values","agent","bindAction","message","buildStartMessage","buildCompleteMessage","buildErrorMessage","Sider","Menu","SubMenu","Layout","Header","Content","useState","collapsed","setCollapsed","defaultCollapsed","zeroWidthTriggerStyle","top","breakpoint","collapsedWidth","theme","style","zIndex","position","height","left","bottom","onBreakpoint","broken","onCollapse","mode","width","onClick","Item","icon","HomeOutlined","to","hasPermission","ShareAltOutlined","rotate","CommentOutlined","LogoutOutlined","LoginOutlined","useStore","store","useContext","ReactReduxContext","storeState","setStoreState","useEffect","AgentIcon","className","borderBottom","background","whiteSpace","paddingLeft","paddingRight","children","size","align","title","charAt","toUpperCase","Chat","identifier","match","params","setMessage","setResponse","handleChange","event","target","value","chat","preventDefault","form","onSubmit","onChange","placeholder","SendOutlined","padding","border","marginLeft","margin","item","Page","footer","header","right","trigger","shape","Footer","paddingTop","marginTop","HomePage","loadingModules","storeModules","storeModule","loadModules","loadModule","download","content","fileName","contentType","a","document","createElement","file","Blob","href","URL","createObjectURL","click","moduleJSON","module","intents","intent","patterns","length","pattern","text","responses","downloadModule","saveModule","agent_uuid","saveIntent","saveIntentPattern","saveIntentResponse","deleteModule","validateJSONNotification","notification","description","Loads","loaded","LoadingOutlined","spin","Option","Select","IntentPatternVariationForm","buttonsDisabled","setButtonsDisabled","intent_uuid","reset","modified","setModified","saving","setSaving","setLoaded","setText","variations","setVariations","getIntentPatternVariations","DownloadOutlined","marginRight","word","bordered","id","nextVariations","nextText","variation","dropdownMatchSelectWidth","_word","disabled","htmlType","PlusOutlined","CloseOutlined","IntentPatternForm","deleting","setDeleting","viewExpandable","setViewExpandable","NodeExpandOutlined","SaveFilled","placement","onConfirm","setTimeout","deleteIntentPattern","okText","cancelText","DeleteFilled","ListOrEmpty","items","direction","IntentPatternsList","is_locked","plain","index","IntentResponseForm","maxHeight","UploadOutlined","rows","deleteIntentResponse","IntentResponsesList","IntentForm","module_uuid","setName","nextName","ModuleIntent","agent_type","listVisibility","setListVisibility","deleteIntent","CaretUpFilled","CaretDownFilled","ModuleForm","AppstoreOutlined","ModuleJSONForm","setCode","overflow","FileTextFilled","silent","validateJSON","fontSize","showPrintMargin","showGutter","highlightActiveLine","setOptions","showLineNumbers","tabSize","wrap","ModuleBuilder","state","codeVisible","setCodeVisible","downloading","setDownloading","deleted","setDeleted","dele","EyeFilled","CloudDownloadOutlined","AgentForm","Tooltip","mouseLeaveDelay","Module","settingNoiseFlag","setSettingNoiseFlag","is_noise","MenuUnfoldOutlined","flag","setModuleNoiseFlag","MenuFoldOutlined","ModulesList","modules","ind","ModuleForms","upload_props","multiple","showUploadList","action","info","status","fileList","minHeight","CloudUploadOutlined","AgentModules","Classify","input","setInput","setResults","classify","Agent","detailVisibility","setDetailVisibility","settingMainFlag","setSettingMainFlag","settingLockFlag","setSettingLockFlag","settingTemplateFlag","setSettingTemplateFlag","copying","setCopying","overlayStyle","borderRadius","LockFilled","is_main","HomeFilled","is_template","deleteAgent","copyAgent","CopyOutlined","setAgentMainFlag","setAgentLockedFlag","UnlockOutlined","LockOutlined","setAgentTemplateFlag","FileTextOutlined","is_building","buildAgent","BuildFilled","AgentsList","filter","PushListeners","getTextVariations","BottomDrawerTextExpander","autoSubmit","setAutoSubmit","expand","clearTimeout","line","line_key","display","flexWrap","word_key","showArrow","nextLines","join","trim","variationChange","App","checkingSession","pathname","setState","silentAuth","forceUpdate","exact","path","component","render","initialState","selected_module_id","combineReducers","middleware","applyMiddleware","promise","thunk","logger","createStore","reducer","getElementById"],"mappings":"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","file":"static/js/main.713878af.chunk.js","sourcesContent":["import auth0 from 'auth0-js';\n\nclass Auth {\n  constructor() {\n    this.auth0 = new auth0.WebAuth({\n      // the following three lines MUST be updated\n      domain: process.env.REACT_APP_AUTH0_DOMAIN,\n      audience: process.env.REACT_APP_AUTH0_API_AUDIENCE,\n      clientID: process.env.REACT_APP_AUTH0_CLIENT_ID,\n      redirectUri: window.location.origin + '/callback',\n      responseType: 'token id_token',\n      scope: 'openid profile'\n    });\n    /*  read:agents create:agents read:modules create:modules update:modules delete:agents update:agents */\n\n    this.getProfile = this.getProfile.bind(this);\n    this.handleAuthentication = this.handleAuthentication.bind(this);\n    this.isAuthenticated = this.isAuthenticated.bind(this);\n    this.signIn = this.signIn.bind(this);\n    this.signOut = this.signOut.bind(this);\n  }\n\n  getProfile() {\n    return this.profile;\n  }\n\n  getIdToken() {\n    return this.idToken;\n  }\n\n  getAccessToken() {\n    return this.accessToken;\n  }\n\n  isAuthenticated() {\n    return new Date().getTime() < this.expiresAt;\n  }\n\n  signIn() {\n    this.auth0.authorize();\n  }\n\n  handleAuthentication() {\n    return new Promise((resolve, reject) => {\n      this.auth0.parseHash((err, authResult) => {\n        if (err) return reject(err);\n        if (!authResult || !authResult.idToken) {\n          return reject(err);\n        }\n        this.setSession(authResult);\n        resolve();\n      });\n    })\n  }\n\n  setSession(authResult) {\n    this.idToken = authResult.idToken;\n    this.profile = authResult.idTokenPayload;\n    this.accessToken = authResult.accessToken;\n    try {\n        this.profile['permissions'] = this.parseJwt(authResult.accessToken).permissions;\n    }\n    catch(e){\n        this.profile['permissions'] = [];\n    }\n    this.expiresAt = authResult.idTokenPayload.exp * 1000;\n  }\n\n  hasPermission(permission) {\n    return (this.isAuthenticated() && this.profile['permissions'].includes(permission)) ? true : false;\n  }\n\n  parseJwt = (token) => {\n      try {\n          return JSON.parse(atob(token.split('.')[1]));\n      } catch (e) {\n          return null;\n      }\n   }\n\n  permissions() {\n    return this.profile.permissions;\n  }\n\n  signOut() {\n    this.auth0.logout({\n      returnTo: window.location.origin,\n      clientID: process.env.REACT_APP_AUTH0_CLIENT_ID,\n    });\n  }\n\n  silentAuth() {\n    return new Promise((resolve, reject) => {\n      this.auth0.checkSession({}, (err, authResult) => {\n        if (err) return reject(err);\n        this.setSession(authResult);\n        resolve();\n      });\n    });\n  }\n\n  apiAuthHeaders(){\n    return {\n        headers: { Authorization: `Bearer ${auth0Client.accessToken}` }\n    };\n  }\n}\n\nconst auth0Client = new Auth();\n\nexport default auth0Client;\n","import React, {Component} from 'react';\nimport {withRouter} from 'react-router-dom';\nimport auth0Client from '../Auth';\n\nclass Auth0Callback extends Component {\n  async componentDidMount() {\n    await auth0Client.handleAuthentication();\n    this.props.history.replace('/');\n  }\n\n  render() {\n    return (\n      <p>Loading profile...</p>\n    );\n  }\n}\n\nexport default withRouter(Auth0Callback);\n","import Pusher from 'pusher-js';\n\nclass Push {\n\n    constructor() {\n        this.pusher = new Pusher(process.env.REACT_APP_PUSHER_KEY, {\n            cluster: process.env.REACT_APP_PUSHER_CLUSTER,\n            encrypted: true\n        });\n        this.channels = {}\n    }\n\n    subscribe(channel){\n        if (!(channel in this.channels)){\n            this.channels[channel] = {\n                channel: this.pusher.subscribe(channel),\n                bindings: []\n            }\n        }\n    }\n\n    bindAction(channel, key, callback){\n        this.subscribe(channel)\n        if (!(this.channels[channel].bindings.includes(key))){\n            this.channels[channel].bindings.push(key)\n            this.channels[channel].channel.bind(key, data => {\n              callback(data)\n            });\n        }\n    }\n\n}\n\nconst push = new Push();\n\nexport default push;\n","import axios from 'axios';\nimport auth0Client from './Auth';\n\nconst API_URL = window.location.origin + '/api'\n\naxios.defaults.baseURL = API_URL\n\nexport function xhr(props){\n    const {endpoint, type, data, success, error, final, successCallback, errorCallback, finalCallback } = props;\n\n    return function(dispatch){\n        let request = false;\n        let args = false;\n        switch(type){\n            case 'get':\n                request = axios.get;\n                args = [endpoint, auth0Client.apiAuthHeaders()];\n                break;\n            case 'post':\n                request = axios.post;\n                args = [endpoint, data, auth0Client.apiAuthHeaders()];\n                break;\n            case 'patch':\n                request = axios.patch;\n                args = [endpoint, data, auth0Client.apiAuthHeaders()];\n                break;\n            case 'delete':\n                request = axios.delete;\n                args = [endpoint, auth0Client.apiAuthHeaders()];\n                break;\n            default:\n                console.log('error, no type defined on xhr call')\n                return;\n        }\n\n        request(...args)\n        .then((response) => {\n            if(typeof(success) === 'function'){\n                success(response)\n            }\n            if(typeof(successCallback) === 'function'){\n                successCallback()\n            }\n        }).catch((err) => {\n            if(typeof(error) === 'function'){\n                error(err)\n            }\n            if(typeof(errorCallback) === 'function'){\n                errorCallback()\n            }\n        }).finally(() => {\n            if(typeof(final) === 'function'){\n                final()\n            }\n            if(typeof(finalCallback) === 'function'){\n                finalCallback()\n            }\n        })\n    }\n};\n","import React from 'react'\nimport push from '../Pusher';\nimport { message } from 'antd';\nimport { xhr } from '../XHR'\nimport { CommentOutlined, LoadingOutlined, ShareAltOutlined } from '@ant-design/icons';\n\nexport const AGENT_TYPES = {\n    1: {\n        name:[\"Classifier\", \"Classifiers\"],\n        code: JSON.stringify({\n            \"name\": \"example\",\n            \"intents\": [\n                {\n                    \"name\": \"greeting\",\n                    \"patterns\": [\n                        {\n                          \"text\": \"Hello\"\n                        }\n                    ]\n                }\n            ]\n        }, null, 2)\n    },\n    2: {name:[\"Chat Bot\", \"Chat Bots\"],\n        code: JSON.stringify({\n            \"name\": \"example\",\n            \"intents\": [\n                {\n                    \"name\": \"greeting\",\n                    \"patterns\": [\n                        {\n                          \"text\": \"Hello\"\n                        }\n                    ],\n                    \"responses\": [\n                        {\n                          \"text\": \"Hello World\"\n                        }\n                    ]\n                }\n            ]\n        }, null, 2)}\n}\n\nexport function loadingAgents(){\n  return {\n    type: 'LOADING_AGENTS',\n    payload: null\n  }\n};\n\nexport function storeAgents(results){\n  let payload = {};\n  results.map((result) => { payload[result.uuid] = result})\n  return {\n    type: 'STORE_AGENTS',\n    payload: payload\n  }\n};\n\nexport function storeAgent(response){\n  return {\n    type: 'STORE_AGENT',\n    payload: {[response.data.result.uuid]:response.data.result}\n  }\n};\n\nexport function clearAgent(uuid){\n  return {\n    type: 'CLEAR_AGENT',\n    payload: uuid\n  }\n};\n\nexport function loadAgents(callbacks={}){\n    return function(dispatch){\n        const { success, error, final } = callbacks;\n        const endpoint = `/agents`;\n        const type = 'get';\n        dispatch(loadingAgents);\n        dispatch(xhr({\n            endpoint: endpoint,\n            type: type,\n            success : (response) => {\n                dispatch(storeAgents(response.data.results))\n                //dispatch(bindAgentPushListeners())\n            },\n            successCallback: success,\n            error: err => {\n                console.log(err)\n                dispatch(storeAgents([]));\n            },\n            errorCallback: error,\n            finalCallback: final,\n        }));\n    }\n};\n\nexport function loadAgent(uuid, callbacks={}){\n    return function(dispatch){\n        const { success, error, final } = callbacks;\n        const endpoint = `/agents/${uuid}`;\n        const type = 'get';\n        dispatch(xhr({\n            endpoint: endpoint,\n            type: type,\n            success : (response) => {\n                dispatch(storeAgents([response.data.result]))\n                dispatch(bindAgentPushListeners())\n            },\n            successCallback: success,\n            error: err => {\n                dispatch(storeAgents([]));\n            },\n            errorCallback: error,\n            finalCallback: final,\n        }));\n    }\n};\n\nexport function saveAgent(data, callbacks={}){\n    return function(dispatch){\n        const { success, error, final } = callbacks;\n        const { uuid } = data;\n        const type = uuid ? 'patch' : 'post';\n        const endpoint = uuid ? `/agents/${uuid}` : `/agents`;\n        dispatch(xhr({\n            type: type,\n            endpoint: endpoint,\n            data: {data},\n            success : (response) => {\n                dispatch(loadAgents({final: final}))\n            },\n            successCallback: success,\n            errorCallback: error\n        }));\n    }\n};\n\nexport function copyAgent(uuid, callbacks={}){\n    return function(dispatch){\n        const { success, error, final } = callbacks;\n        const type = 'post';\n        const endpoint = `/agents/${uuid}/copy`;\n        dispatch(xhr({\n            type: type,\n            endpoint: endpoint,\n            data: {},\n            success : (response) => {\n                dispatch(storeAgents([response.data.result]))\n            },\n            successCallback: success,\n            errorCallback: error,\n            finalCallback:final\n        }));\n    }\n};\n\nexport function deleteAgent(uuid, callbacks={}){\n    return function(dispatch){\n        const { success, error, final } = callbacks;\n        const endpoint = `/agents/${uuid}`;\n        const type = 'delete';\n        dispatch(xhr({\n            endpoint: endpoint,\n            type: type,\n            success : (response) => {\n                dispatch(clearAgent(uuid))\n            },\n            successCallback: success,\n            errorCallback: error,\n            finalCallback: final\n        }));\n    }\n};\n\nexport function postAgentModule(data, callbacks={}){\n    return function(dispatch){\n        const { success, error, final } = callbacks;\n        const endpoint = `/agents/${data.uuid}/modules`;\n        const type = 'post';\n        dispatch(xhr({\n            endpoint: endpoint,\n            type: type,\n            data: {data},\n            success : (response) => {\n                dispatch(loadAgents({final: final}))\n            },\n            successCallback: success,\n            errorCallback: error\n        }));\n    }\n};\n\nexport function deleteAgentModule(data, callbacks={}){\n    return function(dispatch){\n        const { success, error, final } = callbacks;\n        const endpoint = `/agents/modules/${data.uuid}`;\n        const type = 'delete';\n        dispatch(xhr({\n            endpoint: endpoint,\n            type: type,\n            success : (response) => {\n                dispatch(loadAgents({final: final}))\n            },\n            successCallback: success,\n            errorCallback: error\n        }));\n    }\n};\n\nexport function setAgentTemplateFlag(data, callbacks={}){\n    return function(dispatch){\n        const { success, error, final } = callbacks;\n        const endpoint = `/agents/${data.uuid}/template/${data.flag}`;\n        const type = 'patch';\n        dispatch(xhr({\n            endpoint: endpoint,\n            type: type,\n            data: {},\n            success : (response) => {\n                dispatch(storeAgents([response.data.result]))\n            },\n            successCallback: success,\n            errorCallback: error,\n            finalCallback: final\n        }));\n    }\n};\n\nexport function setAgentLockedFlag(data, callbacks={}){\n    return function(dispatch){\n        const { success, error, final } = callbacks;\n        const endpoint = `/agents/${data.uuid}/locked/${data.flag}`;\n        const type = 'patch';\n        dispatch(xhr({\n            endpoint: endpoint,\n            type: type,\n            data: {},\n            success : (response) => {\n                dispatch(storeAgents([response.data.result]))\n            },\n            successCallback: success,\n            errorCallback: error,\n            finalCallback: final\n        }));\n    }\n};\n\nexport function setAgentMainFlag(data, callbacks={}){\n    return function(dispatch){\n        const { success, error, final } = callbacks;\n        const endpoint = `/agents/${data.uuid}/main/${data.flag}`;\n        const type = 'patch';\n        dispatch(xhr({\n            endpoint: endpoint,\n            type: type,\n            data: {},\n            success : (response) => {\n                dispatch(storeAgents(response.data.results))\n            },\n            successCallback: success,\n            errorCallback: error,\n            finalCallback: final\n        }));\n    }\n};\n\nexport function buildAgent(uuid, callbacks={}){\n    return function(dispatch, getState){\n        const { success, error, final } = callbacks;\n        const type = 'post';\n        const endpoint = `/agents/${uuid}/build`;\n        dispatch(xhr({\n            type: type,\n            endpoint: endpoint,\n            data: {},\n            success : (response) => {\n            },\n            successCallback: success,\n            errorCallback: error,\n            finalCallback: final\n        }));\n    }\n};\n\nexport function bindAgentPushListeners(agents){\n  return function(dispatch, getState){\n    Object.values(agents).map((agent) => {\n        push.bindAction(agent.uuid, 'start', (data) => {dispatch(buildStartMessage(data))})\n        push.bindAction(agent.uuid, 'complete', (data) => {dispatch(buildCompleteMessage(data))})\n        push.bindAction(agent.uuid, 'error', (data) => {dispatch(buildErrorMessage(data))})\n        push.bindAction(agent.uuid, 'reload', (data) => {dispatch(loadAgent(data.uuid))})\n        push.bindAction(agent.uuid, 'store', (data) => {dispatch(storeAgents(data.results))})\n        push.bindAction(agent.uuid, 'clear', (data) => {dispatch(clearAgent(data.uuid))})\n    })\n  }\n}\n\nexport function buildStartMessage(data){\n  return function(dispatch, getState){\n    message.success(`Agent ${data.name} build started.`);\n    dispatch(storeAgents([data]))\n  }\n};\n\nexport function buildCompleteMessage(data){\n  return function(dispatch, getState){\n     message.success(`Agent ${data.name} build complete.`);\n     dispatch(storeAgents([data]))\n  }\n};\n\nexport function buildErrorMessage(data){\n  return function(dispatch, getState){\n     message.error(`There was an error building agent ${data.name}.`);\n     dispatch(storeAgents([data]))\n  }\n};\n","import React, { useState } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport auth0Client from '../Auth';\nimport { AGENT_TYPES } from '../actions/agents';\nimport { Layout, Menu } from 'antd';\nimport { CommentOutlined, HomeOutlined, AppstoreOutlined, SettingOutlined, ShareAltOutlined, UserOutlined, LogoutOutlined, LoginOutlined } from '@ant-design/icons';\nimport 'antd/dist/antd.css';\n\nconst { SubMenu } = Menu;\nconst { Header, Content, Sider } = Layout;\n\nfunction LeftMenu(props) {\n    const [collapsed, setCollapsed] = useState(true);\n\n    const signOut = () => {\n        auth0Client.signOut();\n        props.history.replace('/');\n    };\n\n    const collapse = () => {\n        setCollapsed(true);\n    };\n\n\n\n    return (\n        <Sider\n         collapsed={collapsed}\n         defaultCollapsed={true}\n         zeroWidthTriggerStyle={{top:0}}\n         breakpoint=\"xxl\"\n         collapsedWidth={0}\n         theme=\"light\"\n         style={{zIndex:'1000', position: 'fixed', height: '100vh', top: 0 , left: 0 , bottom: 0 }}\n         onBreakpoint={broken => {\n            console.log(broken);\n          }}\n          onCollapse={(collapsed, type) => {\n            setCollapsed(collapsed);\n          }}\n         >\n            <Menu mode=\"inline\" theme=\"light\" style={{ top:0, bottom: 0, width: '100%', height: '100%' }} onClick={collapse}>\n                <Menu.Item key=\"home\" icon={<HomeOutlined />}><Link to='/'>Consorts Home</Link></Menu.Item>\n                { auth0Client.hasPermission('read:agents') &&\n                <Menu.Item key=\"classifiers\" icon={<ShareAltOutlined rotate={270}/>}>\n                    <Link to='/classifiers'>{AGENT_TYPES[1]['name'][1]}</Link>\n                </Menu.Item>\n                }\n                { auth0Client.hasPermission('read:agents') &&\n                <Menu.Item key=\"chatbots\" icon={<CommentOutlined/>}>\n                    <Link to='/chatbots'>{AGENT_TYPES[2]['name'][1]}</Link>\n                </Menu.Item>\n                }\n                { auth0Client.isAuthenticated() ?\n                <Menu.Item key=\"logout\" icon={<LogoutOutlined />} onClick={() => {signOut()}}>\n                    Sign Out\n                </Menu.Item>\n                :\n                <Menu.Item key=\"login\" icon={<LoginOutlined />} onClick={auth0Client.signIn}>\n                    Sign In\n                </Menu.Item>\n                }\n            </Menu>\n        </Sider>\n    );\n}\n\nexport default withRouter(LeftMenu);\n","import React, {useContext, useState, useEffect} from 'react';\nimport {ReactReduxContext} from 'react-redux';\n\nexport function useStore() {\n  const { store } = useContext(ReactReduxContext);\n  const { getState, dispatch, subscribe } = store;\n\n  const [ storeState, setStoreState ] = useState(getState());\n\n  useEffect(() => subscribe(() => {\n    setStoreState(getState());\n  }, []));\n\n  return [storeState, dispatch];\n}\n\nexport function useSelectors(...selectors) {\n  const [state] = useStore();\n  return selectors.map(selector => selector(state));\n}\n\nexport function useDispatch(...creators) {\n  const [, dispatch] = useStore();\n  return creators.map(creator => (...param) => dispatch(creator(...param)))\n}\n","import React from 'react';\nimport { CommentOutlined, ShareAltOutlined } from '@ant-design/icons';\n\nexport default function AgentIcon(props) {\n    const {type} = props;\n    switch(type){\n        case 1:\n           return ( <ShareAltOutlined rotate={270}/> );\n        case 2:\n           return ( <CommentOutlined /> );\n        default:\n           return null;\n    }\n}\n","import React from 'react';\nimport {Link, withRouter} from 'react-router-dom';\nimport auth0Client from '../Auth';\nimport { Space, Layout, Button, Avatar } from 'antd';\nimport { CommentOutlined, HomeOutlined, AppstoreOutlined, SettingOutlined, ShareAltOutlined, MenuOutlined, UserOutlined, LoginOutlined } from '@ant-design/icons';\nimport 'antd/dist/antd.css';\nimport { AGENT_TYPES } from '../actions/agents';\n\nconst { Header } = Layout;\n\nfunction ContextHead(props) {\n\n    const signOut = () => {\n        auth0Client.signOut();\n        props.history.replace('/');\n    };\n\n    return (\n        <div className=\"list no-margin-padding\">\n            <div className=\"grid no-margin-padding\" style={{ borderBottom: '1px solid #f0f0f0', background:'#fff', zIndex:'999', whiteSpace: 'nowrap', position: 'fixed', top:'0', left:'0', paddingLeft:'3em', paddingRight:'.6em'}}>\n                { props.children ||\n                    <Space size=\"small\" align=\"center\" style={{height: '3em'}}>\n                        { props.icon }\n                        { props.title }\n                    </Space>\n                }{ auth0Client.isAuthenticated() &&\n                <Space align=\"center\">\n                    <Avatar size=\"medium\">\n                        { auth0Client.getProfile().name.charAt(0).toUpperCase() }\n                    </Avatar>\n                </Space>\n                }\n            </div>\n        </div>\n\n    );\n}\n\nexport default withRouter(ContextHead);\n","import React, { useState } from 'react';\nimport { useStore } from '../Hooks'\nimport auth0Client from '../Auth';\nimport AgentIcon from './AgentIcon';\nimport Page from './Page';\nimport ContextHead from './ContextHead';\nimport { AGENT_TYPES } from '../actions/agents';\nimport axios from 'axios';\nimport { Layout, Menu, Space } from 'antd';\nimport { CommentOutlined, SendOutlined } from '@ant-design/icons';\nimport 'antd/dist/antd.css';\nimport '../stylesheets/App.css';\n\nconst API_URL = window.location.origin + '/api'\n\nconst { Content, Sider } = Layout;\n\nexport default function Chat(props){\n\n    const [, dispatch] = useStore();\n    const [buttonsDisabled, setButtonsDisabled] = useState(false);\n    const { type } = props;\n    const { identifier } = props.identifier || props.match.params.identifier;\n    const [message, setMessage] = useState(\"\");\n    const [response, setResponse] = useState(\"\");\n\n    const handleChange = (event) => {\n        setMessage(event.target.value);\n    }\n\n    const chat = (event) => {\n        event.preventDefault();\n        axios.post(`${API_URL}/chat/${props.identifier || props.match.params.identifier}`, {message: message})\n         .then((response) => {\n            setResponse(response.data.response);\n            setMessage(\"\");\n         });\n    }\n\n    const form = () => {\n      return (\n           <form className=\"grid\" onSubmit={chat}>\n                <div className=\"component terraced\">\n                    <input name=\"message\" className=\"chat-input\" onChange={handleChange} value={message} placeholder=\"Type here.\"/>\n                    <div className=\"options\">\n                        <div onClick={chat} className=\"chat-input-send\"><SendOutlined /> </div>\n                    </div>\n                </div>\n           </form>\n      );\n    }\n\n    const page = () => {\n        return (\n        <Page\n            footer={<div className=\"footer\">{form()}</div>}\n            header={ <ContextHead icon={<AgentIcon type={2}/>} title={ `${AGENT_TYPES[2]['name'][1]} > Chat` } /> }>\n\n            <Layout style={{background:'#fff'}}>\n            <div className=\"chat-responses\" style={{margin:'1em'}}>\n                {response.split('\\n').map((item, key) => {\n                    return <span key={key}>{item}<br/></span>\n                })}\n            </div>\n\n            </Layout>\n        </Page>\n        );\n    }\n\n    const inline = () => {\n        return (\n            <div className=\"component terraced\" style={{ background:'#fff', height:'100%' }}>\n                <div className=\"list no-margin-padding-border\" style={{ height:'100%' }}>\n                    <Space align=\"center\" style={{padding: 0, height:'3.5em', border:0}}>\n                        <span style={{marginLeft:'1em'}}><AgentIcon type={2} /> Chat</span>\n                    </Space>\n                    <Content style={{ background:'#fff'}}>\n                        <div className=\"chat-responses\" style={{margin:'1em'}}>\n                        {response.split('\\n').map((item, key) => {\n                            return <span key={key}>{item}<br/></span>\n                        })}\n                        </div>\n                    </Content>\n                    {form()}\n                </div>\n            </div>\n        );\n    }\n\n    switch(type){\n        case \"inline\":\n            return inline()\n        case \"page\" :\n        default:\n            return page()\n    }\n}\n","import React, { useState } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport auth0Client from '../Auth';\nimport Chat from './Chat';\nimport { AGENT_TYPES } from '../actions/agents';\nimport { Layout, Button } from 'antd';\nimport { CommentOutlined } from '@ant-design/icons';\n\nconst { Header, Content, Sider } = Layout;\n\nfunction RightFloatingChat(props) {\n    const [collapsed, setCollapsed] = useState(true);\n\n    const signOut = () => {\n        auth0Client.signOut();\n        props.history.replace('/');\n    };\n\n    const collapse = () => {\n        setCollapsed(true);\n    };\n\n\n\n    return (\n        <Sider\n         collapsed={collapsed}\n         defaultCollapsed={true}\n         zeroWidthTriggerStyle={{position:'fixed', right: '2.5em', background:'none', top:'-.1em'}}\n         breakpoint=\"xxl\"\n         width=\"98vw\"\n         collapsedWidth={0}\n         theme=\"light\"\n         trigger={<Button size=\"small\" shape=\"circle\" icon={<CommentOutlined />} type=\"primary\" style={{}} />}\n         style={{bottom: '1vh', zIndex:'1002', position: 'fixed', height:'90vh', right: collapsed ? 0 : '1vw', background:'none'}}\n         onCollapse={(collapsed, type) => {\n            setCollapsed(collapsed);\n         }}\n         >\n            <Chat identifier=\"main\" type=\"inline\"/>\n        </Sider>\n    );\n}\n\nexport default withRouter(RightFloatingChat);\n","import React, { Component } from 'react';\nimport LeftMenu from './LeftMenu';\nimport RightFloatingChat from './RightFloatingChat';\nimport { Layout } from 'antd';\nconst { Content, Footer } = Layout;\n\nexport default function Page(props) {\n  return (\n    <Layout style={{ background:'#fff' }}>\n        { props.header ?\n            <div>\n            {props.header}\n            </div>\n        : null }\n        <Content className=\"site-layout\" style={{ paddingTop: '.5em', marginTop: props.header ? '3em' : '0', background:'#fff'}}>\n            {props.children}\n        </Content>\n        { props.footer ?\n            <Footer style={{ background:'#fff'}}>\n                {props.footer}\n            </Footer>\n        : null }\n    </Layout>\n  );\n}\n","import React, { Component } from 'react';\nimport auth0Client from '../Auth';\nimport Page from './Page';\nimport ContextHead from './ContextHead';\nimport Chat from './Chat';\n\nexport default function HomePage() {\n    return (<Page\n            header={<ContextHead title=\"Consorts\" />}\n            footer={<div className=\"footer\">Consorts By Shawn Lawyer 331 Wilson Ave, Swannanoa NC 28778</div>} />\n\n    );\n}\n","import axios from 'axios';\nimport { notification } from 'antd';\nimport { xhr } from '../XHR'\n\nimport { handleCallbacks } from '../Callbacks'\nimport auth0Client from '../Auth';\nimport { loadAgents, loadAgent } from './agents';\n\nexport function loadingModules(){\n  return {\n    type: 'LOADING_MODULES',\n    payload: null\n  }\n};\n\nexport function storeModules(response){\n  const results = {}\n  response.data.results.map((result) => {results[result.uuid]=result})\n  return {\n    type: 'STORE_MODULES',\n    payload: results\n  }\n};\n\nexport function storeModule(response){\n  return {\n    type: 'STORE_MODULE',\n    payload: response.data.result\n  }\n};\n\nexport function clearModule(){\n  return {\n    type: 'CLEAR_MODULE',\n    payload: null\n  }\n};\n\nexport function loadModules(callbacks={}){\n    return function(dispatch){\n        const { success, error, final } = callbacks;\n        const type = 'get';\n        const endpoint = `/modules`;\n        dispatch(loadingModules);\n        dispatch(xhr({\n            type: type,\n            endpoint: endpoint,\n            success : (response) => {\n                dispatch(storeModules(response))\n            },\n            successCallback: success,\n            error: err => {\n                dispatch(storeModules({data:{results:[]}}));\n            },\n            errorCallback: error,\n            finalCallback: final\n        }));\n    }\n};\n\nexport function loadModule(uuid, callbacks={}){\n    return function(dispatch){\n        const { success, error, final } = callbacks;\n        const type = 'get';\n        const endpoint = `/modules/${uuid}`;\n        dispatch(xhr({\n            type: type,\n            endpoint: endpoint,\n            success : (response) => {\n                dispatch(storeModule(response))\n            },\n            successCallback: success,\n            error: err => {\n                dispatch(storeModule({data:{results:[]}}));\n            },\n            errorCallback: error,\n            finalCallback: final\n        }));\n    }\n};\n\nfunction download(content, fileName, contentType) {\n    const a = document.createElement(\"a\");\n    const file = new Blob([content], { type: contentType });\n    a.href = URL.createObjectURL(file);\n    a.download = fileName;\n    a.click();\n};\n\n/*\nfunction download(content, fileName, contentType) {\n    const a = document.createElement(\"a\");\n    const file = new Blob([content], { type: contentType });\n    a.href = URL.createObjectURL(file);\n    a.download = fileName;\n    a.click();\n};\n\nmodules = data.data.map((module) => {\n    let intents = [];\n    module.paragraphs.map((paragraph) => {\n        paragraph.qas.map((intent) => {\n          let result = {name: intent.id};\n          result['patterns'] = intent.patterns.map((pattern) => { return {text: pattern.text} });\n          result['responses'] = intent.responses.map((response) => { return {text: response.text} });\n          intents.push(result);\n        })\n    })\n    download(JSON.stringify({\n        name: module.title,\n        intents: intents\n    }, null, 2), `${module.title}.json`, \"text/plain\")\n});\n\n*/\nexport function moduleJSON(module){\n    const {name, intents, type} = module;\n\n    const data = {\n        name: name,\n        intents: intents.map((intent) => {\n            let result = {name: intent.name};\n            if (typeof(intent.patterns) === 'object' && intent.patterns.length){\n                result['patterns'] = intent.patterns.map((pattern) => { return {text: pattern.text} });\n            }\n            switch(type){\n                case 1:\n                    break;\n                case 2:\n                default:\n                    if (typeof(intent.responses) === 'object' && intent.responses.length){\n                        result['responses'] = intent.responses.map((response) => { return {text: response.text} });\n                    }\n\n                    break;\n\n            }\n            return result;\n        })\n    };\n    return JSON.stringify(data, null, 2)\n}\n\nexport function downloadModule(uuid, callbacks={}){\n    return function(dispatch){\n        const { success, error, final } = callbacks;\n        const type = 'get';\n        const endpoint = `/modules/${uuid}`;\n        dispatch(xhr({\n            type: type,\n            endpoint: endpoint,\n            success : (response) => {\n                download(moduleJSON(response.data.result), `${response.data.result.name.replace(' ','_')}.json`, \"text/plain\");\n            },\n            successCallback: success,\n            errorCallback: error,\n            finalCallback: final\n        }));\n    }\n};\n\nexport function saveModule(data, callbacks={}){\n    return function(dispatch){\n        const { success, error, final } = callbacks;\n        const { uuid } = data;\n        const type = uuid ? 'patch' : 'post';\n        const endpoint = uuid ? `/modules/${uuid}` : `/modules`;\n\n        dispatch(xhr({\n            type: type,\n            endpoint: endpoint,\n            data: {data},\n            success : (response) => {\n                dispatch(storeModule(response))\n                dispatch(loadModules({final: final}))\n                dispatch(loadAgent(data.agent_uuid))\n            },\n            successCallback: success,\n            errorCallback: error\n        }));\n    }\n};\n\nexport function saveIntent(data, callbacks={}){\n    return function(dispatch, getState){\n        const { success, error, final } = callbacks;\n        const { uuid } = data;\n        const type = uuid ? 'patch' : 'post';\n        const endpoint = uuid ? `/intents/${uuid}` : `/intents`;\n        const module = getState().module;\n\n        dispatch(xhr({\n            type: type,\n            endpoint: endpoint,\n            data: {data},\n            success : (response) => {\n                dispatch(loadModule(module.uuid, callbacks))\n            },\n            successCallback: success,\n            errorCallback: error\n        }));\n    }\n};\n\nexport function saveIntentPattern(data, callbacks={}){\n    return function(dispatch, getState){\n        const { success, error, final } = callbacks;\n        const { uuid } = data;\n        const type = uuid ? 'patch' : 'post';\n        const endpoint = uuid ? `/intent/patterns/${uuid}` : `/intent/patterns`;\n        const module = getState().module;\n\n        dispatch(xhr({\n            type: type,\n            endpoint: endpoint,\n            data: {data},\n            success : (response) => {\n                dispatch(loadModule(module.uuid, callbacks))\n            },\n            successCallback: success,\n            errorCallback: error\n        }));\n    }\n};\n\nexport function saveIntentResponse(data, callbacks={}){\n    return function(dispatch, getState){\n        const { success, error, final } = callbacks;\n        const { uuid } = data;\n        const type = uuid ? 'patch' : 'post';\n        const endpoint = uuid ? `/intent/responses/${uuid}` : `/intent/responses`;\n        const module = getState().module;\n\n        dispatch(xhr({\n            type: type,\n            endpoint: endpoint,\n            data: {data},\n            success : (response) => {\n                dispatch(loadModule(module.uuid, callbacks))\n            },\n            successCallback: success,\n            errorCallback: error\n        }));\n    }\n};\n\nexport function deleteModule(uuid, callbacks={}){\n    return function(dispatch, getState){\n        const { success, error, final } = callbacks;\n        const type = 'delete';\n        const endpoint = `/modules/${uuid}`;\n        dispatch(xhr({\n            type: type,\n            endpoint: endpoint,\n            success : (response) => {\n                dispatch(loadModules({final:final}))\n            },\n            successCallback: success,\n            errorCallback: error\n        }));\n\n    }\n};\n\nexport function deleteIntent(uuid, callbacks={}){\n    return function(dispatch, getState){\n        const { success, error, final } = callbacks;\n        const type = 'delete';\n        const endpoint = `/intents/${uuid}`;\n        const module = getState().module;\n\n        dispatch(xhr({\n            type: type,\n            endpoint: endpoint,\n            success : (response) => {\n                dispatch(loadModule(module.uuid, {final:final}))\n            },\n            successCallback: success,\n            errorCallback: error\n        }));\n\n    }\n};\n\nexport function deleteIntentPattern(uuid, callbacks={}){\n    return function(dispatch, getState){\n        const { success, error, final } = callbacks;\n        const type = 'delete';\n        const endpoint = `/intent/patterns/${uuid}`;\n        const module = getState().module;\n\n        dispatch(xhr({\n            type: type,\n            endpoint: endpoint,\n            success : (response) => {\n                dispatch(loadModule(module.uuid, {final:final}))\n            },\n            successCallback: success,\n            errorCallback: error\n        }));\n    }\n};\n\nexport function deleteIntentResponse(uuid, callbacks={}){\n    return function(dispatch, getState){\n        const { success, error, final } = callbacks;\n        const type = 'delete';\n        const endpoint = `/intent/responses/${uuid}`;\n        const module = getState().module;\n\n        dispatch(xhr({\n            type: type,\n            endpoint: endpoint,\n            success : (response) => {\n                dispatch(loadModule(module.uuid, {final:final}))\n            },\n            successCallback: success,\n            errorCallback: error\n        }));\n    }\n};\n\nexport function setModuleNoiseFlag(data, callbacks={}){\n    return function(dispatch){\n        const { success, error, final } = callbacks;\n        const endpoint = `/modules/${data.uuid}/noise/${data.flag}`;\n        const type = 'patch';\n        dispatch(xhr({\n            endpoint: endpoint,\n            type: type,\n            data: {},\n            success : (response) => {\n                //dispatch(loadModules({final:final}))\n            },\n            successCallback: success,\n            errorCallback: error,\n            finalCallback: final\n        }));\n    }\n};\n\nexport function validateJSON(text, silent=false){\n    try {\n        JSON.parse(text);\n    } catch (e) {\n        if(!silent){\n            validateJSONNotification()\n        }\n        return false;\n    }\n    return true;\n};\n\nexport function validateJSONNotification(data){\n    notification['error']({\n        message: 'Error',\n        description:\n          `The template is not properly formatted JSON`,\n    });\n};\n\n\nexport function getIntentPatternVariations(uuid, callbacks={}){\n    return function(dispatch, getState){\n        const { success, error, final } = callbacks;\n        const type = 'get';\n        const endpoint = `/intent/patterns/${uuid}/variations`;\n        const module = getState().module;\n\n        dispatch(xhr({\n            type: type,\n            endpoint: endpoint,\n            success : (response) => {\n                success(response)\n            },\n            errorCallback: error,\n            finalCallback: final,\n        }));\n    }\n};\n\n\n","import React from 'react';\nimport { Layout } from 'antd';\nimport { LoadingOutlined } from '@ant-design/icons';\nimport 'antd/dist/antd.css';\n\nconst { Content} = Layout;\nexport default function Loads(props){\n    const size = props.size || 'large'\n\n    const className = `loading-${size}`;\n    return props.loaded ? props.children : (\n        <div className=\"head\">\n            <div className={className}>\n                <LoadingOutlined spin />\n            </div>\n        </div>\n    );\n}\n","import React, { useState, useEffect } from 'react';\nimport { saveIntentPattern, deleteIntentPattern, getIntentPatternVariations } from '../actions/modules';\nimport { useStore } from '../Hooks';\nimport Loads from './Loads';\nimport { Space, Button, Popconfirm, Select  } from 'antd';\nimport { SaveFilled, PlusOutlined, DeleteFilled, LoadingOutlined, CloseOutlined, DownloadOutlined } from '@ant-design/icons';\nimport 'antd/dist/antd.css';\n\nconst { Option } = Select;\n\nexport default function IntentPatternVariationForm(props){\n\n    const [, dispatch] = useStore();\n    const [buttonsDisabled, setButtonsDisabled] = useState(false);\n    const { uuid, intent_uuid, reset } = props;\n    const [modified, setModified] = useState(false);\n    const [saving, setSaving] = useState(false);\n    const [loaded, setLoaded] = useState(false);\n    const [text, setText] = useState('');\n    const [variations, setVariations] = useState([])\n\n    useEffect(() => {\n        if(!loaded){\n            const callbacks = {\n                success: (response) => { setVariations(response.data)},\n                error: () => { setVariations([]) },\n                final: () => { setLoaded(true) },\n            }\n            setLoaded(false);\n            dispatch(getIntentPatternVariations(uuid, callbacks));\n        }\n    },[uuid]);\n\n    const handleChange = (id, key) => {\n        let nextVariations = [...variations];\n        let nextText = '';\n        nextVariations[key][0] = variations[key][1][id];\n        setVariations(nextVariations);\n        nextVariations.map(variation => {\n            nextText += ` ${variation[0]}`\n        });\n        setText(nextText);\n        setModified(true);\n    }\n\n    const save = (event) => {\n        const callbacks = {\n            success: () => {;\n                reset()\n            },\n            error: () => {;\n                setButtonsDisabled(false);\n                setSaving(false);\n            },\n            final : () => {\n                setButtonsDisabled(false);\n                setModified(false);\n                setSaving(false);\n            }\n        };\n\n        event.preventDefault();\n        if(!modified){\n            return;\n        }\n        setButtonsDisabled(true);\n        setSaving(true);\n        dispatch(saveIntentPattern({intent_uuid: intent_uuid, text: text}, callbacks));\n    }\n\n    return (\n            <form className=\"grid no-margin-padding-border\" onSubmit={save}>\n            <Loads loaded={loaded} size=\"small\">\n                <Space size=\"small\">\n                    <DownloadOutlined rotate=\"180\" style={{marginRight:'.35em'}}/>\n                    {variations.map((word, key) =>\n                        word[1].length == 0\n                        ? (\n                            <div>{word[0]}</div>\n                        ) : (\n                            <Select\n                                bordered={false}\n                                //showArrow={false}\n                                onChange={(id) => {handleChange(id, key)}}\n                                value={word[0]}\n                                placeholder={word[0]}\n                                name={`name_${key}`}\n                                size=\"small\"\n                                dropdownMatchSelectWidth={false}\n                                >\n                                {word[1].map((_word, id) => (\n                                <Option value={id}>{_word}</Option>\n                                ))}\n                            </Select>\n                        )\n                    )}\n                </Space>\n                <div className=\"options\">\n                    <Space size=\"small\">\n                        <span>&nbsp;</span>\n                        { modified &&\n                            (saving ?\n                                <Button type=\"primary\" shape=\"circle\" size=\"small\" icon={ <LoadingOutlined spin /> } />\n                              :\n                                <Button disabled={buttonsDisabled} htmlType=\"submit\" type=\"primary\" shape=\"circle\" size=\"small\" icon={ <PlusOutlined /> } />\n                            )\n                        }\n                        <Button type=\"danger\" shape=\"circle\" size=\"small\" onClick={reset} icon={ <CloseOutlined />} />\n                    </Space>\n                </div>\n        </Loads>\n            </form>\n    );\n}\n","import React, { useState } from 'react';\nimport { useStore } from '../Hooks';\nimport { saveIntentPattern, deleteIntentPattern } from '../actions/modules';\nimport IntentPatternVariationForm from './IntentPatternVariationForm';\nimport { Space, Button, Popconfirm } from 'antd';\nimport { SaveFilled, PlusOutlined, DeleteFilled, LoadingOutlined, CloseOutlined, NodeExpandOutlined, DownloadOutlined } from '@ant-design/icons';\nimport 'antd/dist/antd.css';\n\nexport default function IntentPatternForm(props){\n\n    const [, dispatch] = useStore();\n    const [buttonsDisabled, setButtonsDisabled] = useState(false);\n    const {uuid, intent_uuid} = props\n    const [text, setText] = useState(props.text || \"\")\n    const [modified, setModified] = useState(false)\n    const [saving, setSaving] = useState(false)\n    const [deleting, setDeleting] = useState(false);\n    const [viewExpandable, setViewExpandable] = useState(false);\n\n    const handleChange = (event) => {\n        setText(event.target.value);\n        setModified((event.target.value !== props.text && event.target.value !== \"\") ? true : false);\n    }\n\n    const reset = () => {\n        setButtonsDisabled(false);\n        setText(props.text || \"\");\n        setModified(false);\n        setSaving(false);\n        setViewExpandable(false);\n    }\n\n    const save = (event) => {\n        const callbacks = {\n            error: () => {;\n                setButtonsDisabled(false);\n                setSaving(false);\n            },\n            final: !uuid\n                ? reset\n                : () => {\n                    setButtonsDisabled(false);\n                    setModified(false);\n                    setSaving(false);\n                }\n        };\n\n        event.preventDefault();\n        if(!modified){\n            return;\n        }\n        setButtonsDisabled(true);\n        setSaving(true);\n        if(uuid){\n            dispatch(saveIntentPattern({uuid: uuid, text: text}, callbacks));\n        }else{\n            dispatch(saveIntentPattern({intent_uuid: intent_uuid, text: text}, callbacks));\n        }\n    }\n\n    const dele = () => {\n        const callbacks = {\n            error: () => {;\n                setButtonsDisabled(false);\n                setDeleting(false);\n            }\n        };\n        setButtonsDisabled(true);\n        setDeleting(true);\n        setTimeout(() => {\n          dispatch(deleteIntentPattern(uuid));\n        }, 0);\n    }\n\n    return (\n            <div className=\"component terraced\">\n            { !viewExpandable ?\n                <form className=\"grid no-margin-padding-border\" onSubmit={save}>\n                    <div className=\"component\">\n                        <Space size=\"small\">\n                            <DownloadOutlined rotate=\"180\"/>\n                        </Space>\n                        <input type=\"text\" name=\"text\" onChange={handleChange} value={text} placeholder={uuid ? \"Pattern\" : \"New Pattern\"} />\n                        <div className=\"options\">\n                            <Space size=\"small\">\n                                <span>&nbsp;</span>\n                                { uuid &&\n                                        <Button disabled={buttonsDisabled} shape=\"circle\" size=\"small\" icon={ <NodeExpandOutlined /> }  onClick={setViewExpandable}/>\n                                }\n                                { modified &&\n                                    (saving ?\n                                        <Button type=\"primary\" shape=\"circle\" size=\"small\" icon={ <LoadingOutlined spin /> } />\n                                      :\n                                        <Button disabled={buttonsDisabled} htmlType=\"submit\" type=\"primary\" shape=\"circle\" size=\"small\" icon={ uuid ? <SaveFilled /> : <PlusOutlined /> } />\n                                    )\n                                }\n                                { modified ?\n                                    <Button type=\"danger\" shape=\"circle\" size=\"small\" onClick={reset} icon={ <CloseOutlined />} />\n                                  :\n                                    (uuid) &&\n                                    (\n                                        deleting  ?\n                                            <Button shape=\"circle\" size=\"small\" icon={ <LoadingOutlined spin /> } />\n                                          :\n                                            <Popconfirm disabled={buttonsDisabled} title=\"Confirming Delete?\" placement=\"left\" onConfirm={dele} okText=\"Confirm\" cancelText=\"Cancel\">\n                                                <Button disabled={buttonsDisabled}  type=\"danger\" shape=\"circle\" size=\"small\" icon={ <DeleteFilled />} />\n                                            </Popconfirm>\n                                    )\n                                }\n                            </Space>\n                        </div>\n                    </div>\n                </form>\n            :\n                <IntentPatternVariationForm uuid={uuid} intent_uuid={intent_uuid} reset={reset} />\n            }\n            </div>\n    );\n}\n","import React from 'react';\nimport { Space, Empty } from 'antd';\n\nexport default function ListOrEmpty(props){\n    const items = props.items || 0\n    const description = props.description || null\n\n    return items.length > 0\n        ?\n        <Space direction=\"vertical\" style={{width:'100%'}}>{props.children}</Space>\n        :\n        <div className=\"terraced\" style={{padding:'.5em'}}><Empty description={<div><b>{description}</b></div>} /></div> ;\n}\n","import React from 'react';\nimport IntentPatternForm from './IntentPatternForm';\nimport ListOrEmpty from './ListOrEmpty';\nimport { Space,     Divider } from 'antd';\n\nexport default function IntentPatternsList(props){\n    const { intent_uuid, patterns, is_locked } = props;\n    return (\n            <Space direction=\"vertical\" style={{width:'100%', padding:'.5em 0'}}>\n                <div className=\"head\">\n                     <Divider plain><b>Patterns</b></Divider>\n                </div>\n                {!is_locked &&\n                <IntentPatternForm intent_uuid={intent_uuid} />\n                }\n                <ListOrEmpty\n                    items={patterns}\n                    description={`Patterns Empty`}>\n                    {patterns.map((pattern, index) => (\n                        !is_locked ?\n                            <IntentPatternForm  key={pattern.id} uuid={pattern.uuid} intent_uuid={intent_uuid} text={pattern.text}/>\n                          :\n                            <div className=\"component terraced\">\n                                {pattern.text}\n                            </div>\n\n                    ))}\n                </ListOrEmpty>\n            </Space>\n    );\n}\n","import React, { useState } from 'react';\nimport { saveIntentResponse, deleteIntentResponse } from '../actions/modules';\nimport { useStore } from '../Hooks';\nimport { Space, Button, Popconfirm } from 'antd';\nimport { SaveFilled, PlusOutlined, DeleteFilled, LoadingOutlined, CloseOutlined, UploadOutlined } from '@ant-design/icons';\nimport 'antd/dist/antd.css';\n\nexport default function IntentResponseForm(props){\n\n    const [, dispatch] = useStore();\n    const [buttonsDisabled, setButtonsDisabled] = useState(false);\n    const {uuid, intent_uuid} = props\n    const [text, setText] = useState(props.text || \"\")\n    const [modified, setModified] = useState(false)\n    const [saving, setSaving] = useState(false)\n    const [deleting, setDeleting] = useState(false);\n\n    const handleChange = (event) => {\n        setText(event.target.value);\n        setModified((event.target.value !== props.text && event.target.value !== \"\") ? true : false);\n    }\n\n    const reset = () => {\n        setButtonsDisabled(false);\n        setText(props.text || \"\");\n        setModified(false);\n        setSaving(false);\n    }\n\n    const save = (event) => {\n        const callbacks = {\n            error: () => {;\n                setButtonsDisabled(false);\n                setSaving(false);\n            },\n            final: !uuid\n                ? reset\n                : () => {\n                    setButtonsDisabled(false);\n                    setModified(false);\n                    setSaving(false);\n                }\n        };\n\n        event.preventDefault();\n        if(!modified){\n            return;\n        }\n        setButtonsDisabled(true);\n        setSaving(true);\n        if(uuid){\n            dispatch(saveIntentResponse({uuid: uuid, text: text}, callbacks));\n        }else{\n            dispatch(saveIntentResponse({intent_uuid: intent_uuid, text: text}, callbacks));\n        }\n    }\n\n    const dele = () => {\n        const callbacks = {\n            error: () => {;\n                setButtonsDisabled(false);\n                setDeleting(false);\n            }\n        };\n        setButtonsDisabled(true);\n        setDeleting(true);\n        setTimeout(() => {\n          dispatch(deleteIntentResponse(uuid));\n        }, 0);\n    }\n\n    return (\n        <div className=\"component terraced\">\n            <form className=\"grid no-margin-padding-border\" onSubmit={save}>\n                <div className=\"component\">\n                    <Space size=\"small\" style={{maxHeight:'1.4em'}}>\n                        <UploadOutlined rotate=\"180\"/>\n                    </Space>\n                    <textarea rows={text.split(/\\r*\\n/).length} name=\"text\" onChange={handleChange} value={text} placeholder={uuid ? \"Response\" : \"New Response\"} />\n                    <div className=\"options\">\n                        <Space size=\"small\">\n                            <span>&nbsp;</span>\n                            { modified &&\n                                (saving ?\n                                    <Button type=\"primary\" shape=\"circle\" size=\"small\" icon={ <LoadingOutlined spin /> } />\n                                  :\n                                    <Button disabled={buttonsDisabled} htmlType=\"submit\" type=\"primary\" shape=\"circle\" size=\"small\" icon={ uuid ? <SaveFilled /> : <PlusOutlined /> } />\n\n                                )\n                            }\n                            { modified ?\n                                <Button type=\"danger\" shape=\"circle\" size=\"small\" onClick={reset} icon={ <CloseOutlined />} />\n                              :\n                                (uuid) &&\n                                (\n                                    deleting  ?\n                                        <Button shape=\"circle\" size=\"small\" icon={ <LoadingOutlined spin /> } />\n                                      :\n                                        <Popconfirm disabled={buttonsDisabled} title=\"Confirming Delete?\" placement=\"left\" onConfirm={dele} okText=\"Confirm\" cancelText=\"Cancel\">\n                                            <Button disabled={buttonsDisabled}  type=\"danger\" shape=\"circle\" size=\"small\" icon={ <DeleteFilled />} />\n                                        </Popconfirm>\n                                )\n                            }\n                        </Space>\n                    </div>\n                </div>\n            </form>\n        </div>\n    );\n}\n\n","import React from 'react';\nimport { Layout, Space, Divider } from 'antd';\nimport IntentResponseForm from './IntentResponseForm';\nimport ListOrEmpty from './ListOrEmpty';\nconst { Content } = Layout;\n\nexport default function IntentResponsesList(props){\n    const { intent_uuid, responses, is_locked } = props;\n    return (\n            <Space direction=\"vertical\" style={{width:'100%', padding:'.5em 0'}}>\n\n                <div className=\"head\">\n                     <Divider plain><b>Responses</b></Divider>\n                </div>\n                {!is_locked &&\n                <IntentResponseForm intent_uuid={intent_uuid} />\n                }\n                <ListOrEmpty\n                    items={responses}\n                    description={`Responses Empty`}>\n                    {responses.map((response, index) => (\n                        !is_locked ?\n                            <IntentResponseForm key={response.uuid} uuid={response.uuid} text={response.text}/>\n                          :\n                            <div key={response.uuid} className=\"component\">\n                                <Content>\n                                {response.text.split('\\n').map((item, key) => {\n                                    return <span key={key}>{item}<br/></span>\n                                })}\n                                </Content>\n                            </div>\n                    ))}\n                </ListOrEmpty>\n            </Space>\n    );\n}\n","import React, { useState } from 'react';\nimport { saveIntent } from '../actions/modules';\nimport { useStore } from '../Hooks';\nimport { Space, Button, Spin } from 'antd';\nimport { SaveFilled, PlusOutlined, LoadingOutlined, CloseOutlined } from '@ant-design/icons';\nimport 'antd/dist/antd.css';\n\nexport default function IntentForm(props){\n\n    const [, dispatch] = useStore();\n    const [buttonsDisabled, setButtonsDisabled] = useState(false);\n    const {uuid, module_uuid} = props;\n    const [name, setName] = useState(props.name || \"\");\n    const [modified, setModified] = useState(false);\n    const [saving, setSaving] = useState(false);\n\n    const handleChange = (event) => {\n        let nextName = event.target.value;\n        nextName = nextName.replace(/[&\\^@`!=;|\\[\\]/\\\\#,+()$~%.'\":*?<>{}]/g,'');\n        nextName = nextName.replace(/[\\-\\s]/g,'_');\n        setName(nextName);\n        setModified((nextName !== props.name && nextName !== \"\") ? true : false);\n    }\n\n    const reset = () => {\n        setButtonsDisabled(false);\n        setName(props.name || \"\");\n        setModified(false);\n        setSaving(false);\n    }\n\n    const save = (event) => {\n        const callbacks = {\n            error: () => {;\n                setButtonsDisabled(false);\n                setSaving(false);\n            },\n            final: !uuid\n                ? reset\n                : () => {\n                    setButtonsDisabled(false);\n                    setModified(false);\n                    setSaving(false);\n                }\n        };\n\n        event.preventDefault();\n        if(!modified){\n            return;\n        }\n        setButtonsDisabled(true);\n        setSaving(true);\n        if(uuid){\n            dispatch(saveIntent({uuid: uuid, name: name}, callbacks));\n        }else{\n            dispatch(saveIntent({module_uuid: module_uuid, name: name}, callbacks));\n        }\n    }\n\n    return (\n        <div className=\"component terraced\">\n            <form className=\"grid no-margin-padding-border\" onSubmit={save}>\n                <div className=\"component\">\n                    <input type=\"text\" name=\"name\" onChange={handleChange} value={name} placeholder={uuid ? \"Intent Name\" : \"New Intent Name\"} />\n                    <div className=\"options\">\n                        <Space size=\"small\" style={{height: '1em'}} align=\"center\">\n                        { modified &&\n                            (!saving ?\n                                <Button htmlType=\"submit\" type=\"primary\" shape=\"circle\" size=\"small\" icon={uuid ? <SaveFilled /> : <PlusOutlined />} />\n                            :\n                                <Button type=\"primary\" shape=\"circle\" size=\"small\" icon={<LoadingOutlined spin />} />\n                            )\n                        }\n                        { modified &&\n                            <Button disabled={buttonsDisabled}  type=\"danger\" shape=\"circle\" size=\"small\" onClick={reset} icon={<CloseOutlined />} />\n                        }\n                        </Space>\n                    </div>\n                </div>\n            </form>\n        </div>\n    );\n}\n","import React, { useState } from 'react';\nimport { useStore } from '../Hooks'\nimport { deleteIntent } from '../actions/modules';\nimport IntentPatternsList from './IntentPatternsList';\nimport IntentResponsesList from './IntentResponsesList';\nimport IntentForm from './IntentForm';\nimport auth0Client from '../Auth';\nimport { Layout, Menu, Space, Button, Popconfirm, Divider} from 'antd';\nimport {\n    CommentOutlined,\n    HomeOutlined,\n    AppstoreOutlined,\n    SettingOutlined,\n    PlusCircleOutlined,\n    MinusCircleOutlined,\n    DeleteFilled,\n    CaretUpFilled,\n    CaretDownFilled,\n    LockFilled,\n    UnlockFilled,\n    LoadingOutlined\n} from '@ant-design/icons';\nimport 'antd/dist/antd.css';\n\n\nexport default function ModuleIntent(props){\n\n    const [, dispatch] = useStore();\n    const [buttonsDisabled, setButtonsDisabled] = useState(false);\n    const {agent_type, intent, is_locked} = props;\n    const [listVisibility, setListVisibility] = useState(false);\n    const [deleting, setDeleting] = useState(false);\n\n    const dele = () => {\n        const callback = () => {setDeleting(false)};\n        setDeleting(true);\n        setTimeout(() => {\n          dispatch(deleteIntent(intent.uuid));\n        }, 0);\n    }\n\n    return (\n        <div className=\"component terraced\">\n            <div className=\"list no-margin-padding-border\">\n                <div className=\"component\">\n                    <div onClick={() => setListVisibility(!listVisibility)}>\n                        {intent.name}\n                    </div>\n                    <div className=\"options\">\n                        <Space size=\"small\">\n                             { !is_locked && auth0Client.hasPermission('delete:agents') &&\n                                (\n                                    ! deleting ?\n                                        <Popconfirm disabled={buttonsDisabled} title=\"Confirming Delete?\" placement=\"left\" onConfirm={dele} okText=\"Confirm\" cancelText=\"Cancel\">\n                                            <Button type=\"danger\" shape=\"circle\" size=\"small\" icon={ <DeleteFilled />} />\n                                        </Popconfirm>\n                                    :\n                                        <Button type=\"danger\" shape=\"circle\" size=\"small\" icon={ <LoadingOutlined spin /> } />\n                                )\n                             }\n                             <Button size=\"small\" onClick={() => setListVisibility(!listVisibility)} icon={ listVisibility ? <CaretUpFilled /> :  <CaretDownFilled />} />\n                        </Space>\n                    </div>\n                </div>\n                { listVisibility &&\n                <Space direction=\"vertical\">\n                {  !is_locked &&\n                    <Space direction=\"vertical\" style={{width:'100%', padding:'.5em 0'}}>\n                        <b>Label</b>\n                        <IntentForm is_locked={is_locked} uuid={intent.uuid} name={intent.name} />\n                    </Space>\n                }\n                <IntentPatternsList is_locked={is_locked} patterns={intent.patterns} intent_uuid={intent.uuid} />\n                {  agent_type === 2 &&\n                    <IntentResponsesList is_locked={is_locked} responses={intent.responses} intent_uuid={intent.uuid} />\n                }\n                </Space>\n                }\n            </div>\n        </div>\n    );\n\n}\n","import React, { useState } from 'react';\nimport { saveModule } from '../actions/modules';\nimport { useStore } from '../Hooks';\nimport { Space, Button, Spin } from 'antd';\nimport { SaveFilled, PlusOutlined, LoadingOutlined, CloseOutlined, AppstoreOutlined } from '@ant-design/icons';\nimport 'antd/dist/antd.css';\n\nexport default function ModuleForm(props){\n\n    const [, dispatch] = useStore();\n    const [buttonsDisabled, setButtonsDisabled] = useState(false);\n    const {uuid, agent} = props;\n    const [name, setName] = useState(props.name || \"\");\n    const [modified, setModified] = useState(false);\n    const [saving, setSaving] = useState(false);\n\n    const handleChange = (event) => {\n        setName(event.target.value);\n        setModified((event.target.value !== props.name && event.target.value !== \"\") ? true : false);\n    }\n\n    const reset = () => {\n        setButtonsDisabled(false);\n        setName(props.name || \"\");\n        setModified(false);\n        setSaving(false);\n    }\n\n    const save = (event) => {\n        const callbacks = {\n            error: () => {;\n                setButtonsDisabled(false);\n                setSaving(false);\n            },\n            final: !uuid\n                ? reset\n                : () => {\n                    setButtonsDisabled(false);\n                    setModified(false);\n                    setSaving(false);\n                }\n        };\n\n        event.preventDefault();\n        if(!modified){\n            return;\n        }\n        setButtonsDisabled(true);\n        setSaving(true);\n        if(uuid){\n            dispatch(saveModule({uuid: uuid, name: name}, callbacks));\n        }else{\n            dispatch(saveModule({agent_uuid: agent.uuid, name: name}, callbacks));\n        }\n    }\n\n    return (\n        <div className=\"component terraced\">\n            <form className=\"grid no-margin-padding-border\" onSubmit={save}>\n                <div className=\"component\">\n                    <Space size=\"small\" align=\"center\">\n                        <span><AppstoreOutlined /></span>\n                    </Space>\n                    <input type=\"text\" name=\"name\" onChange={handleChange} value={name} placeholder={uuid ? \"Module Name\" : \"New Module Name\"} />\n                    <div className=\"options\">\n                        <Space size=\"small\" style={{height: '1em'}} align=\"center\">\n                        { modified &&\n                            (!saving ?\n                                <Button htmlType=\"submit\" type=\"primary\" shape=\"circle\" size=\"small\" icon={uuid ? <SaveFilled /> : <PlusOutlined />} />\n                            :\n                                <Button type=\"primary\" shape=\"circle\" size=\"small\" icon={<LoadingOutlined spin />} />\n                            )\n                        }\n                        { modified &&\n                            <Button disabled={buttonsDisabled}  type=\"danger\" shape=\"circle\" size=\"small\" onClick={reset} icon={<CloseOutlined />} />\n                        }\n                        </Space>\n                    </div>\n                </div>\n            </form>\n        </div>\n    );\n}\n","import React, { useState } from 'react';\nimport auth0Client from '../Auth'\nimport { useStore } from '../Hooks';\nimport { saveModule, validateJSON } from '../actions/modules';\nimport { Layout, Menu, Space, Button, Spin } from 'antd';\nimport { FileTextFilled, SaveFilled, PlusOutlined, LoadingOutlined, CloseOutlined } from '@ant-design/icons';\nimport 'antd/dist/antd.css';\nimport AceEditor from \"react-ace\";\nimport \"ace-builds/src-noconflict/mode-java\";\nimport \"ace-builds/src-noconflict/theme-github\";\n\nconst { Content, Sider } = Layout;\n\nexport default function ModuleJSONForm(props) {\n\n    const [, dispatch] = useStore();\n    const [buttonsDisabled, setButtonsDisabled] = useState(false);\n    const {uuid, agent} = props;\n    const [code, setCode] = useState(props.code || \"\");\n    const [modified, setModified] = useState(false);\n    const [saving, setSaving] = useState(false);\n\n    const handleChange = (value) => {\n        setCode(value);\n        setModified((value !== props.code && value !== \"\") ? true : false);\n    }\n\n    const reset = () => {\n        setButtonsDisabled(false);\n        setCode(props.code || \"\");\n        setModified(false);\n        setSaving(false);\n    }\n\n    const save = (event) => {\n        const callbacks = {\n            error: () => {;\n                setButtonsDisabled(false);\n                setSaving(false);\n            },\n            final: !uuid\n                ? reset\n                : () => {\n                    setButtonsDisabled(false);\n                    setModified(false);\n                    setSaving(false);\n                }\n        };\n\n        event.preventDefault();\n        if(buttonsDisabled || !modified || !validateJSON(code)){\n            return;\n        }\n        setButtonsDisabled(true);\n        setSaving(true);\n        if(uuid){\n            dispatch(saveModule({uuid: uuid, ...JSON.parse(code)}, callbacks));\n        }else{\n            dispatch(saveModule({agent_uuid: agent.uuid, ...JSON.parse(code)}, callbacks));\n        }\n    }\n\n    return (\n      <Layout style={{background:'#fff', height:'100%'}}>\n            <Space align=\"center\" style={{position: 'relative', overflow:'hidden', padding: 0, zIndex: 100, width: '100%', height:'3em', background:'#fff', border: 0, borderBottom: '1px solid #f0f0f0'}}>\n               <Space style={{marginLeft:'1.5em'}}><FileTextFilled /> JSON Template</Space>\n                { auth0Client.hasPermission('create:modules') &&\n                     <div style={{position:'absolute', right: '.5em', top:'.5em' }}>\n                          { ! saving ?\n                          <Button size=\"small\" shape=\"circle\" disabled={(buttonsDisabled === true || modified === false )} onClick={save} type=\"primary\" icon={<SaveFilled/>} />\n\n                          :\n                          <Button size=\"small\" shape=\"circle\" type=\"primary\" icon={<LoadingOutlined spin/>} />\n\n                          }\n                     </div>\n                }\n            </Space>\n            <Content style={{background:'#fff', width:'100%', height:'100%', overflow:'hidden', padding:0}}>\n                <AceEditor\n                    mode=\"javascript\"\n                    theme=\"github\"\n                    onChange={handleChange}\n                    fontSize={14}\n                    showPrintMargin={false}\n                    showGutter={true}\n                    highlightActiveLine={true}\n                    name=\"code\"\n                    width=\"100%\"\n                    value={code}\n                    setOptions={{\n                        showLineNumbers: true,\n                        tabSize: 2,\n                        wrap: true\n                    }}\n                />\n            </Content>\n      </Layout>\n    );\n}\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Redirect } from 'react-router';\nimport { useStore } from '../Hooks'\nimport { deleteModule, fitModule, loadModule, updateModule, saveModule, clearModule, downloadModule, moduleJSON } from '../actions/modules';\nimport ModuleIntent from './ModuleIntent';\nimport IntentForm from './IntentForm';\nimport ModuleForm from './ModuleForm';\nimport ModuleJSONForm from './ModuleJSONForm';\nimport ContextHead from './ContextHead';\nimport ListOrEmpty from './ListOrEmpty';\nimport Loads from './Loads';\nimport Page from './Page';\nimport auth0Client from '../Auth';\nimport { Layout, Button, Spin, Space, Tooltip, Popconfirm, Menu } from 'antd';\nimport { AppstoreOutlined, LoadingOutlined, CloudDownloadOutlined, DeleteFilled, EyeFilled } from '@ant-design/icons';\nimport 'antd/dist/antd.css';\n\nconst { Header, Content, Sider } = Layout;\nconst { SubMenu } = Menu;\n\nexport default function ModuleBuilder(props){\n\n    const [state, dispatch] = useStore();\n    const [buttonsDisabled, setButtonsDisabled] = useState(false);\n    const { name, intents, is_locked, uuid } = state.module;\n    const { module } = state;\n    const [codeVisible, setCodeVisible] = useState(false);\n    const [deleting, setDeleting] = useState(false);\n    const [downloading, setDownloading] = useState(false);\n    const [settingNoise, setSettingNoise] = useState(false);\n    const [deleted, setDeleted] = useState(false);\n    const [loaded, setLoaded] = useState(false);\n\n    useEffect(() => {\n        const callbacks = {\n            final: () => { setLoaded(true) }\n        }\n        dispatch(loadModule(props.match.params.uuid, callbacks))\n        return function cleanup () {\n            dispatch(clearModule());\n        }\n    },[props.match.params.uuid]);\n\n    const dele = () => {\n        const callbacks = {\n            final: () => {\n                setDeleted(true);\n                setButtonsDisabled(false);\n            },\n            error: () => {\n                setDeleting(false);\n                setButtonsDisabled(false);\n            }\n        };\n        setDeleting(true);\n        setButtonsDisabled(true);\n        setTimeout(() => {\n            dispatch(deleteModule(uuid, callbacks));\n        }, 0);\n    }\n\n    const download = () => {\n        const callbacks = {\n            final: () => {\n                setDownloading(false);\n                setButtonsDisabled(false);\n            },\n            error: () => {\n                setDownloading(false);\n                setButtonsDisabled(false);\n            }\n        };\n        setDownloading(true);\n        setButtonsDisabled(true);\n        dispatch(downloadModule(uuid, callbacks))\n    }\n\n    const code = () => {\n        return moduleJSON(state.module)\n    }\n\n    const contextHead = () => {\n        return (\n                loaded ?\n                <ContextHead>\n                    <Menu mode=\"horizontal\" theme=\"light\" style={{margin:'-.2em 0 0 0', padding:0, border:0, height:'3.3em'}}>\n                        <SubMenu key=\"options\" icon={ <AppstoreOutlined /> } title={ `Module > ${name}` } style={{margin:0, padding:0}}>\n                        { auth0Client.hasPermission('update:modules') &&\n                            <Menu.Item key=\"view\" icon={<EyeFilled />} onClick={ () => setCodeVisible(!codeVisible) } disabled={buttonsDisabled}>\n                                { !is_locked && auth0Client.hasPermission('update:modules') ?\n                                    !codeVisible ? \"Edit JSON\" : \"Edit Visually\"\n                                 :\n                                    !codeVisible ? \"View JSON\" : \"View Visually\"\n                                }\n                            </Menu.Item>\n                        }\n                        { !module.is_locked && auth0Client.hasPermission('update:modules') &&\n                            ( deleting ?\n                                <Menu.Item key=\"delete\" icon={<LoadingOutlined spin /> }>\n                                    <Link>Deleting</Link>\n                                </Menu.Item>\n                                  :\n                                <Menu.Item key=\"delete\" icon={<DeleteFilled/> }>\n                                    <Popconfirm disabled={buttonsDisabled} title=\"Confirming Delete?\" placement=\"left\" onConfirm={dele} okText=\"Confirm\" cancelText=\"Cancel\">\n                                        <Link disabled={buttonsDisabled} type=\"danger\">Delete</Link>\n                                    </Popconfirm>\n                                </Menu.Item>\n                            )\n                        }\n                        { downloading ?\n                            <Menu.Item key=\"download\" icon={<LoadingOutlined spin /> }>\n                                <Link><LoadingOutlined spin /> Download</Link>\n                            </Menu.Item>\n                          :\n                            <Menu.Item key=\"download\" icon={<CloudDownloadOutlined/> }>\n                                <Link disabled={buttonsDisabled} onClick={download}>Download</Link>\n                            </Menu.Item>\n                        }\n                        { auth0Client.hasPermission('read:agents') && module.agent_uuid &&\n                            <Menu.Item key=\"agent\" icon={<EyeFilled/> }>\n                                <Link to={'/agent/' + module.agent_uuid}>\n                                    View Agent\n                                </Link>\n                            </Menu.Item>\n                        }\n                        </SubMenu>\n                    </Menu>\n                </ContextHead>\n                :\n                <ContextHead icon={ <AppstoreOutlined /> } title={ `Module > Loading` } />\n        );\n    }\n\n\n    return (\n        <Page header={contextHead()}>\n        {deleted && <Redirect to=\"/modules\" />}\n            <Loads loaded={loaded}>\n                <Content style={{background:'#fff'}}>\n                    <Layout style={{background:'#fff'}}>\n                    { !codeVisible ?\n                         !is_locked ?\n                            <Space direction=\"vertical\" style={{width:'100%', padding:'.5em'}}>\n                                <b>Name</b>\n                                <ModuleForm is_locked={is_locked} uuid={uuid} name={name}/>\n                            </Space>\n                        :\n                        null\n                    :\n                        <ModuleJSONForm uuid={uuid} is_locked={is_locked} code={code()} modified={ false } />\n                    }\n                    { !codeVisible &&\n                        <Space direction=\"vertical\" style={{width:'100%', padding:'.5em'}}>\n                            <div className=\"head\">\n                                <div className=\"list\"><b>Intents</b></div>\n                            </div>\n                            { !is_locked &&\n                                <IntentForm module_uuid={uuid}/>\n                            }\n                            <ListOrEmpty\n                                items={intents}\n                                description={`Intents Empty`}>\n                            {intents.map((intent, index) => (\n                                <ModuleIntent agent_type={module.type} key={intent.id} intent={intent} is_locked={is_locked}/>\n                            ))}\n                            </ListOrEmpty>\n                        </Space>\n                    }\n                    </Layout>\n                </Content>\n            </Loads>\n        </Page>\n    );\n}\n","import React, { useState } from 'react';\nimport { AGENT_TYPES, saveAgent } from '../actions/agents';\nimport { useStore } from '../Hooks';\nimport { Space, Button, Spin } from 'antd';\nimport { SaveFilled, PlusOutlined, LoadingOutlined, CloseOutlined } from '@ant-design/icons';\nimport 'antd/dist/antd.css';\n\nexport default function AgentForm(props){\n\n    const [, dispatch] = useStore();\n    const [buttonsDisabled, setButtonsDisabled] = useState(false);\n    const {uuid, type} = props;\n    const [name, setName] = useState(props.name || \"\");\n    const [modified, setModified] = useState(false);\n    const [saving, setSaving] = useState(false);\n\n    const handleChange = (event) => {\n        setName(event.target.value);\n        setModified((event.target.value !== props.name && event.target.value !== \"\") ? true : false);\n    }\n\n    const reset = () => {\n        setButtonsDisabled(false);\n        setName(props.name || \"\");\n        setModified(false);\n        setSaving(false);\n    }\n\n    const save = (event) => {\n        const callbacks = {\n            error: () => {;\n                setButtonsDisabled(false);\n                setSaving(false);\n            },\n            final: !uuid\n                ? reset\n                : () => {\n                    setButtonsDisabled(false);\n                    setModified(false);\n                    setSaving(false);\n                }\n        };\n\n        event.preventDefault();\n        if(!modified){\n            return;\n        }\n        setButtonsDisabled(true);\n        setSaving(true);\n        if(uuid){\n            dispatch(saveAgent({uuid: uuid, name: name, type: type}, callbacks));\n        }else{\n            dispatch(saveAgent({name: name, type: type}, callbacks));\n        }\n    }\n\n    return (\n        <div className=\"component terraced\">\n            <form className=\"grid no-margin-padding-border\" onSubmit={save}>\n                <div className=\"component\">\n                    <input type=\"text\" name=\"name\" onChange={handleChange} value={name} placeholder={uuid ? `${AGENT_TYPES[type]['name'][0]} Name` : `New ${AGENT_TYPES[type]['name'][0]} Name`} />\n                    <div className=\"options\">\n                        <Space size=\"small\" style={{height: '1em'}} align=\"center\">\n                        { modified &&\n                            (!saving ?\n                                <Button htmlType=\"submit\" type=\"primary\" shape=\"circle\" size=\"small\" icon={uuid ? <SaveFilled /> : <PlusOutlined />} />\n                            :\n                                <Button type=\"primary\" shape=\"circle\" size=\"small\" icon={<LoadingOutlined spin />} />\n                            )\n                        }\n                        { modified &&\n                            <Button disabled={buttonsDisabled}  type=\"danger\" shape=\"circle\" size=\"small\" onClick={reset} icon={<CloseOutlined />} />\n                        }\n                        </Space>\n                    </div>\n                </div>\n            </form>\n        </div>\n    );\n}\n","import React, {useState} from 'react';\nimport { useStore } from '../Hooks'\nimport {Link} from 'react-router-dom';\nimport { Tooltip as AntdTooltip } from 'antd';\n\nexport default function Tooltip(props) {\n\n    const { title } = props;\n\n    return (\n        <AntdTooltip mouseLeaveDelay={0}  title={props.title}>\n            {props.children}\n        </AntdTooltip>\n    );\n}\n","import React, {useState} from 'react';\nimport { useStore } from '../Hooks'\nimport {Link} from 'react-router-dom';\nimport { Space, Button, Popconfirm} from 'antd';\nimport Tooltip from './Tooltip';\nimport { BuildFilled, DeleteFilled, EyeFilled, MenuFoldOutlined, MenuUnfoldOutlined, LockFilled, LoadingOutlined, CloudDownloadOutlined, AppstoreOutlined } from '@ant-design/icons';\nimport 'antd/dist/antd.css';\nimport auth0Client from '../Auth';\nimport { deleteModule, setModuleNoiseFlag, downloadModule } from '../actions/modules';\n\nexport default function Module(props) {\n\n    const [, dispatch] = useStore();\n    const [buttonsDisabled, setButtonsDisabled] = useState(false);\n    const { module } = props;\n    const [deleting, setDeleting] = useState(false);\n    const [downloading, setDownloading] = useState(false);\n    const [settingNoiseFlag, setSettingNoiseFlag] = useState(false);\n\n    const dele = () => {\n        const callbacks = {\n            error: () => {\n                setDeleting(false);\n                setButtonsDisabled(false);\n            }\n        };\n        setDeleting(true);\n        setButtonsDisabled(true);\n        setTimeout(() => {\n            dispatch(deleteModule(module.uuid, callbacks));\n        }, 0);\n    }\n\n    const setNoiseFlag = () => {\n        const callbacks = {\n            final: () => {\n                setSettingNoiseFlag(false);\n                setButtonsDisabled(false);\n            },\n            error: () => {\n                setSettingNoiseFlag(false);\n                setButtonsDisabled(false);\n            }\n        };\n        setSettingNoiseFlag(true);\n        setButtonsDisabled(true);\n        dispatch(setModuleNoiseFlag({\n            uuid: module.uuid,\n            flag: !module.is_noise\n        }\n        , callbacks));\n    }\n\n    const download = () => {\n        const callbacks = {\n            final: () => {\n                setDownloading(false);\n                setButtonsDisabled(false);\n            },\n            error: () => {\n                setDownloading(false);\n                setButtonsDisabled(false);\n            }\n        };\n        setDownloading(true);\n        setButtonsDisabled(true);\n        dispatch(downloadModule(module.uuid, callbacks))\n    }\n\n    return (\n      <div className=\"component terraced\">\n        <Space>\n            <span style={{marginLeft:'1em'}}><AppstoreOutlined /></span>\n            <div>{module.name}</div>\n            { module.is_noise &&\n                <Tooltip title=\"Training Noise\">\n                    <MenuUnfoldOutlined />\n                </Tooltip>\n            }\n        </Space>\n        <div className=\"options\">\n            <Space size=\"small\">\n                <span>&nbsp;</span>\n            { !module.is_locked && auth0Client.hasPermission('update:modules') &&\n                (\n                    deleting ?\n                        <Tooltip title=\"Deleting Module\">\n                            <Button type=\"danger\" shape=\"circle\" size=\"small\" icon={ <LoadingOutlined spin /> } />\n                        </Tooltip>\n                      :\n                        <Tooltip title=\"Delete Module\">\n                            <Popconfirm disabled={buttonsDisabled} title=\"Confirming Delete?\" placement=\"left\" onConfirm={dele} okText=\"Confirm\" cancelText=\"Cancel\">\n                                <Button disabled={buttonsDisabled}  type=\"danger\" shape=\"circle\" size=\"small\" icon={ <DeleteFilled />} />\n                            </Popconfirm>\n                        </Tooltip>\n                )\n            }\n            { auth0Client.hasPermission('update:agents') &&\n               (\n                   settingNoiseFlag ?\n                         <Tooltip title={module.is_noise ? \"Setting as Training Noise\" : \"Setting as not Training Noise\"}>\n                            <Button shape=\"circle\" size=\"small\" icon={ <LoadingOutlined spin /> } />\n                         </Tooltip>\n                      :\n                         <Tooltip title={module.is_noise ? \"Set as not Training Noise\" : \"Set as Training Noise\"}>\n                             <Button disabled={buttonsDisabled} shape=\"circle\" size=\"small\" onClick={setNoiseFlag} icon={module.is_noise ? <MenuFoldOutlined /> : <MenuUnfoldOutlined /> } />\n                         </Tooltip>\n                )\n            }\n            { auth0Client.hasPermission('read:modules') &&\n               (\n                   downloading ?\n                         <Tooltip title=\"Fetching\">\n                            <Button shape=\"circle\" size=\"small\" icon={ <LoadingOutlined spin /> } />\n                         </Tooltip>\n                      :\n                         <Tooltip title=\"Download\">\n                            <Button disabled={buttonsDisabled} shape=\"circle\" size=\"small\" onClick={download} icon={ <CloudDownloadOutlined /> } />\n                         </Tooltip>\n                )\n            }\n            { auth0Client.hasPermission('read:modules') &&\n                <Link to={'/module/' + module.uuid}>\n                    <Tooltip title=\"View\">\n                         <Button disabled={buttonsDisabled} shape=\"circle\" size=\"small\" icon={<EyeFilled />} />\n                    </Tooltip>\n                </Link>\n            }\n            </Space>\n        </div>\n      </div>\n    );\n}\n\n\n","import React from 'react';\nimport Module from './Module';\n\nimport { Space } from 'antd';\n\nexport default function ModulesList(props) {\n    const { modules } = props;\n    return (\n\n        <Space direction=\"vertical\" style={{width:'100%'}}>\n        { Object.values(modules).map((module, ind) => (\n            <Module key={module.id} module={module}/>\n        ))}\n        </Space>\n    );\n}\n","import React, { useState, useEffect } from 'react';\nimport { Redirect } from 'react-router';\nimport { useStore } from '../Hooks'\nimport { storeAgents } from '../actions/agents'\nimport Page from './Page';\nimport Module from './Module';\nimport ModuleForm from './ModuleForm';\nimport ModuleJSONForm from './ModuleJSONForm';\nimport auth0Client from '../Auth';\nimport { Layout, Menu, Spin, Space, Upload, message, Button, Tooltip } from 'antd';\nimport { AppstoreOutlined, LoadingOutlined, CloudUploadOutlined, PlusOutlined} from '@ant-design/icons';\nimport 'antd/dist/antd.css';\n\nconst { Content} = Layout;\n\nexport default function ModuleForms(props) {\n    const [codeVisible, setCodeVisible] = useState(false);\n    const [, dispatch] = useStore()\n\n    const upload_props = {\n      multiple: true,\n      showUploadList: false,\n      name: 'file',\n      action: `/api/agents/${props.agent.uuid}/modules/upload`,\n      ...auth0Client.apiAuthHeaders(),\n      onChange(info) {\n         console.log(info)\n        if (info.file.status !== 'uploading') {\n          console.log(info.file, info.fileList);\n        }\n        if (info.file.status === 'done') {\n          message.success(`${info.file.name} file uploaded successfully`);\n        } else if (info.file.status === 'error') {\n          message.error(`${info.file.name} file upload failed.`);\n        }\n      },\n    };\n\n    return (\n            <Content style={{background:'#fff'}}>\n                { auth0Client.hasPermission('create:modules') &&\n                    <Space align=\"center\" theme=\"light\" style={{ padding: 0, border:0, minHeight:'1.4em' }} >\n                        <span style={{marginLeft:'1em'}}><AppstoreOutlined /> Create </span>\n                        { codeVisible ?\n                            <Tooltip title=\"Add with Name\">\n                                <Button onClick={() => setCodeVisible(false)}>Name</Button>\n                            </Tooltip>\n                            :\n                            <Tooltip title=\"Add with Template\">\n                                <Button onClick={() => setCodeVisible(true)}>{\"{JSON}\"}</Button>\n                            </Tooltip>\n                        }\n                        <Upload {...upload_props}>\n                            <Button>Upload<CloudUploadOutlined   /></Button>\n                        </Upload>\n                    </Space>\n                }\n                { !codeVisible ?\n                <Layout style={{background:'#fff', margin:'.5em 0 0 0'}}>\n                   <div className=\"list\">\n                        { auth0Client.hasPermission('create:modules') &&\n                            <ModuleForm {...props} />\n                        }\n                    </div>\n                </Layout>\n                :\n                <div className=\"list\" style={{margin:'.5em 0 0 0'}}>\n                <div className=\"component terraced\" style={{padding:0}}>\n                    <Layout style={{background:'#fff'}}>\n                        <ModuleJSONForm {...props} />\n                    </Layout>\n                </div>\n                </div>\n                }\n            </Content>\n    );\n}\n","import React, { useState, useEffect } from 'react';\nimport { Redirect } from 'react-router';\nimport { useStore } from '../Hooks'\nimport { Link } from 'react-router-dom';\nimport ModulesList from './ModulesList'\nimport ModuleForms from './ModuleForms'\nimport Module from './Module';\nimport { postAgentModule, deleteAgentModule, updateAgent, AGENT_TYPES } from '../actions/agents';\nimport { loadModules } from '../actions/modules';\nimport auth0Client from '../Auth';\nimport { Layout, Space, Button, Spin, Select, Divider } from 'antd';\nimport {\n    AppstoreOutlined,\n    SettingOutlined,\n    MinusOutlined,\n    EyeFilled,\n    LoadingOutlined\n\n} from '@ant-design/icons';\nimport 'antd/dist/antd.css';\n\nconst { Option } = Select;\nconst { Content } = Layout;\n\nexport default function AgentModules(props){\n    const [state, dispatch] = useStore();\n    const [buttonsDisabled, setButtonsDisabled] = useState(false);\n    const { agent } = props;\n    const { modules, loaded } = state.modules;\n    const [codeVisible, setCodeVisible] = useState(false);\n\n    return (\n        <Space direction=\"vertical\" style={{width:'100%', padding:'.5em 0'}}>\n            <Divider plain><AppstoreOutlined /> Modules</Divider>\n            { !agent.is_locked && auth0Client.hasPermission('update:agents') ?\n                <ModuleForms code={AGENT_TYPES[agent.type]['code']} agent={agent} />\n            : null\n            }\n            { agent.modules.length !== 0 &&\n                <ModulesList modules={agent.modules} />\n            }\n        </Space>\n    );\n\n}\n","import React, { useState } from 'react';\nimport { useStore } from '../Hooks'\nimport auth0Client from '../Auth';\nimport AgentIcon from './AgentIcon';\nimport axios from 'axios';\nimport { Layout, Menu, Space } from 'antd';\nimport { CommentOutlined, SendOutlined } from '@ant-design/icons';\nimport 'antd/dist/antd.css';\nimport '../stylesheets/App.css';\n\nconst API_URL = window.location.origin + '/api'\n\nconst { Content, Sider } = Layout;\n\nexport default function Classify(props){\n\n    const [, dispatch] = useStore();\n    const [buttonsDisabled, setButtonsDisabled] = useState(false);\n    const { uuid, type } = props;\n    const [input, setInput] = useState(\"\");\n    const [results, setResults] = useState(\"Waiting for input.\");\n\n    const handleChange = (event) => {\n        setInput(event.target.value);\n    }\n\n    const classify = (event) => {\n        event.preventDefault();\n        axios.post(`${API_URL}/classify/${uuid}`, {input: input})\n         .then((response) => {\n            setResults(JSON.stringify(response.data, null , 2));\n            setInput(\"\");\n         });\n    }\n\n    const form = () => {\n      return (\n           <form className=\"grid\" onSubmit={classify}>\n                <div className=\"component terraced\">\n                    <input name=\"input\" className=\"chat-input\" onChange={handleChange} value={input} placeholder=\"Type here.\"/>\n                    <div className=\"options\">\n                        <div onClick={classify} className=\"chat-input-send\"><SendOutlined /> </div>\n                    </div>\n                </div>\n           </form>\n      );\n    }\n\n    const page = () => {\n        return (\n            <div className=\"component\">\n                <Space align=\"center\" style={{ background:'#fff', padding: 0, height:'3.5em', border:0}}>\n                    <span style={{marginLeft:'1em'}}><AgentIcon type={1} /> Classify</span>\n                </Space>\n                <Content>\n                    <div className=\"classifier-results\" style={{marginLeft:'1rem', marginRight:'1rem'}}><pre>{results}</pre></div>\n                </Content>\n                <div className=\"footer\">\n                    {form()}\n                </div>\n            </div>\n        );\n    }\n\n    const inline = () => {\n        return (\n            <div className=\"component terraced\">\n                <div className=\"list no-margin-padding-border\">\n                    <Space align=\"center\" style={{ background:'#fff', padding: 0, height:'3.5em', border:0}}>\n                        <span style={{marginLeft:'1em'}}><AgentIcon type={1} /> Classify</span>\n                    </Space>\n                    { !results.length == 0 &&\n                        <div className=\"list\">\n                            <div className=\"component \">\n                                <div className=\"component \">\n                                    <div className=\"classifier-results\"><pre>{results}</pre></div>\n                                </div>\n                            </div>\n                        </div>\n                    }\n                    {form()}\n                </div>\n            </div>\n        );\n    }\n\n    switch(type){\n        case \"inline\":\n            return inline()\n        case \"page\" :\n        default:\n            return page()\n    }\n}\n","import React, { useState } from 'react';\nimport { useStore } from '../Hooks'\nimport {\n    deleteAgent,\n    buildAgent,\n    copyAgent,\n    setAgentMainFlag,\n    setAgentTemplateFlag,\n    setAgentLockedFlag\n} from '../actions/agents';\n\nimport AgentForm from './AgentForm';\nimport AgentModules from './AgentModules';\nimport AgentIcon from './AgentIcon';\nimport Chat from './Chat';\nimport Classify from './Classify';\nimport auth0Client from '../Auth';\nimport { Layout, Menu, Space, Button, Popconfirm, Upload, message, Row, Col } from 'antd';\nimport Tooltip from './Tooltip';\nimport {\n    HomeFilled,\n    HomeOutlined,\n    BuildFilled,\n    DeleteFilled,\n    CaretUpFilled,\n    CaretDownFilled,\n    LockFilled,\n    UnlockFilled,\n    LockOutlined,\n    UnlockOutlined,\n    LoadingOutlined,\n    CopyOutlined,\n    FileTextOutlined,\n    FileTextFilled,\n    UploadOutlined\n} from '@ant-design/icons';\n\nconst { Content } = Layout;\n\nexport default function Agent(props){\n\n    const [, dispatch] = useStore();\n    const [buttonsDisabled, setButtonsDisabled] = useState(false);\n    const {agent} = props;\n    const [detailVisibility, setDetailVisibility] = useState(false);\n    const [deleting, setDeleting] = useState(false);\n    const [settingMain, setSettingMain] = useState(false);\n    const [settingMainFlag, setSettingMainFlag] = useState(false);\n    const [settingLockFlag, setSettingLockFlag] = useState(false);\n    const [settingTemplateFlag, setSettingTemplateFlag] = useState(false);\n    const [copying, setCopying] = useState(false);\n\n    const dele = () => {\n        const callbacks = {\n            error: () => {\n                setDeleting(false);\n                setButtonsDisabled(false);\n            }\n        };\n        setDeleting(true);\n        setButtonsDisabled(true);\n        setTimeout(() => {\n            dispatch(deleteAgent(agent.uuid, callbacks));\n        }, 0);\n    }\n\n    const copy = () => {\n        const callbacks = {\n            final: () => {\n                setCopying(false);\n                setButtonsDisabled(false);\n            },\n            error: () => {\n                setCopying(false);\n                setButtonsDisabled(false);\n            }\n        };\n        setCopying(true);\n        setButtonsDisabled(true);\n        setTimeout(() => {\n            dispatch(copyAgent(agent.uuid, callbacks));\n        }, 0);\n    }\n\n    const setMainFlag = () => {\n        const callbacks = {\n            final: () => {\n                setSettingMainFlag(false);\n                setButtonsDisabled(false);\n            },\n            error: () => {\n                setSettingMainFlag(false);\n                setButtonsDisabled(false);\n            }\n        };\n        setSettingMainFlag(true);\n        setButtonsDisabled(true);\n        dispatch(setAgentMainFlag({\n            uuid: agent.uuid,\n            flag: !agent.is_main\n        }\n        , callbacks));\n    }\n\n    const setLockFlag = () => {\n        const callbacks = {\n            final: () => {\n                setSettingLockFlag(false);\n                setButtonsDisabled(false);\n            },\n            error: () => {\n                setSettingLockFlag(false);\n                setButtonsDisabled(false);\n            }\n        };\n        setSettingLockFlag(true);\n        setButtonsDisabled(true);\n        dispatch(setAgentLockedFlag({\n            uuid: agent.uuid,\n            flag: !agent.is_locked\n        }\n        , callbacks));\n    }\n\n    const setTemplateFlag = () => {\n        const callbacks = {\n            final: () => {\n                setSettingTemplateFlag(false);\n                setButtonsDisabled(false);\n            },\n            error: () => {\n                setSettingTemplateFlag(false);\n                setButtonsDisabled(false);\n            }\n        };\n        setSettingTemplateFlag(true);\n        setButtonsDisabled(true);\n        dispatch(setAgentTemplateFlag({\n            uuid: agent.uuid,\n            flag: !agent.is_template\n        }\n        , callbacks));\n    }\n\n    const interactors = () =>{\n        switch(agent.type){\n            case 1:\n                return (\n                    <Classify uuid={agent.uuid} type=\"inline\"/>\n                    );\n            case 2:\n                return (\n                    <div className=\"head\">\n                        <div className=\"list\">\n                            <Chat identifier={agent.uuid} type=\"inline\"/>\n                            <Classify uuid={agent.uuid} type=\"inline\"/>\n                        </div>\n                    </div>\n                );\n            default:\n                return null;\n        }\n    }\n\n    return (\n        <div className=\"component terraced\">\n            <div className=\"list no-margin-padding-border\">\n                <div className=\"grid no-margin-padding-border\" style={{ whiteSpace: 'nowrap'}}>\n                    <Space>\n                        {<AgentIcon type={agent.type}/>}\n                        {agent.name}\n                        { agent.is_locked &&\n                            <Tooltip title=\"Agent Locked\" overlayStyle={{borderRadius:'.5em'}}>\n                                <LockFilled />\n                            </Tooltip>\n                        }\n                        { agent.is_main &&\n                            <Tooltip title=\"Main Agent\">\n                                <HomeFilled />\n                            </Tooltip>\n                        }\n                        { agent.is_template &&\n                            <Tooltip title=\"Template\">\n                                <FileTextFilled />\n                            </Tooltip>\n                        }\n                    </Space>\n                    <Space size=\"small\">\n                        <span>&nbsp;</span>\n                        { !agent.is_locked && auth0Client.hasPermission('delete:agents') &&\n                            (deleting  ?\n                                <Tooltip title=\"Deleting Agent\">\n                                    <Button type=\"danger\" shape=\"circle\" size=\"small\" icon={ <LoadingOutlined spin /> } />\n                                </Tooltip>\n                              :\n                                <Tooltip title=\"Delete Agent\">\n                                    <Popconfirm disabled={buttonsDisabled} title=\"Confirming Delete?\" placement=\"left\" onConfirm={dele} okText=\"Confirm\" cancelText=\"Cancel\">\n                                         <Button disabled={buttonsDisabled} type=\"danger\" shape=\"circle\" size=\"small\" icon={ <DeleteFilled />} />\n                                    </Popconfirm>\n                                </Tooltip>\n                            )\n                        }\n                        { auth0Client.hasPermission('create:agents') &&\n                            (copying  ?\n                                <Tooltip title=\"Making Copy\">\n                                    <Button shape=\"circle\" size=\"small\" icon={ <LoadingOutlined spin /> } />\n                                </Tooltip>\n                              :\n                                <Tooltip title=\"Make Copy\">\n                                    <Button disabled={buttonsDisabled} shape=\"circle\" size=\"small\" onClick={copy} icon={ <CopyOutlined />} />\n                                </Tooltip>\n                            )\n                        }\n                        { auth0Client.hasPermission('lock:agents') &&\n                            (settingMainFlag ?\n                                <Tooltip title={!agent.is_main ? \"Making Main\" : \"Making Not Main\"}>\n                                    <Button shape=\"circle\" size=\"small\" icon={ <LoadingOutlined spin /> } />\n                                </Tooltip>\n                              :\n                                <Tooltip title={agent.is_main ? \"Make Not Main\" : \"Make Main\"}>\n                                    <Button disabled={buttonsDisabled} size=\"small\" shape=\"circle\" onClick={setMainFlag} icon={ agent.is_main ? <HomeFilled /> : <HomeOutlined />}/>\n                                </Tooltip>\n                            )\n                        }\n                        { auth0Client.hasPermission('lock:agents') &&\n                            (settingLockFlag ?\n                                <Tooltip title={agent.is_locked ? \"Unlocking Agent\" : \"Locking Agent\"}>\n                                    <Button shape=\"circle\" size=\"small\" icon={ <LoadingOutlined spin /> } />\n                                </Tooltip>\n                              :\n                                <Tooltip title={agent.is_locked ? \"Unlock Agent\" : \"Lock Agent\"}>\n                                    <Button disabled={buttonsDisabled} size=\"small\" shape=\"circle\" onClick={setLockFlag} icon={ agent.is_locked ? <UnlockOutlined /> : <LockOutlined />}/>\n                                </Tooltip>\n                            )\n                        }\n                        { auth0Client.hasPermission('lock:agents') &&\n                            (settingTemplateFlag ?\n                                <Tooltip title={!agent.is_template ? \"Making Template\" : \"Making Not Template\"}>\n                                    <Button shape=\"circle\" size=\"small\" icon={ <LoadingOutlined spin /> } />\n                                </Tooltip>\n                              :\n                                <Tooltip title={agent.is_template ? \"Make Not Template\" : \"Make Template\"}>\n                                    <Button disabled={buttonsDisabled} size=\"small\" shape=\"circle\" onClick={setTemplateFlag} icon={ !agent.is_template ? <FileTextFilled /> : <FileTextOutlined />}/>\n                                </Tooltip>\n                            )\n                        }\n                        { auth0Client.hasPermission('update:agents') &&\n                            ( agent.is_building ?\n                                <Tooltip title=\"Building Agent\">\n                                    <Button shape=\"circle\" size=\"small\" icon={ <LoadingOutlined spin /> } />\n                                </Tooltip>\n                              :\n                                <Tooltip title=\"Build Agent\">\n                                    <Button disabled={buttonsDisabled} shape=\"circle\" size=\"small\" onClick={() => dispatch(buildAgent(agent.uuid))} icon={<BuildFilled />}/>\n                                </Tooltip>\n                            )\n                        }\n                        <Button size=\"small\" onClick={() => setDetailVisibility(!detailVisibility)} icon={!detailVisibility ? <CaretDownFilled/> : <CaretUpFilled/>}/>\n                    </Space>\n                </div>\n                { detailVisibility && !agent.is_locked && auth0Client.hasPermission('update:agents') &&\n\n                    <Space direction=\"vertical\" style={{margin:'.5em 0'}}>\n                        <b>Name</b>\n                        <AgentForm type={agent.type} uuid={agent.uuid} name={agent.name}/>\n                        <b>Identifier</b>\n                        <div className=\"component\">{agent.uuid}</div>\n                    </Space>\n                }\n                { detailVisibility &&\n                    <Space direction=\"vertical\" style={{margin:'.5em 0'}}>\n                        <AgentModules agent={agent}/>\n                        { (agent.modules.length) ?\n                            <Classify uuid={agent.uuid} type=\"inline\"/>\n                          : null\n                        }\n                        { (agent.modules.length) && agent.type == 2 ?\n                            <Chat identifier={agent.uuid} type=\"inline\"/>\n                          : null\n                        }\n                    </Space>\n                }\n            </div>\n        </div>\n    );\n}\n","import React, { useState, useEffect } from 'react';\nimport { Redirect } from 'react-router';\nimport { useStore } from '../Hooks'\nimport { loadAgents } from '../actions/agents';\nimport Agent from './Agent';\nimport AgentForm from './AgentForm';\nimport AgentIcon from './AgentIcon';\nimport ContextHead from './ContextHead';\nimport ListOrEmpty from './ListOrEmpty';\nimport Loads from './Loads';\nimport { AGENT_TYPES } from '../actions/agents';\nimport auth0Client from '../Auth';\nimport Page from './Page';\nimport { Space } from 'antd';\n\nexport default function AgentsList(props) {\n    const {type} = props;\n    const [state, dispatch] = useStore();\n    const { loaded } = state.agents;\n    const agents = Object.values(state.agents.agents).filter(agent => type ? agent.type == type : true)\n\n    useEffect(() => {\n        if (!loaded){\n            dispatch(loadAgents());\n        }\n    },[true]);\n\n    return (\n        <Page\n            header={<ContextHead icon={<AgentIcon type={type}/>} title={ `${type ? AGENT_TYPES[type]['name'][1] : \"All Agents\"} > List` } />}>\n                <Space direction=\"vertical\" style={{width:'100%', padding:'.5em'}}>\n                { type && auth0Client.hasPermission('create:agents') &&\n                    <AgentForm type={type} />\n                }\n                <Loads loaded={loaded}>\n                    <ListOrEmpty\n                        items={agents}\n                        description={`${type ? AGENT_TYPES[type]['name'][1] : \"Agents\"} Empty`}>\n                           { agents.map((agent, key) => (\n                               <Agent key={agent.id} agent={agent} />\n                           ))}\n                    </ListOrEmpty>\n                </Loads>\n                </Space>\n        </Page>\n    );\n}\n","import React, {useState, useEffect} from 'react';\nimport { useStore } from '../Hooks'\nimport { bindAgentPushListeners } from '../actions/agents'\n\nexport default function PushListeners(props) {\n    const [state, dispatch] = useStore();\n    const {agents, loaded} = state.agents\n\n    useEffect(() => {\n        if(loaded){\n            dispatch(bindAgentPushListeners(agents))\n        }\n    },[agents]);\n\n    return (\n        <></>\n    );\n}\n","import axios from 'axios';\nimport { notification } from 'antd';\nimport { xhr } from '../XHR'\n\nimport { handleCallbacks } from '../Callbacks'\nimport auth0Client from '../Auth';\n\nexport function getTextVariations(text, callbacks={}){\n    return function(dispatch, getState){\n        const { success, error, final } = callbacks;\n        const type = 'post';\n        const endpoint = `/lexicon/variations`;\n\n        dispatch(xhr({\n            type: type,\n            endpoint: endpoint,\n            data:{text:text},\n            success : (response) => {\n                success(response)\n            },\n            errorCallback: error,\n            finalCallback: final,\n        }));\n    }\n};\n\n\n","import React, { useState, useEffect } from 'react';\nimport { useStore } from '../Hooks';\nimport { getTextVariations } from '../actions/lexicon';\nimport { Layout, Button, Drawer, Space, Select, Grid, Divider } from 'antd';\nimport { NodeExpandOutlined, LoadingOutlined, CloseOutlined, CommentOutlined } from '@ant-design/icons';\n\n\nconst { Option } = Select;\nconst { Sider } = Layout;\n\nexport default function BottomDrawerTextExpander(props) {\n    const [, dispatch] = useStore();\n    const [collapsed, setCollapsed] = useState(false);\n    const [loaded, setLoaded] = useState(false);\n    const [text, setText] = useState('');\n    const [modified, setModified] = useState(false);\n    const [variations, setVariations] = useState([]);\n    const [autoSubmit, setAutoSubmit] = useState(false);\n\n    const expand = (event=null) => {\n        if(event){\n            event.preventDefault()\n        }\n        const callbacks = {\n            success: (response) => { setVariations(response.data.results)},\n            error: () => { setVariations([]) },\n            final: () => { setLoaded(true) },\n        }\n        setLoaded(false);\n        dispatch(getTextVariations(text, callbacks));\n    };\n\n    const textChange = (event) => {\n        let nextText = event.target.value\n        nextText = nextText.replace('', '\\'').replace('', '\\'').replace(' ?', '?').replace(' .', '.').replace(' !', '!').replace(' ,', ',').replace(' \\'', '\\'').replace(' \"', '\"')\n        setText(nextText);\n        setModified((nextText !== props.text && nextText !== \"\") ? true : false);\n    }\n\n    useEffect(() => {\n        if(modified){\n            if(modified){clearTimeout(autoSubmit)}\n            setAutoSubmit(setTimeout(expand, 300))\n        }\n    },[text]);\n\n    const variationChange = (id, key, line) => {\n        let nextVariations = [...variations];\n        nextVariations[line][key][0] = variations[line][key][1][id];\n        setVariations(nextVariations);\n        let nextLines = [];\n        nextVariations.map((line, line_key) => {\n            nextLines[line_key]=[]\n            line.map(variation => {\n                nextLines[line_key].push(variation[0])\n            });\n        });\n        let nextText = nextLines.map((line, line_key) => {\n            return line.join(' ').trim()\n\n        }).join('\\n');\n        nextText = nextText.replace('', '\\'').replace('', '\\'').replace(' ?', '?').replace(' .', '.').replace(' !', '!').replace(' ,', ',').replace(' \\'', '\\'').replace(' \"', '\"')\n        setText(nextText);\n        setModified(true);\n    }\n\n    const collapse = () => {\n        setCollapsed(true);\n    };\n\n    const show = () => {\n        setCollapsed(false);\n    };\n\n    const reset = () => {\n        setText('');\n        setModified(false);\n        setVariations([]);\n    };\n\n    return (\n        <Sider\n         collapsed={collapsed}\n         defaultCollapsed={true}\n         zeroWidthTriggerStyle={{position:'fixed', right: '4.5em', background:'none', top:'-.1em'}}\n         breakpoint=\"xxl\"\n         width=\"98vw\"\n         collapsedWidth={0}\n         theme=\"light\"\n         trigger={<Button size=\"small\" shape=\"circle\" icon={<NodeExpandOutlined />} type=\"primary\" style={{}} />}\n         style={{ zIndex:'1000', position: 'fixed', bottom:'1vh', right: collapsed ? 0 : '1vw'}}\n         onCollapse={(collapsed, type) => {\n            setText('');\n            setCollapsed(collapsed);\n         }}\n         >\n            <div className=\"component terraced\" style={{minHeight:'1.4em'}}>\n            <Space direction=\"vertical\" style={{width:'100%'}}>\n                { variations.length !== 0 &&\n                <div className=\"head\" style={{borderBottom:'1px solid #ccc'}}>\n                    { variations.map((line, line_key) => (\n                        <div style={{display:'flex', flexWrap:'wrap'}}>\n                            { line.length !== 0 && line.map((word, word_key) => (\n                                word[1].length == 0\n                                    ? (\n                                        <div style={{ padding:'1px 0 0 0', margin:'0 .25em 0 0'}}> {word[0]} </div>\n                                    ) : (\n                                        <Select\n                                            bordered={false}\n                                            showArrow={false}\n                                            onChange={(id) => {variationChange(id, word_key, line_key)}}\n                                            value={word[0]}\n                                            placeholder={word[0]}\n                                            name={`name_${word_key}_${line_key}`}\n                                            size=\"small\"\n                                            dropdownMatchSelectWidth={false}\n                                            style={{borderBottom:'3px green solid', padding:0, margin:'0 .25em 0 0'}}\n                                            >\n                                            {word[1].map((_word, id) => (\n                                            <Option value={id}>{_word}</Option>\n                                            ))}\n                                        </Select>\n                                    )\n                            ))}\n                            <br/>\n                        </div>\n                    ))}\n                </div>\n                }\n                <form className=\"grid no-margin-padding-border\" onSubmit={expand}>\n                    <div className=\"component\">\n                        <textarea rows={text.split(/\\r*\\n/).length} name=\"text\" onChange={textChange} value={text} placeholder={\"Text\"}/>\n                        <div className=\"options\">\n                            <Space size=\"small\">\n                                <span>&nbsp;</span>\n                                { modified &&\n                                    <Button htmlType=\"submit\" type=\"primary\" shape=\"circle\" size=\"small\" icon={ <NodeExpandOutlined /> }  onClick={expand}/>\n                                }\n                                { modified &&\n                                    <Button type=\"danger\" shape=\"circle\" size=\"small\" onClick={reset} icon={ <CloseOutlined />} />\n                                }\n                            </Space>\n                        </div>\n                    </div>\n                </form>\n            </Space>\n        </div>\n        </Sider>\n    );\n\n}\n\n\n\n","import React, { Component } from 'react';\nimport { Route, Switch } from 'react-router-dom'\nimport { withRouter } from 'react-router';\nimport auth0Client from './Auth';\nimport Auth0Callback from './components/Auth0Callback';\nimport HomePage from './components/HomePage';\nimport Chat from './components/Chat';\nimport ModuleBuilder from './components/ModuleBuilder';\nimport AgentsList from './components/AgentsList';\nimport PushListeners from './components/PushListeners';\nimport LeftMenu from './components/LeftMenu';\nimport RightFloatingChat from './components/RightFloatingChat';\nimport BottomDrawerTextExpander from './components/BottomDrawerTextExpander';\nimport { Layout } from 'antd';\nimport 'antd/dist/antd.css';\nimport './stylesheets/App.css';\n\nconst { Content } = Layout;\n\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      checkingSession: true,\n    }\n  }\n\n  async componentDidMount() {\n    if (this.props.location.pathname === '/callback') {\n      this.setState({checkingSession:false});\n      return;\n    }\n    try {\n      await auth0Client.silentAuth();\n      this.forceUpdate();\n    } catch (err) {\n      if (err.error !== 'login_required') console.log(err.error);\n    }\n    this.setState({checkingSession:false});\n  }\n\n  render() {\n    return (\n        <div className=\"App\">\n            <PushListeners />\n            <Layout style={{ background:'#fff', height:'100vh' }}>\n                <LeftMenu/>\n                <RightFloatingChat/>\n                <BottomDrawerTextExpander/>\n                <Content>\n                    <Switch>\n                      { !this.state.checkingSession && <Route exact path='/' component={HomePage} /> }\n                      { !auth0Client.isAuthenticated() &&\n                        <Route exact path='/callback' component={Auth0Callback} />\n                      }\n                      { !this.state.checkingSession && auth0Client.isAuthenticated() &&\n                        <Route path=\"/classifiers\" render={(props) => (<AgentsList {...props} type={1} />)} />\n                      }\n                      { !this.state.checkingSession && auth0Client.isAuthenticated() &&\n                        <Route path=\"/chatbots\" render={(props) => (<AgentsList {...props} type={2} />)} />\n                      }\n                      { !this.state.checkingSession && auth0Client.isAuthenticated() &&\n                        <Route path=\"/module/:uuid\" component={ModuleBuilder}/>\n                      }\n                      { !this.state.checkingSession &&\n                        <Route path=\"/chat/:identifier\" component={Chat}/>\n                      }\n                    </Switch>\n                </Content>\n            </Layout>\n        </div>\n    );\n  }\n}\n\nexport default withRouter(App);\n","const initialState = {\n  id:null,\n  name:\"\",\n  description:\"\",\n  modules:[],\n  selected_module_id:null\n}\n\nexport default function reducer(state = initialState, action) {\n\n  switch (action.type) {\n    case 'UPDATE_AGENT':\n      return { ...state, ...action.payload }\n    case 'STORE_AGENT':\n      return { ...state, ...action.payload }\n    default:\n      return {\n        ...state\n      }\n  }\n}\n","const initialState = {\n  agents:{},\n  loaded:false\n}\n\nexport default function reducer(state = initialState, action) {\n\n    switch (action.type) {\n        case 'STORE_AGENTS':\n            return {\n            ...state,\n            agents: {...state.agents, ...action.payload},\n            loaded:true\n            }\n\n        case 'CLEAR_AGENT':\n            let agents = { ...state.agents }\n            delete agents[action.payload]\n            return {\n            ...state,\n            agents: agents\n            }\n\n        default:\n            return {\n            ...state\n            }\n    }\n\n}\n","const initialState = {\n  modules:[],\n  loaded:false\n}\n\nexport default function reducer(state = initialState, action) {\n\n  switch (action.type) {\n    case 'STORE_MODULES':\n      return {\n        ...state,\n        modules: action.payload,\n        loaded:true\n      }\n    default:\n      return {\n        ...state\n      }\n  }\n}\n","const initialState = {\n  id:null,\n  uuid:null,\n  name:\"\",\n  intents:[]\n}\n\nexport default function reducer(state = initialState, action) {\n\n  switch (action.type) {\n    case 'UPDATE_MODULE':\n      return { ...state, ...action.payload }\n    case 'STORE_MODULE':\n      return { ...state, ...action.payload }\n    case 'CLEAR_MODULE':\n      return { ...initialState }\n    default:\n      return {\n        ...state\n      }\n  }\n}\n","import { combineReducers } from 'redux'\nimport agent from './agent'\nimport agents from './agents'\nimport modules from './modules'\nimport module from './module'\n\nexport default combineReducers({\n  agents,\n  agent,\n  modules,\n  module\n})\n","import { createStore, applyMiddleware } from 'redux'\n\nimport thunk from 'redux-thunk'\nimport logger from 'redux-logger'\nimport promise from 'redux-promise-middleware'\n\nimport reducer from './reducers'\n\nconst initialState = {};\nconst middleware = applyMiddleware(promise, thunk, logger);\n\nexport default createStore(\n    reducer,\n    initialState,\n    middleware\n);\n","import React from 'react';\nimport { render } from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './App';\nimport store from './store';\nimport './stylesheets/App.css';\nimport 'antd/dist/antd.css';\n\nrender(\n  <Provider store={store}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </Provider>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}